<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-orda/data">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">CRUD Operations | Qodly Developer Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docQodly.github.io/docs/orda/data"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CRUD Operations | Qodly Developer Center"><meta data-rh="true" name="description" content="In ORDA, you access data through entities and entity selections objects. These objects allow you to execute CRUD (Create, Read, Update, Delete) basic operations on data, along with queries and sorts."><meta data-rh="true" property="og:description" content="In ORDA, you access data through entities and entity selections objects. These objects allow you to execute CRUD (Create, Read, Update, Delete) basic operations on data, along with queries and sorts."><link data-rh="true" rel="icon" href="/docs/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docQodly.github.io/docs/orda/data"><link data-rh="true" rel="alternate" href="https://docQodly.github.io/docs/orda/data" hreflang="en"><link data-rh="true" rel="alternate" href="https://docQodly.github.io/docs/orda/data" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="Qodly Developer Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="Qodly Developer Center Atom Feed"><link rel="stylesheet" href="/docs/assets/css/styles.94f11b96.css">
<link rel="preload" href="/docs/assets/js/runtime~main.6a4cc865.js" as="script">
<link rel="preload" href="/docs/assets/js/main.9740b735.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/Qodly-beta-D.png" alt="Qodly" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/Qodly-beta-W.png" alt="Qodly" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href="/docs/concepts/quickstart">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/studio/overview">Develop</a><a class="navbar__item navbar__link" href="/docs/cloud/getStarted">Run &amp; Manage</a><a class="navbar__item navbar__link" href="/docs/concepts/platform">Architecture</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/studio/overview">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/studio/model/model-editor-interface">Model</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/studio/design-webforms/create-webform">Webforms</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/studio/settings">Settings</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/studio/coding">Coding and Debugging</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/studio/roles/accessControlMechanisms">Access Control</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/orda/data-model">Programming Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/data-model">Data Model Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/orda/data">CRUD Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/queries">Queries</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/qodlyscript">QodlyScript Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;QodlyScript Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Programming Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CRUD Operations</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CRUD Operations</h1></header><p>In ORDA, you access data through <a href="/docs/orda/data-model#entity">entities</a> and <a href="/docs/orda/data-model#entity-selection">entity selections</a> objects. These objects allow you to execute CRUD (<em>Create, Read, Update, Delete</em>) basic operations on data, along with <a href="/docs/orda/queries">queries</a> and sorts.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-entity">Creating an entity<a href="#creating-an-entity" class="hash-link" aria-label="Direct link to Creating an entity" title="Direct link to Creating an entity">​</a></h2><p>There are two ways to create a new entity in a dataclass:</p><ul><li>You create an empty entity using the <code>dataclass.new()</code> function.</li><li>You create a new reference to a database record using ORDA functions such as <code>entity.next()</code> or <code>entityselection.first()</code>.</li></ul><p>At this moment, the entity is only created in memory. If you want to add it to the datastore, you must call the <code>entity.save()</code> function.</p><p>Entity attributes are directly available as properties of the entity object. For more information, please refer to <a href="#using-entity-attributes">Using entity attributes</a>.</p><p>For example, we want to create a new entity in the &quot;Employee&quot; dataclass in the current datastore with &quot;John&quot; and &quot;Dupont&quot; assigned to the firstname and name attributes:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var myEntity : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myEntity=ds.Employee.new() //Create a new object of the entity type</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myEntity.name=&quot;Dupont&quot; //assign &#x27;Dupont&#x27; to the &#x27;name&#x27; attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myEntity.firstname=&quot;John&quot; //assign &#x27;John&#x27; to the &#x27;firstname&#x27; attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myEntity.save() //save the entity</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="entities-and-references">Entities and references<a href="#entities-and-references" class="hash-link" aria-label="Direct link to Entities and references" title="Direct link to Entities and references">​</a></h2><p>An entity contains a reference to a database record. Different entities can reference the same record. Also, since an entity can be stored in an object variable, different variables can contain a reference to the same entity.</p><p>If you execute the following code:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var e1, e2 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e1=ds.Employee.get(1) //access the employee with ID 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e2=e1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e1.name=&quot;Hammer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //both variables e1 and e2 share the reference to the same entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //e2.name contains &quot;Hammer&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is illustrated by the following graphic:</p><p><img loading="lazy" src="/docs/assets/images/entityRef1-203a6f83a9991144cb06f56c08d2e900.png" width="557" height="154" class="img_ev3q"></p><p>Now if you execute:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var e1,e2 : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e1=ds.Employee.get(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e2=ds.Employee.get(1)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e1.name=&quot;Hammer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //variable e1 contains a reference to an entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //variable e2 contains another reference to another entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //e2.name contains &quot;smith&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is illustrated by the following graphic:</p><p><img loading="lazy" src="/docs/assets/images/entityRef2-fca973a8d18325f80c6ce6b4f4679ba2.png" width="553" height="147" class="img_ev3q"></p><p>Note however that entities refer to the same record. In all cases, if you call the <code>entity.save()</code> method, the record will be updated (except in <a href="#entity-locking">case of conflict</a>).</p><p>In fact, <code>e1</code> and <code>e2</code> are not the entity itself, but a reference to the entity. It means that you can pass them directly to any function or method, and it will act like a pointer. For example:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> forEach(entity,selection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    do_Capitalize(entity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And the <em>do_Capitalize</em> method is:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> declare (entity : cs.EmployeeEntity)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var name : string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> name=entity.lastname</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> if(name!=null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    name=uppercase(substring(name,1,1))+lowercase(substring(name,2))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entity.lastname=name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can handle entities like any other object and pass their references directly as <a href="/docs/language/basics/lang-parameters">parameters</a>.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>You can use as many entities as you need at the same time, there is no automatic lock on an entity (see <a href="#entity-locking">Entity locking</a>). When an entity is loaded, it uses the <a href="/docs/concepts/platform#lazy-loading">lazy loading</a> mechanism, which means that only the needed information is loaded.</p></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-entity-attributes">Using entity attributes<a href="#using-entity-attributes" class="hash-link" aria-label="Direct link to Using entity attributes" title="Direct link to Using entity attributes">​</a></h2><p>Entity attributes store or reference data and map corresponding fields in the corresponding table of the database, with regards to their <a href="/docs/language/DataClassClass#attributename"><code>kind</code></a>. Entity attributes of the <strong>storage</strong> kind can be set or get as simple properties of the entity object, while entity of the <strong>relatedEntity</strong> or <strong>relatedEntities</strong> kind will return an entity or an entity selection. Entity attributes of the <a href="/docs/orda/data-model#calculated-attributes"><strong>calculated</strong></a> and <a href="/docs/orda/data-model#alias-attributes"><strong>alias</strong></a> kind can return any value type.  </p><p>For example, to set a storage attribute:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entity=ds.Employee.get(1) //get employee attribute with ID 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> name=entity.lastname //get the employee name, e.g. &quot;Smith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entity.lastname=&quot;Jones&quot; //set the employee name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entity.save() //save the modifications</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Accessing a related attribute depends on the attribute <a href="/docs/language/DataClassClass#attributename"><code>kind</code></a>. For example, with the following structure:</p><p><img loading="lazy" src="/docs/assets/images/structure2-ad32301053452732356f2961c9569c5e.png" width="772" height="187" class="img_ev3q"></p><p>You can access data through the related object(s):</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var entity : cs.CompanyEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var entitySel : cs.ProjectSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entity=ds.Project.all().first().theClient //get the Company entity associated to the project</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> entitySel=ds.Company.all().first().companyProjects //get the selection of projects for the company</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Note that both <em>theClient</em> and <em>companyProjects</em> in the above example are primary relation attributes and represent a direct relationship between the two dataclasses. However, relation attributes can also be built upon paths through relationships at several levels, including circular references. For example, consider the following structure:</p><p><img loading="lazy" src="/docs/assets/images/structure4-df81095675e4b063ace4a65c57b55e05.png" width="861" height="691" class="img_ev3q"></p><p>Each employee can be a manager and can have a manager. To get the manager of the manager of an employee, you can simply write:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var myEmp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var manLev2 : string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> myEmp=ds.Employee.get(50)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> manLev2=myEmp.manager.manager.lastname</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="assigning-values-to-relation-attributes">Assigning values to relation attributes<a href="#assigning-values-to-relation-attributes" class="hash-link" aria-label="Direct link to Assigning values to relation attributes" title="Direct link to Assigning values to relation attributes">​</a></h2><p>In the ORDA architecture, relation attributes directly contain data related to entities:</p><ul><li>An many-to-one type relation attribute (<strong>relatedEntity</strong> kind) contains an entity</li><li>A one-to-many type relation attribute (<strong>relatedEntities</strong> kind) contains an entity selection</li></ul><p>Let&#x27;s look at the following (simplified) structure:</p><p><img loading="lazy" src="/docs/assets/images/structure5-d44de8f99aba0c44ed26294404be8b92.png" width="763" height="244" class="img_ev3q"></p><p>In this example, an entity in the &quot;Employee&quot; dataclass contains an object of type Entity in the &quot;employer&quot; attribute (or a null value). An entity in the &quot;Company&quot; dataclass contains an object of type EntitySelection in the &quot;staff&quot; attribute (or a null value).</p><p>To assign a value directly to the &quot;employer&quot; attribute, you must pass an existing entity from the &quot;Company&quot; dataclass. For example:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp=ds.Employee.new() // create an employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.lastname=&quot;Smith&quot; // assign a value to an attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.employer=ds.Company.query(&quot;name =:1&quot;,&quot;4D&quot;)[0]  //assign a company entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.save()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can also directly get the &quot;one&quot; related entity through its primary key value (number or string). For example:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp=ds.Employee.new()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.lastname=&quot;Wesson&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.employer=ds.Company.get(2)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //gets the Company entity with primary key value 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //assigns it to the employee</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.save()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is particularly useful when you are importing large amounts of data from a relational database. This type of import usually contains an &quot;ID&quot; column, which references a primary key that you can then assign to a relation attributes.</p><p>You can assign or modify the value of a &quot;one&quot; related entity attribute from the &quot;many&quot; dataclass directly through the related attribute. For example, if you want to modify the name attribute of a related Company entity of an Employee entity, you can write:</p><div class="language-code4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-code4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var emp : cs.EmployeeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp=ds.Employee.get(2) // load the Employee entity with primary key 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.employer.name=&quot;4D, Inc.&quot; //modify the name attribute of the related Company</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> emp.employer.save() //save the related attribute</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //the related entity is updated</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-an-entity-selection">Creating an entity selection<a href="#creating-an-entity-selection" class="hash-link" aria-label="Direct link to Creating an entity selection" title="Direct link to Creating an entity selection">​</a></h2><p>You can create an object of type <a href="/docs/orda/data-model#entity-selection">entity selection</a> as follows:</p><ul><li>Querying the entities <a href="/docs/language/DataClassClass#query">in a dataclass</a> or in an <a href="/docs/language/EntitySelectionClass#query">existing entity selection</a>;</li><li>Using the <a href="/docs/language/DataClassClass#all"><code>.all()</code></a> dataclass function to select all the entities in a dataclass;</li><li>Using the <a href="/docs/language/DataClassClass#newselection"><code>.newSelection()</code></a> dataclass function to create a blank entity selection;</li><li>Using the <a href="/docs/language/EntitySelectionClass#copy"><code>.copy()</code></a> function to duplicate an existing entity selection;</li><li>Using one of the various functions from the <a href="/docs/language/EntitySelectionClass">Entity selection class</a> that returns a new entity selection, such as <a href="/docs/language/EntitySelectionClass#and"><code>.and()</code></a>, <a href="/docs/language/EntitySelectionClass#minus"><code>.minus()</code></a>, <a href="/docs/language/EntitySelectionClass#slice"><code>.slice()</code></a>, etc.;</li><li>Using the <a href="/docs/language/EntityClass#getselection"><code>entity.getSelection()</code></a> function;</li><li>Using a relation attribute of kind <code>relatedEntities</code> such as <code>empSel=company.employees</code>, or a projection such as <code>empSel.name</code>.</li></ul><p>You can simultaneously create and use as many different entity selections as you want for a dataclass. Keep in mind that an entity selection only contains references to entities. Different entity selections can contain references to the same entities. </p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>An entity selection is usually unordered, but it can be ordered (see <a href="/docs/orda/data-model#ordered-or-unordered-entity-selection">Ordered or unordered entity selection</a>).</p></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-selections-and-storage-attributes">Entity selections and Storage attributes<a href="#entity-selections-and-storage-attributes" class="hash-link" aria-label="Direct link to Entity selections and Storage attributes" title="Direct link to Entity selections and Storage attributes">​</a></h3><p>All storage attributes (string, number, boolean, date) are available as properties of entity selections as well as of entities. When used in conjunction with an entity selection, a scalar attribute returns a collection of scalar values. For example:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var locals : cs.PersonSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var localEmails : collection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> locals=ds.Person.query(&quot;city = :1&quot;,&quot;San Jose&quot;) //entity selection of person</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> localEmails=locals.emailAddress //collection of email addresses (strings)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="entity-selections-and-relation-attributes">Entity selections and Relation attributes<a href="#entity-selections-and-relation-attributes" class="hash-link" aria-label="Direct link to Entity selections and Relation attributes" title="Direct link to Entity selections and Relation attributes">​</a></h3><p>In addition to the variety of ways you can query, you can also use relation attributes as properties of entity selections to return new entity selections. For example, consider the following structure: </p><p><img loading="lazy" src="/docs/assets/images/structure6-433a6af682009ee2458e680fb64bea72.png" width="1825" height="510" class="img_ev3q"></p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> var myParts : cs.PartSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var myInvoices : cs.InvoiceSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> myParts=ds.Part.query(&quot;ID &lt; 100&quot;) //Return parts with ID less than 100</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> myInvoices=myParts.invoiceItems.invoice</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //All invoices with at least one line item related to a part in myParts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The last line will return in <em>myInvoices</em> an entity selection of all invoices that have at least one invoice item related to a part in the entity selection <em>myParts</em>. When a relation attribute is used as a property of an entity selection, the result is always another entity selection, even if only one entity is returned. When a relation attribute is used as a property of an entity selection and no entities are returned, the result is an empty entity selection, not null.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="shareable-or-alterable-entity-selections">Shareable or alterable entity selections<a href="#shareable-or-alterable-entity-selections" class="hash-link" aria-label="Direct link to Shareable or alterable entity selections" title="Direct link to Shareable or alterable entity selections">​</a></h3><p>An entity selection can be <strong>shareable</strong> (readable by multiple processes, but not alterable after creation) or <strong>alterable</strong> (supports the <a href="/docs/language/EntitySelectionClass#add"><code>.add()</code></a> function, but only usable by the current process). </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h4><p>A <strong>shareable</strong> entity selection has the following characteristics:</p><ul><li>it can be stored in a shared object or shared collection, and can be passed as parameter between several processes or workers;</li><li>it can be stored in several shared objects or collections, or in a shared object or collection which already belongs to a group;</li><li>it does not allow the addition of new entities. Trying to add an entity to a shareable entity selection will trigger an error (1637 - This entity selection cannot be altered). To add an entity to a shareable entity selection, you must first transform it into a non-shareable entity selection using the <a href="/docs/language/EntitySelectionClass#copy"><code>.copy()</code></a> function, before calling <a href="/docs/language/EntitySelectionClass#add"><code>.add()</code></a>.</li></ul><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>Most entity selection functions (such as <a href="/docs/language/EntitySelectionClass#slice"><code>.slice()</code></a>, <a href="/docs/language/EntitySelectionClass#and"><code>.and()</code></a>...) support shareable entity selections since they do not need to alter the original entity selection (they return a new one). </p></div></div><p>An <strong>alterable</strong> entity selection has the following characteristics:</p><ul><li>it cannot be shared between processes, nor be stored in a shared object or collection. Trying to store a non-shareable entity selection in a shared object or collection will trigger an error (-10721 - Not supported value type in a shared object or shared collection);</li><li>it accepts the addition of new entities, i.e. it is supports the <a href="/docs/language/EntitySelectionClass#add"><code>.add()</code></a> function.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-are-they-defined">How are they defined?<a href="#how-are-they-defined" class="hash-link" aria-label="Direct link to How are they defined?" title="Direct link to How are they defined?">​</a></h4><p>The <strong>shareable</strong> or <strong>alterable</strong> nature of an entity selection is defined when the entity selection is created (it cannot be modified afterwards). You can know the nature of an entity selection using the <a href="/docs/language/EntitySelectionClass#isalterable">.isAlterable()</a> function. </p><p>A new entity selection is <strong>shareable</strong> in the following cases:</p><ul><li>the new entity selection results from an ORDA class function applied to a dataclass: <a href="/docs/language/DataClassClass#all">dataClass.all()</a>, <a href="/docs/language/DataClassClass#fromcollection">dataClass.fromCollection()</a>, <a href="/docs/language/DataClassClass#query">dataClass.query()</a>,</li><li>the new entity selection is based upon a relation <a href="/docs/language/EntityClass#attributename">entity.<em>attributeName</em></a> (e.g. &quot;company.employees&quot;) when <em>attributeName</em> is a one-to-many related attribute but the entity does not belong to an entity selection.</li><li>the new entity selection is explicitely copied as shareable with <a href="/docs/language/EntitySelectionClass#copy">entitySelection.copy()</a> (i.e. with the <code>ck shared</code> option).</li></ul><p>Example: </p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var myComp : cs.CompanyEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var employees : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">myComp=ds.Company.get(2) //myComp does not belong to an entity selection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">employees=myComp.employees //employees is shareable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A new entity selection is <strong>alterable</strong> in the following cases:</p><ul><li>the new entity selection created blank using the <a href="/docs/language/DataClassClass#newselection">dataClass.newSelection()</a> function,</li><li>the new entity selection is explicitely copied as alterable with <a href="/docs/language/EntitySelectionClass#copy">entitySelection.copy()</a> (i.e. without the <code>ck shared</code> option).</li></ul><p>Example:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var toModify : cs.CompanySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">toModify=ds.Company.all().copy() //toModify is alterable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>A new entity selection <strong>inherits</strong> from the original entity selection nature in the following cases:</p><ul><li>the new entity selection results from one of the various ORDA class functions applied to an existing entity selection (<a href="/docs/language/EntitySelectionClass#query">.query()</a>, <a href="/docs/language/EntitySelectionClass#slice">.slice()</a>, etc.) .</li><li>the new entity selection is based upon a relation:<ul><li><a href="/docs/language/EntityClass#attributename">entity.<em>attributeName</em></a> (e.g. &quot;company.employees&quot;) when <em>attributeName</em> is a one-to-many related attribute and the entity belongs to an entity selection (same nature as <a href="/docs/language/EntityClass#getselection">.getSelection()</a> entity selection),</li><li><a href="/docs/language/EntitySelectionClass#attributename">entitySelection.<em>attributeName</em></a> (e.g. &quot;employees.employer&quot;) when <em>attributeName</em> is a related attribute (same nature as the entity selection),</li><li><a href="/docs/language/EntitySelectionClass#extract">.extract()</a> when the resulting collection contains entity selections (same nature as the entity selection).</li></ul></li></ul><p>Examples:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var highSal, lowSal : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var comp, comp2 : cs.CompanySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">highSal=ds.Employee.query(&quot;salary &gt;= :1&quot;, 1000000)   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //highSal is shareable because of the query on dataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comp=highSal.employer //comp is shareable because highSal is shareable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lowSal=ds.Employee.query(&quot;salary &lt;= :1&quot;, 10000).copy() </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //lowSal is alterable because of the copy()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">comp2=lowSal.employer //comp2 is alterable because lowSal is alterable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="sharing-an-entity-selection-between-processes-example">Sharing an entity selection between processes (example)<a href="#sharing-an-entity-selection-between-processes-example" class="hash-link" aria-label="Direct link to Sharing an entity selection between processes (example)" title="Direct link to Sharing an entity selection between processes (example)">​</a></h4><p>You work with two entity selections that you want to pass to a worker process so that it can send mails to appropriate persons:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var paid,unpaid : cs.InvoicesSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//We get entity selections for paid and unpaid invoices</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">paid=ds.Invoices.query(&quot;status=:1&quot;, &quot;Paid&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">unpaid=ds.Invoices.query(&quot;status=:1&quot;, &quot;Unpaid&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//We pass entity selection references as parameters to the worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">callWorker(&quot;mailing&quot;, &quot;sendMails&quot;, paid, unpaid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>sendMails</code> method:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> declare (paid : cs.InvoicesSelection, unpaid : cs.InvoicesSelection)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var invoice : cs.InvoicesEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> var server, transporter, email, status : object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Prepare emails</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> server=newObject()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> server.host=&quot;exchange.company.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> server.user=&quot;myName@company.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> server.password=&quot;my!!password&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> transporter=smtpNewTransporter(server)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> email=newObject()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> email.from=&quot;myName@company.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  //Loops on entity selections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> forEach(invoice,paid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email.to=invoice.customer.address // email address of the customer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email.subject=&quot;Payment OK for invoice # &quot;+string(invoice.number)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status=transporter.send(email)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> forEach(invoice,unpaid)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email.to=invoice.customer.address // email address of the customer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    email.subject=&quot;Please pay invoice # &quot;+string(invoice.number)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    status=transporter.send(email)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="entity-locking">Entity Locking<a href="#entity-locking" class="hash-link" aria-label="Direct link to Entity Locking" title="Direct link to Entity Locking">​</a></h2><p>You often need to manage possible conflicts that might arise when several users or processes load and attempt to modify the same entities at the same time. Record locking is a methodology used in relational databases to avoid inconsistent updates to data. The concept is to either lock a record upon read so that no other process can update it, or alternatively, to check when saving a record to verify that some other process hasn’t modified it since it was read. The former is referred to as <strong>pessimistic record locking</strong> and it ensures that a modified record can be written at the expense of locking records to other users. The latter is referred to as <strong>optimistic record locking</strong> and it trades the guarantee of write privileges to the record for the flexibility of deciding write privileges only if the record needs to be updated. In pessimistic record locking, the record is locked even if there is no need to update it. In optimistic record locking, the validity of a record’s modification is decided at update time.</p><p>ORDA provides you with two entity locking modes:</p><ul><li>an automatic &quot;optimistic&quot; mode, suitable for most applications,</li><li>a &quot;pessimistic&quot; mode allowing you to lock entities prior to their access.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="automatic-optimistic-lock">Automatic optimistic lock<a href="#automatic-optimistic-lock" class="hash-link" aria-label="Direct link to Automatic optimistic lock" title="Direct link to Automatic optimistic lock">​</a></h3><p>This automatic mechanism is based on the concept of &quot;optimistic locking&quot; which is particularly suited to the issues of web applications. This concept is characterized by the following operating principles:</p><ul><li>All entities can always be loaded in read-write; there is no <em>a priori</em> &quot;locking&quot; of entities.</li><li>Each entity has an internal locking stamp that is incremented each time it is saved.</li><li>When a user or process tries to save an entity using the <a href="/docs/language/EntityClass#save"><code>entity.save()</code></a> function, Qodly compares the stamp value of the entity to be saved with that of the entity found in the data (in the case of a modification):<ul><li>When the values match, the entity is saved and the internal stamp value is incremented.</li><li>When the values do not match, it means that another user has modified this entity in the meantime. The save is not performed and an error is returned.</li></ul></li></ul><p>The following diagram illustrates optimistic locking:</p><ol><li>Two processes load the same entity. </li></ol><p><img loading="lazy" src="/docs/assets/images/optimisticLock1-603eea7ebac5bc6ae37ab7820d1da235.png" width="683" height="175" class="img_ev3q"></p><ol start="2"><li>The first process modifies the entity and validates the change. The <a href="/docs/language/EntityClass#save"><code>entity.save()</code></a> fucntion is called. The Qodly engine automatically compares the internal stamp value of the modified entity with that of the entity stored in the data. Since they match, the entity is saved and its stamp value is incremented. </li></ol><p><img loading="lazy" src="/docs/assets/images/optimisticLock2-0965bd181f844fdfcbfbcc114348380d.png" width="978" height="242" class="img_ev3q"></p><ol start="3"><li>The second process also modifies the loaded entity and validates its changes. The <code>entity.save()</code> function is called. Since the stamp value of the modified entity does not match the one of the entity stored in the data, the save is not performed and an error is returned. </li></ol><p><img loading="lazy" src="/docs/assets/images/optimisticLock3-9073a8e03a9ea6390d5b899d3715755e.png" width="976" height="240" class="img_ev3q"></p><p>This can also be illustrated by the following code:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> person1=ds.Person.get(1) //Reference to entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> person2=ds.Person.get(1) //Other reference to same entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> person1.name=&quot;Bill&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> result=person1.save() //result.success=true, change saved</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> person2.name=&quot;William&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> result=person2.save() //result.success=false, change not saved</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In this example, we assign to <em>person1</em> a reference to the person entity with a key of 1. Then, we assign another reference of the same entity to variable <em>person2</em>. Using <em>person1</em>, we change the first name of the person and save the entity. When we attempt to do the same thing with <em>person2</em>, ORDA checks to make sure the entity on disk is the same as when the reference in <em>person1</em> was first assigned. Since it isn&#x27;t the same, it returns false in the <code>success</code> property and doesn’t save the second modification.</p><p>When this situation occurs, you can, for example, reload the entity from the disk using the <a href="/docs/language/EntityClass#reload"><code>entity.reload()</code></a> function so that you can try to make the modification again. The <code>entity.save()</code> function also proposes an &quot;automerge&quot; option to save the entity in case processes modified attributes that were not the same.</p><blockquote><p>Record stamps are not used in <strong>transactions</strong> because only a single copy of a record exists in this context. Whatever the number of entities that reference a record, the same copy is modified thus <code>entity.save()</code> operations will never generate stamp errors.</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="pessimistic-lock">Pessimistic lock<a href="#pessimistic-lock" class="hash-link" aria-label="Direct link to Pessimistic lock" title="Direct link to Pessimistic lock">​</a></h3><p>You can lock and unlock entities on demand when accessing data. When an entity is getting locked by a process, it is loaded in read/write in this process but it is locked for all other processes. The entity can only be loaded in read-only mode in these processes; its values cannot be edited or saved.</p><p>This feature is based upon two functions of the <code>Entity</code> class:</p><ul><li><a href="/docs/language/EntityClass#lock"><code>entity.lock()</code></a></li><li><a href="/docs/language/EntityClass#unlock"><code>entity.unlock()</code></a></li></ul><p>For more information, please refer to the descriptions for these functions.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/docQodly/docs/edit/main/docs/orda/data.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/orda/data-model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Model Objects</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/orda/queries"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Queries</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#creating-an-entity" class="table-of-contents__link toc-highlight">Creating an entity</a></li><li><a href="#entities-and-references" class="table-of-contents__link toc-highlight">Entities and references</a></li><li><a href="#using-entity-attributes" class="table-of-contents__link toc-highlight">Using entity attributes</a></li><li><a href="#assigning-values-to-relation-attributes" class="table-of-contents__link toc-highlight">Assigning values to relation attributes</a></li><li><a href="#creating-an-entity-selection" class="table-of-contents__link toc-highlight">Creating an entity selection</a><ul><li><a href="#entity-selections-and-storage-attributes" class="table-of-contents__link toc-highlight">Entity selections and Storage attributes</a></li><li><a href="#entity-selections-and-relation-attributes" class="table-of-contents__link toc-highlight">Entity selections and Relation attributes</a></li><li><a href="#shareable-or-alterable-entity-selections" class="table-of-contents__link toc-highlight">Shareable or alterable entity selections</a></li></ul></li><li><a href="#entity-locking" class="table-of-contents__link toc-highlight">Entity Locking</a><ul><li><a href="#automatic-optimistic-lock" class="table-of-contents__link toc-highlight">Automatic optimistic lock</a></li><li><a href="#pessimistic-lock" class="table-of-contents__link toc-highlight">Pessimistic lock</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://qodly.com/tutorials" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorials</a></li><li class="footer__item"><a href="https://support.4d.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/notes/v1">Release Notes</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://qodly.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About Qodly</a></li><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D</a></li><li class="footer__item"><a href="mailto:contact@qodly.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us</a></li></ul></div><div class="col footer__col"><div class="footer__title">Follow Us</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://join.slack.com/t/qodly/shared_invite/zt-20ieeffts-NU57SOXcbakmWgIMnJpStQ" target="_blank" rel="noopener noreferrer" class="footer__link-item" src="slack">Slack</a></li><li class="footer__item"><a href="https://www.facebook.com/qodlyby4d" target="_blank" rel="noopener noreferrer" class="footer__link-item" src="facebook">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/qodlyby4d" target="_blank" rel="noopener noreferrer" class="footer__link-item" src="twitter">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCLNHKvjJQZ_5D1ziskba6jg" target="_blank" rel="noopener noreferrer" class="footer__link-item" src="youtube">Youtube Channels</a></li><li class="footer__item"><a href="https://linkedin.com/showcase/qodly" target="_blank" rel="noopener noreferrer" class="footer__link-item" src="linkedin">Linkedin</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.6a4cc865.js"></script>
<script src="/docs/assets/js/main.9740b735.js"></script>
</body>
</html>