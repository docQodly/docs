<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-orda/orda-classes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Data Model Classes | Qodly Developer Center</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docQodly.github.io/docs/orda/orda-classes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Data Model Classes | Qodly Developer Center"><meta data-rh="true" name="description" content="ORDA uses high-level class functions above the data model. This allows you to write business-oriented code and &quot;publish&quot; it just like an API. Datastore, dataclasses, entity selections, and entities are all available as class objects that can contain functions."><meta data-rh="true" property="og:description" content="ORDA uses high-level class functions above the data model. This allows you to write business-oriented code and &quot;publish&quot; it just like an API. Datastore, dataclasses, entity selections, and entities are all available as class objects that can contain functions."><link data-rh="true" rel="icon" href="/docs/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docQodly.github.io/docs/orda/orda-classes"><link data-rh="true" rel="alternate" href="https://docQodly.github.io/docs/orda/orda-classes" hreflang="en"><link data-rh="true" rel="alternate" href="https://docQodly.github.io/docs/orda/orda-classes" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="Qodly Developer Center RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="Qodly Developer Center Atom Feed"><link rel="stylesheet" href="/docs/assets/css/styles.6d71e679.css">
<link rel="preload" href="/docs/assets/js/runtime~main.9ca68b53.js" as="script">
<link rel="preload" href="/docs/assets/js/main.ac348db4.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/qodly-logo-dark.svg" alt="Qodly" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/qodly-logo-white.svg" alt="Qodly" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href="/docs/concepts/platform">Getting Started</a><a class="navbar__item navbar__link" href="/docs/cloud/overview-cloud">Dashboard</a><a class="navbar__item navbar__link" href="/docs/studio/overview">Studio</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/orda/overview">Programming</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/orda/overview">Programming with ORDA</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/overview">The ORDA Concept</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/data-model">Data Model Objects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/orda/orda-classes">Data Model Classes</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/data">CRUD Operations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/orda/queries">Queries</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/qodlyscript">QodlyScript Reference</a><button aria-label="Toggle the collapsible sidebar category &#x27;QodlyScript Reference&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Programming with ORDA</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Data Model Classes</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Model Classes</h1></header><p>ORDA uses high-level <a href="/docs/language/basics/lang-classes">class</a> functions above the data model. This allows you to write business-oriented code and &quot;publish&quot; it just like an API. Datastore, dataclasses, entity selections, and entities are all available as class objects that can contain functions.</p><p>For example, you could create a <code>getNextWithHigherSalary()</code> function in the <code>EmployeeEntity</code> class to return employees with a salary higher than the selected one. It would be as simple as calling:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nextHigh=ds.Employee.get(1).getNextWithHigherSalary()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Thanks to this feature, the entire business logic of your Qodly application can be stored as a independent layer so that it can be easily maintained and reused with a high level of security:</p><ul><li>You can &quot;hide&quot; the overall complexity of the underlying physical structure and only expose understandable and ready-to-use functions. </li><li>If the physical structure evolves, you can simply adapt function code and client applications will continue to call them transparently. </li><li>By default, all of your data model class functions (including <a href="#calculated-attributes">calculated attribute functions</a>) are <strong>not exposed</strong> to remote calls. You must explicitly declare each public function with the <a href="#exposed-vs-non-exposed-functions"><code>exposed</code></a> keyword.</li></ul><p><img loading="lazy" src="/docs/assets/images/functions-schema-3ca010ca9c3722923ef6d3976a00942d.png" width="748" height="526" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="architecture">Architecture<a href="#architecture" class="hash-link" aria-label="Direct link to Architecture" title="Direct link to Architecture">​</a></h2><p>ORDA provides <strong>generic classes</strong> exposed through a <strong><code>4D</code></strong> class store, as well as specific <strong>user classes</strong> (extending generic classes) exposed in the <a href="/docs/language/basics/lang-classes"><strong><code>cs</code></strong> class store</a>:</p><p><img loading="lazy" src="/docs/assets/images/ClassDiagramImage-6cbf13bbf1dca5f0656fbdfad146e86f.png" width="769" height="567" class="img_ev3q"></p><p>All ORDA data model classes are exposed as properties of the <strong><code>cs</code></strong> class store. The following ORDA classes are available:</p><table><thead><tr><th>Class</th><th>Example name</th><th>Instantiated by</th></tr></thead><tbody><tr><td>cs.DataStore</td><td>cs.DataStore</td><td><a href="/docs/language/DataStoreClass#ds"><code>ds</code></a> command</td></tr><tr><td>cs.<em>DataClassName</em></td><td>cs.Employee</td><td><a href="/docs/language/DataStoreClass#dataclassname"><code>dataStore.DataClassName</code></a>, <code>dataStore[&quot;DataClassName&quot;]</code></td></tr><tr><td>cs.<em>DataClassName</em>Entity</td><td>cs.EmployeeEntity</td><td><a href="/docs/language/DataClassClass#get"><code>dataClass.get()</code></a>, <a href="/docs/language/DataClassClass#new"><code>dataClass.new()</code></a>, <a href="/docs/language/EntitySelectionClass#first"><code>entitySelection.first()</code></a>, <a href="/docs/language/EntitySelectionClass#last"><code>entitySelection.last()</code></a>, <a href="/docs/language/EntityClass#previous"><code>entity.previous()</code></a>, <a href="/docs/language/EntityClass#next"><code>entity.next()</code></a>, <a href="/docs/language/EntityClass#first"><code>entity.first()</code></a>, <a href="/docs/language/EntityClass#last"><code>entity.last()</code></a>, <a href="/docs/language/EntityClass#clone"><code>entity.clone()</code></a></td></tr><tr><td>cs.<em>DataClassName</em>Selection</td><td>cs.EmployeeSelection</td><td><a href="/docs/language/DataClassClass#query"><code>dataClass.query()</code></a>, <a href="/docs/language/EntitySelectionClass#query"><code>entitySelection.query()</code></a>, <a href="/docs/language/DataClassClass#all"><code>dataClass.all()</code></a>, <a href="/docs/language/DataClassClass#fromcollection"><code>dataClass.fromCollection()</code></a>, <a href="/docs/language/DataClassClass#newselection"><code>dataClass.newSelection()</code></a>, <a href="/docs/language/EntitySelectionClass#drop"><code>entitySelection.drop()</code></a>, <a href="/docs/language/EntityClass#getselection"><code>entity.getSelection()</code></a>, <a href="/docs/language/EntitySelectionClass#and"><code>entitySelection.and()</code></a>, <a href="/docs/language/EntitySelectionClass#minus"><code>entitySelection.minus()</code></a>, <a href="/docs/language/EntitySelectionClass#or"><code>entitySelection.or()</code></a>, <a href="/docs/language/EntitySelectionClass#or"><code>entitySelection.orderBy()</code></a>, <a href="/docs/language/EntitySelectionClass#orderbyformula"><code>entitySelection.orderByFormula()</code></a>, <a href="/docs/language/EntitySelectionClass#slice"><code>entitySelection.slice()</code></a></td></tr></tbody></table><p>Also, object instances from ORDA data model user classes benefit from their parent&#x27;s properties and functions:</p><ul><li>a Datastore class object can call functions from the <a href="/docs/language/DataStoreClass">ORDA Datastore generic class</a>.</li><li>a Dataclass class object can call functions from the <a href="/docs/language/DataClassClass">ORDA Dataclass generic class</a>.</li><li>an Entity selection class object can call functions from the <a href="/docs/language/EntitySelectionClass">ORDA Entity selection generic class</a>.</li><li>an Entity class object can call functions from the <a href="/docs/language/EntityClass">ORDA Entity generic class</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="datastore-class">DataStore Class<a href="#datastore-class" class="hash-link" aria-label="Direct link to DataStore Class" title="Direct link to DataStore Class">​</a></h2><p>A database exposes its own DataStore class in the <code>cs</code> class store. </p><ul><li><strong>Extends</strong>: 4D.DataStoreImplementation </li><li><strong>Class name in <em>cs</em> class store</strong>: DataStore</li></ul><p>You can create functions in the DataStore class that will be available through the <code>ds</code> object. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example">Example<a href="#example" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// DataStore class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extends DataStoreImplementation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed function getDesc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  return &quot;Database exposing employees and their companies&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This function can then be called:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">desc=ds.getDesc() //&quot;Database exposing...&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="dataclass-class">DataClass Class<a href="#dataclass-class" class="hash-link" aria-label="Direct link to DataClass Class" title="Direct link to DataClass Class">​</a></h2><p>Each dataclass offers a DataClass class in the <code>cs</code> class store.</p><ul><li><strong>Extends</strong>: 4D.DataClass </li><li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em></li><li><strong>Example name</strong>: Employee</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-1">Example 1<a href="#example-1" class="hash-link" aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// Company class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extends DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns companies whose revenue is over the average</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Returns an entity selection related to the Company DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function getBestOnes() : cs.CompanySelection </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sel=this.query(&quot;revenues &gt;= :1&quot;,this.all().average(&quot;revenues&quot;))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    return sel</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can get an entity selection of the &quot;best&quot; companies by executing: </p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">    var best : cs.CompanySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    best=ds.Company.getBestOnes()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p><a href="#calculated-attributes">Calculated attributes</a> are defined in the <a href="#entity-class">Entity Class</a>. </p></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-2">Example 2<a href="#example-2" class="hash-link" aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4><p>Considering the following model (partial view):</p><p><img loading="lazy" src="/docs/assets/images/structure3-3e17368a57aab8689325a062219e53a1.png" width="445" height="167" class="img_ev3q"></p><p>Zipcodes are used as primary keys of the <em>ZipCode</em> table. The many-to-one relation attribute between <em>cityID</em> and <em>ID</em> is named <em>city</em>.</p><p>The <code>City Class</code> provides an API:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// City class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extends DataClass</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">exposed function getCityName(zipcode : integer) -&gt; result : string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    var zip : cs.ZipCodeEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    zip=ds.ZipCode.get(zipcode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result=&quot;&quot; </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (zip!=null)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        result=zip.city.name</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The application can use the API to get the city matching a zip code:</p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">city=ds.City.getCityName(zipcode)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="entityselection-class">EntitySelection Class<a href="#entityselection-class" class="hash-link" aria-label="Direct link to EntitySelection Class" title="Direct link to EntitySelection Class">​</a></h2><p>Each dataclass offers an EntitySelection class in the <code>cs</code> class store.</p><ul><li><strong>Extends</strong>: 4D.EntitySelection </li><li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em>Selection</li><li><strong>Example name</strong>: EmployeeSelection</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-3">Example<a href="#example-3" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// EmployeeSelection class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extends EntitySelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//Extract the employees with a salary greater than the average from this entity selection </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function withSalaryGreaterThanAverage() -&gt; result : cs.EmployeeSelection</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result=this.query(&quot;salary &gt; :1&quot;,this.average(&quot;salary&quot;)).orderBy(&quot;salary&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can get employees with a salary greater than the average in any entity selection by executing: </p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">moreThanAvg=ds.Company.all().employees.withSalaryGreaterThanAverage()</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="entity-class">Entity Class<a href="#entity-class" class="hash-link" aria-label="Direct link to Entity Class" title="Direct link to Entity Class">​</a></h2><p>Each dataclass offers an Entity class in the <code>cs</code> class store.</p><ul><li><strong>Extends</strong>: 4D.Entity </li><li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em>Entity</li><li><strong>Example name</strong>: CityEntity</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculated-attributes">Calculated attributes<a href="#calculated-attributes" class="hash-link" aria-label="Direct link to Calculated attributes" title="Direct link to Calculated attributes">​</a></h4><p>Entity classes allow you to define <strong>calculated attributes</strong> using specific keywords:</p><ul><li><code>function get</code> <em>attributeName</em></li><li><code>function set</code> <em>attributeName</em></li><li><code>function query</code> <em>attributeName</em></li><li><code>function orderBy</code> <em>attributeName</em></li></ul><p>For more information, please refer to the <a href="#calculated-attributes">Calculated attributes</a> section. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="example-4">Example<a href="#example-4" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h4><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">// cs.CityEntity class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">extends Entity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function getPopulation() -&gt; result : integer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    result=this.zips.sum(&quot;population&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">function isBigCity() -&gt; result : boolean</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// The getPopulation() function is usable inside the class</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">result=this.getPopulation()&gt;50000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then you can call this code: </p><div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-qs codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">var city : cs.CityEntity</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">var message : string</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">city=ds.City.getCity(&quot;Caguas&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (city.isBigCity())</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    message=city.name + &quot; is a big city&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">end</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="specific-rules">Specific rules<a href="#specific-rules" class="hash-link" aria-label="Direct link to Specific rules" title="Direct link to Specific rules">​</a></h3><p>When creating or editing data model classes, you must pay attention to the following rules:</p><ul><li>Since they are both defined in the <strong>cs</strong> <a href="/docs/orda/lang-classes.md#class-stores">class store</a>, do not give the same name to a dataclass and to a user class. If such a case occurs, the constructor of the user class becomes unusable. </li><li>Do not use a reserved name for a user class (e.g., &quot;DataClass&quot;).</li><li>In an ORDA class, <code>this</code> designates the instance of the object matching the dataclass.</li><li>You cannot instantiate a data model class object with the <code>new()</code> keyword (an error is returned). You must use a regular method as listed in the <a href="#architecture"><code>Instantiated by</code> column of the ORDA class table</a>.</li><li>You cannot override a native ORDA class function from the <strong><code>4D</code></strong> <a href="/docs/orda/Concepts/classes.md#class-stores">class store</a> with a data model user class function.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="glossary">Glossary<a href="#glossary" class="hash-link" aria-label="Direct link to Glossary" title="Direct link to Glossary">​</a></h2><p>Here is an reminder for the main concepts handled by ORDA.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="any-data-type"><em>any</em> data type<a href="#any-data-type" class="hash-link" aria-label="Direct link to any-data-type" title="Direct link to any-data-type">​</a></h4><p>In this documentation, &quot;any&quot; data type is used to designate the various type of values that can be stored within dataclass attributes. It includes:</p><ul><li>number</li><li>string</li><li>null</li><li>boolean</li><li>date</li><li>object</li><li>collection</li><li>picture(<!-- -->*<!-- -->)</li></ul><p><em>(<!-- -->*<!-- -->) picture type is not supported by statistical methods such as</em> <code>entitySelection.max( )</code>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="attribute">Attribute<a href="#attribute" class="hash-link" aria-label="Direct link to Attribute" title="Direct link to Attribute">​</a></h4><p>An attribute is the smallest storage cell in a relational database (see also <a href="#relation-attribute">Relation attribute</a>). Do not confuse dataclass attributes and entity attributes:</p><ul><li>In a dataclass object, each property is a dataclass attribute that maps to a corresponding field in the corresponding table (same name and type).</li><li>In an entity object, entity attributes are properties that contain values for the corresponding datastore attributes.</li></ul><p><em>Attributes</em> and <em>properties</em> are similar concepts. &quot;Attribute&quot; is used to designate dataclass properties that store data, while &quot;property&quot; is more generic and defines a piece of data stored within an object. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="attributepath">AttributePath<a href="#attributepath" class="hash-link" aria-label="Direct link to AttributePath" title="Direct link to AttributePath">​</a></h4><p>An attributePath is the path of an attribute inside a given dataclass or entity. See also <a href="#propertyPath">PropertyPath</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="calculated-attribute">Calculated attribute<a href="#calculated-attribute" class="hash-link" aria-label="Direct link to Calculated attribute" title="Direct link to Calculated attribute">​</a></h4><p>A calculated attribute doesn&#x27;t actually store information. Instead, it determines its value based on other values from the same entity or from other entities, attributes or functions. When a calculated attribute is referenced, the underlying &quot;calculation&quot; is evaluated to determine the value. Calculated attributes may even be assigned values where user-defined code determines what to do during the assignment.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="class-code">Class code<a href="#class-code" class="hash-link" aria-label="Direct link to Class code" title="Direct link to Class code">​</a></h4><p>Code for the user class function(s). </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="class-function">Class function<a href="#class-function" class="hash-link" aria-label="Direct link to Class function" title="Direct link to Class function">​</a></h4><p>ORDA objects such as datastores, dataclasses, entity selections, and entities, define classes of objects. They provide specific functions to directly interact with them. These functions are called class functions. Such functions are used by calling them on an instance of the object.</p><p>For example, the <code>query()</code> function is a dataclass class function. If you have stored a dataclass object in the <code>$myClass</code> variable, you can write:</p><div class="language-code4d codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-code4d codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$myClass.query(&quot;name = smith&quot;)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-model-class">Data model class<a href="#data-model-class" class="hash-link" aria-label="Direct link to Data model class" title="Direct link to Data model class">​</a></h4><p>Extended class available for a data model object. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-model-object">Data model object<a href="#data-model-object" class="hash-link" aria-label="Direct link to Data model object" title="Direct link to Data model object">​</a></h4><p>Database objects available through the ORDA concept, i.e. datastore, dataclasses, entities and entity selections.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="data-model-function">Data model function<a href="#data-model-function" class="hash-link" aria-label="Direct link to Data model function" title="Direct link to Data model function">​</a></h4><p>Function of an ORDA data model class.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dataclass">Dataclass<a href="#dataclass" class="hash-link" aria-label="Direct link to Dataclass" title="Direct link to Dataclass">​</a></h4><p>A dataclass is an object model that describes the data. Tables in the database provided by the datastore are handled through dataclasses. Each table in the database provided by the datastore has a corresponding dataclass with the same name. Each field of the table is an attribute of the dataclass.</p><p>A dataclass is related to a single datastore.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="dataclass-class-1">DataClass class<a href="#dataclass-class-1" class="hash-link" aria-label="Direct link to DataClass class" title="Direct link to DataClass class">​</a></h4><p>Class for specific dataclass objects, in which you can add custom functions. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="datastore">Datastore<a href="#datastore" class="hash-link" aria-label="Direct link to Datastore" title="Direct link to Datastore">​</a></h4><p>A datastore is the interface object provided by ORDA to reference a model and access its data. The model, returned by the <code>ds</code> command, is available as a datastore (the main datastore).</p><p>A datastore provides:</p><ul><li>a connection to a database</li><li>a set of dataclasses to work with the database</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="datastore-class-1">DataStore class<a href="#datastore-class-1" class="hash-link" aria-label="Direct link to DataStore class" title="Direct link to DataStore class">​</a></h4><p>Class for datastore objects, in which you can add custom functions. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="datastoreimplementation">DataStoreImplementation<a href="#datastoreimplementation" class="hash-link" aria-label="Direct link to DataStoreImplementation" title="Direct link to DataStoreImplementation">​</a></h4><p>Internal name of the generic DataStore class in the <code>4D</code> class store.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="deep-copy">Deep copy<a href="#deep-copy" class="hash-link" aria-label="Direct link to Deep copy" title="Direct link to Deep copy">​</a></h4><p>A deep copy duplicates an object and all the references it contains. After a deep copy, a copied collection contains duplicated elements and thus, new references, of all of the orginal elements. See also <a href="#shallow-copy">Shallow copy</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ds">ds<a href="#ds" class="hash-link" aria-label="Direct link to ds" title="Direct link to ds">​</a></h4><p><code>ds</code> is the language command that returns a <a href="/docs/orda/dsMapping.md#datastore">datastore</a> object reference. It matches the datastore available upon the Qodly database.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="entity">Entity<a href="#entity" class="hash-link" aria-label="Direct link to Entity" title="Direct link to Entity">​</a></h4><p>An entity is an object that corresponds to a dataclass model. An entity contains the same attributes as the dataclass.</p><p>An entity can be seen as an instance of the dataclass, like a record of the table matching the dataclass in its associated datastore. However, an entity also contains related data. The purpose of the entity is to manage data (create, update, delete).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="entity-selection">Entity selection<a href="#entity-selection" class="hash-link" aria-label="Direct link to Entity selection" title="Direct link to Entity selection">​</a></h4><p>An entity selection is an object. When querying the datastore, an entity selection is returned. An entity selection is a set of references to entities related to the same dataclass.</p><p>An entity selection contains:</p><ul><li>a set of 0 to X entity references,</li><li>a length property (always),</li><li>queryPlan and queryPath properties (if asked while querying).</li></ul><p>An entity selection can also be empty.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="function">Function<a href="#function" class="hash-link" aria-label="Direct link to Function" title="Direct link to Function">​</a></h4><p>See <a href="#class-function">Class function</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="generic-class">Generic class<a href="#generic-class" class="hash-link" aria-label="Direct link to Generic class" title="Direct link to Generic class">​</a></h4><p>Built-in class for ORDA objects such as entities, or dataclasses. Functions and properties of generic classes are automatically available in user extended classes, e.g. <code>EmployeeEntity</code>. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="lazy-loading">Lazy loading<a href="#lazy-loading" class="hash-link" aria-label="Direct link to Lazy loading" title="Direct link to Lazy loading">​</a></h4><p>Since entities are managed as references, data is loaded only when necessary, i.e. when accessing it in the code or through interface widgets. This optimization principle is called lazy loading.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="main-datastore">Main datastore<a href="#main-datastore" class="hash-link" aria-label="Direct link to Main datastore" title="Direct link to Main datastore">​</a></h4><p>The Datastore object matching the opened Qodly database (standalone or client/server). The main datastore is returned by the <code>ds</code> command. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="optimistic-lock">Optimistic Lock<a href="#optimistic-lock" class="hash-link" aria-label="Direct link to Optimistic Lock" title="Direct link to Optimistic Lock">​</a></h4><p>In &quot;optimistic lock&quot; mode, entities are not locked explicitly before updating them. Each entity has an internal stamp that is automatically incremented each time the entity is saved on disk. The entity.save( ) or entity.drop( ) methods will return an error if the stamp of the loaded entity (in memory) and the stamp of the entity on disk do not match, or if the entity has been dropped. Optimistic locking is only available in ORDA implementation. See also &quot;Pessimistic lock&quot;.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="orda">ORDA<a href="#orda" class="hash-link" aria-label="Direct link to ORDA" title="Direct link to ORDA">​</a></h4><p>Object Relational Data Access. See <a href="/docs/orda/overview">What is ORDA?</a></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="pessimistic-lock">Pessimistic Lock<a href="#pessimistic-lock" class="hash-link" aria-label="Direct link to Pessimistic Lock" title="Direct link to Pessimistic Lock">​</a></h4><p>A &quot;pessimistic lock&quot; means that an entity is locked prior to its being accessed, using the <code>entity.lock()</code> function. Other processes can neither update nor drop the entity until it is unlocked. See also <a href="#optimistic-lock">Optimistic lock</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="property">Property<a href="#property" class="hash-link" aria-label="Direct link to Property" title="Direct link to Property">​</a></h4><p>See <a href="#attribute">Attribute</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="propertypath">PropertyPath<a href="#propertypath" class="hash-link" aria-label="Direct link to PropertyPath" title="Direct link to PropertyPath">​</a></h4><p>A propertyPath is the path to a property in a given object. If the property is nested in several levels, each level separated is by a dot (&quot;.&quot;).</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="regular-class">Regular class<a href="#regular-class" class="hash-link" aria-label="Direct link to Regular class" title="Direct link to Regular class">​</a></h4><p>User class not related to an ORDA object.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="related-dataclass">Related dataclass<a href="#related-dataclass" class="hash-link" aria-label="Direct link to Related dataclass" title="Direct link to Related dataclass">​</a></h4><p>These are dataclasses linked by relation attributes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="relation-attribute">Relation attribute<a href="#relation-attribute" class="hash-link" aria-label="Direct link to Relation attribute" title="Direct link to Relation attribute">​</a></h4><p>Relation attributes are used to conceptualize relations between dataclasses (many-to-one and one-to-many).</p><ul><li>Many-to-one relation (dataclassA references an occurrence of dataclassB): a relation attribute is available in dataclassA and references one instance of dataclassB.</li><li>One-to-many relation (an occurence of dataclassB references several occurrences of dataclassA): a relation attribute is available in dataclassB and references several instances of dataclassA.</li></ul><p>A dataclass can have recursive relation attributes.</p><p>In an entity, the value of a relation attribute can be an entity or an entity selection.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="related-entities">Related entities<a href="#related-entities" class="hash-link" aria-label="Direct link to Related entities" title="Direct link to Related entities">​</a></h4><p>A related entity can be seen as the instance of a relation attribute in a dataclass.</p><p>Entity selections may refer to related entities according to the relation attributes defined in the corresponding dataclasses.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="session">Session<a href="#session" class="hash-link" aria-label="Direct link to Session" title="Direct link to Session">​</a></h4><p>When a user connects to a Qodly application, a Session object is created on the Server (HTTP). A session cookie is generated. </p><p>Each Session object provides a <code>.storage</code> property which is a shared object. Privileges are associated to user sessions. </p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="shallow-copy">Shallow copy<a href="#shallow-copy" class="hash-link" aria-label="Direct link to Shallow copy" title="Direct link to Shallow copy">​</a></h4><p>A shallow copy only duplicates the structure of elements, and keeps the same internal references. After a shallow copy, two collections will both share the individual elements. See also <a href="#deep-copy">Deep copy</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="stamp">Stamp<a href="#stamp" class="hash-link" aria-label="Direct link to Stamp" title="Direct link to Stamp">​</a></h4><p>Used in &quot;optimistic&quot; locking technology. All entities have an internal counter, the stamp, which is incremented each time the entity is saved. By automatically comparing stamps between an entity being saved and its version stored on disk, ORDA can prevent concurrent modifications on the same entities.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="storage-attribute">Storage attribute<a href="#storage-attribute" class="hash-link" aria-label="Direct link to Storage attribute" title="Direct link to Storage attribute">​</a></h4><p>A storage attribute (sometimes referred to as a scalar attribute) is the most basic type of attribute in a datastore class and most directly corresponds to a field in a relational database. A storage attribute holds a single value for each entity in the class.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/docQodly/docs/edit/main/docs/orda/orda-classes.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/orda/data-model"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data Model Objects</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/orda/data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CRUD Operations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#datastore-class" class="table-of-contents__link toc-highlight">DataStore Class</a></li><li><a href="#dataclass-class" class="table-of-contents__link toc-highlight">DataClass Class</a></li><li><a href="#entityselection-class" class="table-of-contents__link toc-highlight">EntitySelection Class</a></li><li><a href="#entity-class" class="table-of-contents__link toc-highlight">Entity Class</a><ul><li><a href="#specific-rules" class="table-of-contents__link toc-highlight">Specific rules</a></li></ul></li><li><a href="#glossary" class="table-of-contents__link toc-highlight">Glossary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://blog.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Blog</a></li><li class="footer__item"><a href="https://discuss.4d.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Forum</a></li><li class="footer__item"><a href="https://www.facebook.com/4Dsoftware/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook</a></li><li class="footer__item"><a href="https://twitter.com/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://www.youtube.com/user/4Dsoftware" target="_blank" rel="noopener noreferrer" class="footer__link-item">Youtube</a></li><li class="footer__item"><a href="https://github.com/4D/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li></ul></div><div class="col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://developer.4d.com/docs/" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Documentation</a></li><li class="footer__item"><a href="https://doc.4d.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D Doc Center (Legacy)</a></li><li class="footer__item"><a href="http://kb.4d.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Knowledge Base</a></li><li class="footer__item"><a href="https://us.4d.com/product-download" target="_blank" rel="noopener noreferrer" class="footer__link-item">Downloads</a></li><li class="footer__item"><a href="https://us.4d.com/resources" target="_blank" rel="noopener noreferrer" class="footer__link-item">Resources</a></li><li class="footer__item"><a href="https://us.4d.com/4d-technical-support" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Company</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://us.4d.com/about-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">About 4D</a></li><li class="footer__item"><a href="https://us.4d.com/contact-us" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact us</a></li><li class="footer__item"><a href="https://us.4d.com/4d-around-the-world" target="_blank" rel="noopener noreferrer" class="footer__link-item">4D around the world</a></li><li class="footer__item"><a href="https://us.4d.com/careers" target="_blank" rel="noopener noreferrer" class="footer__link-item">Careers</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 4D SAS - All rights reserved</div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.9ca68b53.js"></script>
<script src="/docs/assets/js/main.ac348db4.js"></script>
</body>
</html>