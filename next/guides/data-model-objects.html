<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-orda/data-model" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>Data Model Objects | Qodly Documentation</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=robots content="noindex, nofollow"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docqodly.github.io/docs/next/guides/data-model-objects><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=keywords content="qodly documentation,qodly doc,documentation qodly,doc qodly,qodly Developer,qodly guide,qodly tutorial,qodly low-code development"><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="Data Model Objects | Qodly Documentation"><meta data-rh=true name=description content="The ORDA Concept"><meta data-rh=true property=og:description content="The ORDA Concept"><link data-rh=true rel=icon href=/docs/img/favicon.svg><link data-rh=true rel=canonical href=https://docqodly.github.io/docs/next/guides/data-model-objects><link data-rh=true rel=alternate href=https://docqodly.github.io/docs/next/guides/data-model-objects hreflang=en><link data-rh=true rel=alternate href=https://docqodly.github.io/docs/next/guides/data-model-objects hreflang=x-default><link rel=stylesheet href=/docs/assets/css/styles.a5819fa1.css><script src=/docs/assets/js/main.676be048.js defer></script><script src=/docs/assets/js/runtime~main.86ee93be.js defer></script><body class=navigation-with-keyboard data-theme=light><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/qodly-light-version.svg alt=Qodly class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/qodly-dark-version.svg alt=Qodly class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href=/docs/next/get-started/quickstart>Getting Started</a><a class="navbar__item navbar__link" href=/docs/next/studio/overview>Develop</a><a class="navbar__item navbar__link" href=/docs/next/cloud/consoleOverview>Run & Manage</a><a class="navbar__item navbar__link" href=/docs/next/api/overview>Integrations</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/next/guides/data-model-objects>Guides</a><a class="navbar__item navbar__link" href=/docs/next/faq>FAQ</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/next/guides/data-model-objects>Next</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/next/guides/data-model-objects>Next</a><li><a class=dropdown__link href=/docs/guides/data-model-objects>1.1.0</a><li><a class=dropdown__link href=/docs/1.0.0/guides/data-model-objects>1.0.0</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=dsla-search-wrapper><div class=dsla-search-field data-tags=default,docs-default-current></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role=button aria-expanded=true href=/docs/next/guides/data-model-objects>Programming Guide</a></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/next/guides/data-model-objects>Data Model Objects</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/guides/crud-operations>CRUD Operations</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/guides/queries>Queries</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/guides/user-sessions>User sessions</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/guides/creating-a-login-page-for-public-access>Creating a login page for public access</a></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is unreleased documentation for <!-- -->Qodly Documentation<!-- --> <b>Next</b> version.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/guides/data-model-objects>latest version</a></b> (<!-- -->1.1.0<!-- -->).</div></div><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li class=breadcrumbs__item><span class=breadcrumbs__link>Programming Guide</span><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>Data Model Objects</span><meta itemprop=position content=2></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Data Model Objects</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id=the-orda-concept>The ORDA Concept<a href=#the-orda-concept class=hash-link aria-label="Direct link to The ORDA Concept" title="Direct link to The ORDA Concept">​</a></h2>
<p>ORDA stands for <strong>Object Relational Data Access</strong>. It is an enhanced technology allowing to access both the model and the data of a database through objects.</p>
<p>Relations are transparently included in the concept, in combination with <a href=/docs/next/faq#qodly-server>lazy loading</a>, to remove all the typical hassles of data selection or transfer from the developer. With ORDA, data is accessed through an abstraction layer, the <a href=#datastore>datastore</a>. A datastore is an object that provides an interface to the database model and data through objects and classes. For example, a table is mapped to a <a href=#dataclass>dataclass</a> object, a field is an <a href=#attributes>attribute</a> of a dataclass, and records are accessed through <a href=/docs/next/guides/data-model-objects#entity>entities</a> and <a href=/docs/next/guides/data-model-objects#entity-selection>entity selections</a>.</p>
<p>A query returns a list of entities called an entity selection, which fulfills the role of a SQL query’s row set. The difference is that each entity "knows" where it belongs in the data model and "understands" its relationship to all other entities. This means that a developer does not need to explain in a query how to relate the various pieces of information, nor in an update how to write modified values back to the relational structure.</p>
<p>Basically, ORDA handles objects. In ORDA, all main concepts, including the datastore itself, are available through objects. The datastore is automatically mapped upon the underlying database structure.</p>
<p>ORDA objects can be handled like standard objects, but they automatically benefit from specific properties and methods. ORDA objects are created and instanciated when necessary (you do not need to create them). However, ORDA data model objects are associated with classes where you can add custom functions and define <a href=#calculated-attributes-1>calculated attributes</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=database-as-objects>Database as Objects<a href=#database-as-objects class=hash-link aria-label="Direct link to Database as Objects" title="Direct link to Database as Objects">​</a></h3>
<p>The <a href=#the-orda-concept>ORDA technology</a> is based upon an automatic mapping of an underlying relational database structure to a data model (this concept can be viewed as an included and enhanced <a href=https://en.wikipedia.org/wiki/Object%E2%80%93relational_mapping target=_blank rel="noopener noreferrer">ORM</a>), along with powerful features such as calculated attributes or dataclass functions. It also provides <a href=/docs/next/guides/crud-operations>access to data</a> through entity and entity selection objects.</p>
<p>As a result, ORDA exposes the whole database as a set of data model objects, including <strong>model objects</strong> as well as <strong>data objects</strong>.</p>
<p><img decoding=async loading=lazy alt=schema src=/docs/assets/images/orda-schema4-2a9a7ff903e464dd28c62c59eadcd4a8.png width=1866 height=1554 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=objects-have-classes>Objects have Classes<a href=#objects-have-classes class=hash-link aria-label="Direct link to Objects have Classes" title="Direct link to Objects have Classes">​</a></h3>
<p>With ORDA, you can declare and use high-level <a href=/docs/next/language/basics/lang-classes#function>user class functions</a> above the data model. This allows you to write business-oriented code and "publish" it just like an API. Datastore, dataclasses, entity selections, and entities are all available as class objects that can contain functions.</p>
<p>For example, you could create a <code>getNextWithHigherSalary()</code> function in the <code>EmployeeEntity</code> class to return employees with a salary higher than the selected one. It would be as simple as calling:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">nextHigh=ds.Employee.get(1).getNextWithHigherSalary()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Thanks to this feature, the entire business logic of your Qodly application can be stored as a independent layer so that it can be easily maintained and reused with a high level of security:</p>
<ul>
<li>You can "hide" the overall complexity of the underlying physical structure and only expose understandable and ready-to-use functions.</li>
<li>If the physical structure evolves, you can simply adapt function code and client applications will continue to call them transparently.</li>
<li>By default, all of your data model class functions (including <a href=#calculated-attributes>calculated attribute functions</a>) are <strong>not exposed</strong> to remote calls. You must explicitly declare each public function with the <a href=#exposed-vs-non-exposed-functions><code>exposed</code></a> keyword.</li>
</ul>
<p><img decoding=async loading=lazy src=/docs/assets/images/functions-schema-0a9572cde6d2d6a6269f531ec70d170b.png width=1909 height=1403 class=img_ev3q></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=class-architecture>Class Architecture<a href=#class-architecture class=hash-link aria-label="Direct link to Class Architecture" title="Direct link to Class Architecture">​</a></h3>
<p>ORDA provides <strong>generic classes</strong> exposed through a <strong><code>4D</code></strong> class store, as well as specific <strong>user classes</strong> (extending generic classes) exposed in the <a href=/docs/next/language/basics/lang-classes><strong><code>cs</code></strong> class store</a>:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/ClassDiagramImage-2d2ed21a21e2b75a91ace996b108eca6.png width=1921 height=971 class=img_ev3q></p>
<p>All ORDA data model classes are exposed as properties of the <strong><code>cs</code></strong> class store. The following ORDA classes are available:</p>
<table><thead><tr><th>Class<th>Example name<th>Instantiated by<tbody><tr><td>cs.DataStore<td>cs.DataStore<td><a href=/docs/next/language/commands/ds><code>ds</code></a> command<tr><td>cs.<em>DataClassName</em><td>cs.Employee<td><a href=/docs/next/language/DataStoreClass#dataclassname><code>dataStore.DataClassName</code></a>, <code>dataStore["DataClassName"]</code><tr><td>cs.<em>DataClassName</em>Entity<td>cs.EmployeeEntity<td><a href=/docs/next/language/DataClassClass#get><code>dataClass.get()</code></a>, <a href=/docs/next/language/DataClassClass#new><code>dataClass.new()</code></a>, <a href=/docs/next/language/EntitySelectionClass#first><code>entitySelection.first()</code></a>, <a href=/docs/next/language/EntitySelectionClass#last><code>entitySelection.last()</code></a>, <a href=/docs/next/language/EntityClass#previous><code>entity.previous()</code></a>, <a href=/docs/next/language/EntityClass#next><code>entity.next()</code></a>, <a href=/docs/next/language/EntityClass#first><code>entity.first()</code></a>, <a href=/docs/next/language/EntityClass#last><code>entity.last()</code></a>, <a href=/docs/next/language/EntityClass#clone><code>entity.clone()</code></a><tr><td>cs.<em>DataClassName</em>Selection<td>cs.EmployeeSelection<td><a href=/docs/next/language/DataClassClass#query><code>dataClass.query()</code></a>, <a href=/docs/next/language/EntitySelectionClass#query><code>entitySelection.query()</code></a>, <a href=/docs/next/language/DataClassClass#all><code>dataClass.all()</code></a>, <a href=/docs/next/language/DataClassClass#fromcollection><code>dataClass.fromCollection()</code></a>, <a href=/docs/next/language/DataClassClass#newselection><code>dataClass.newSelection()</code></a>, <a href=/docs/next/language/EntitySelectionClass#drop><code>entitySelection.drop()</code></a>, <a href=/docs/next/language/EntityClass#getselection><code>entity.getSelection()</code></a>, <a href=/docs/next/language/EntitySelectionClass#and><code>entitySelection.and()</code></a>, <a href=/docs/next/language/EntitySelectionClass#minus><code>entitySelection.minus()</code></a>, <a href=/docs/next/language/EntitySelectionClass#or><code>entitySelection.or()</code></a>, <a href=/docs/next/language/EntitySelectionClass#or><code>entitySelection.orderBy()</code></a>, <a href=/docs/next/language/EntitySelectionClass#orderbyformula-><code>entitySelection.orderByFormula()</code></a>, <a href=/docs/next/language/EntitySelectionClass#slice><code>entitySelection.slice()</code></a></table>
<p>Also, object instances from ORDA data model user classes benefit from their parent's properties and functions:</p>
<ul>
<li>a Datastore class object can call functions from the <a href=/docs/next/language/DataStoreClass>ORDA Datastore generic class</a>.</li>
<li>a Dataclass class object can call functions from the <a href=/docs/next/language/DataClassClass>ORDA Dataclass generic class</a>.</li>
<li>an Entity selection class object can call functions from the <a href=/docs/next/language/EntitySelectionClass>ORDA Entity selection generic class</a>.</li>
<li>an Entity class object can call functions from the <a href=/docs/next/language/EntityClass>ORDA Entity generic class</a>.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=datastore>Datastore<a href=#datastore class=hash-link aria-label="Direct link to Datastore" title="Direct link to Datastore">​</a></h2>
<p>The datastore is the interface object to a database. It builds a representation of the whole database as object. A datastore is made of a <strong>model</strong> and <strong>data</strong>:</p>
<ul>
<li>The model contains and describes all the dataclasses that make up the datastore. It is independant from the underlying database itself.</li>
<li>Data refers to the information that is going to be used and stored in this model. For example, names, addresses, and birthdates of employees are pieces of data that you can work with in a datastore.</li>
</ul>
<p>When handled through the code, the datastore is an object named DataStore, returned by the <a href=/docs/next/language/commands/ds><code>ds</code></a> command, whose properties are all of the <a href=#dataclass>dataclasses</a> which have been specifically <strong>exposed</strong>.</p>
<p>The DataStore object itself cannot be copied as an object:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">mydatastore=objectCopy(ds) //returns null</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The datastore properties are however enumerable:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var names : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> names=objectKeys(ds)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //names contains the names of all the dataclasses</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=datastoreimplementation-class>DataStoreImplementation Class<a href=#datastoreimplementation-class class=hash-link aria-label="Direct link to DataStoreImplementation Class" title="Direct link to DataStoreImplementation Class">​</a></h3>
<p>A database exposes its own DataStoreImplementation class, named DataStore, in the <code>cs</code> class store.</p>
<ul>
<li><strong>Extends</strong>: 4D.DataStoreImplementation</li>
<li><strong>Class name in <em>cs</em> class store</strong>: DataStore</li>
</ul>
<p>You create functions in the DataStore class that will be available through the <code>ds</code> object, from any context of the application.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example>Example<a href=#example class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// DataStore class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends DataStoreImplementation</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed function getDesc</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  return "Database exposing employees and their companies"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This function can then be called:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">desc=ds.getDesc() //"Database exposing..."</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=dataclass>Dataclass<a href=#dataclass class=hash-link aria-label="Direct link to Dataclass" title="Direct link to Dataclass">​</a></h2>
<p>A dataclass is the equivalent of a database table. It is used as an object model and references all fields as attributes, including relational attributes (attributes built upon relations between dataclasses) as well as calculated and alias attributes. Relational, computed and alias attributes can be used in queries like any other attribute.</p>
<p>All dataclasses in a Qodly project are available as a property of the <code>ds</code> datastore. The <strong>Expose as REST resource</strong> option must be selected at the model level for each dataclass that you want to be called from the Web.</p>
<p>For example, consider the following database table:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/structure-799a678d27662abcc225a6e8bb9c8acb.png width=332 height=276 class=img_ev3q></p>
<p>The <code>Company</code> <a href=#dataclass>dataclass</a> is available in the <code>ds</code> datastore. You can write:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var compClass : cs.Company //declares a compClass object variable of the Company class</span><br></span><span class=token-line style=color:#393A34><span class="token plain">compClass=ds.Company //assigns the Company dataclass reference to compClass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The dataclass offers an abstraction of the physical database and allows handling a conceptual data model with specific features such as computed attributes or alias attributes.</p>
<p>A dataclass object can contain:</p>
<ul>
<li>storage attributes</li>
<li>relation attributes</li>
<li>computed attributes</li>
<li>alias attributes</li>
<li>functions</li>
</ul>
<p>The dataclass is the only means to query the datastore. A query is done from a single dataclass. Queries are built around attributes and relation attribute names of the dataclasses. So the relation attributes are the means to involve several linked dataclasses in a query.</p>
<p>The dataclass object itself cannot be copied as an object:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">mydataclass=objectCopy(ds.Employee) //returns null</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The dataclass properties are however enumerable:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var names : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> names=objectKeys(ds.Employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//names contains the names of all the dataclass attributes</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=dataclass-class>DataClass Class<a href=#dataclass-class class=hash-link aria-label="Direct link to DataClass Class" title="Direct link to DataClass Class">​</a></h3>
<p>Each dataclass offers a DataClass class in the <code>cs</code> class store.</p>
<ul>
<li><strong>Extends</strong>: 4D.DataClass</li>
<li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em></li>
<li><strong>Example name</strong>: Employee</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1>Example 1<a href=#example-1 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// Company class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Returns companies whose revenue is over the average</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// Returns an entity selection related to the Company DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function getBestOnes() : cs.CompanySelection </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	sel=this.query("revenues >= :1",this.all().average("revenues"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return sel</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Then you can get an entity selection of the "best" companies by executing:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">	var best : cs.CompanySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	best=ds.Company.getBestOnes()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p><a href=#calculated-attributes>Calculated attributes</a> are defined in the <a href=#entity-class>Entity Class</a>.</div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2>Example 2<a href=#example-2 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>Considering the following model (partial view):</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/structure3-5f4e33d7e7dc9624d30de98cc18a55df.png width=1543 height=554 class=img_ev3q></p>
<p>Zipcodes are used as primary keys of the <em>ZipCode</em> table. The many-to-one relation attribute between <em>cityID</em> and <em>ID</em> is named <em>city</em>.</p>
<p>The <code>City Class</code> provides an API:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// City class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed function getCityName(zipcode : integer) -> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var zip : cs.ZipCodeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	zip=ds.ZipCode.get(zipcode)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	result="" </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	if (zip!=null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		result=zip.city.name</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The application can use the API to get the city matching a zip code:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">city=ds.City.getCityName(zipcode)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=entity>Entity<a href=#entity class=hash-link aria-label="Direct link to Entity" title="Direct link to Entity">​</a></h2>
<p>An entity is the equivalent of a record. It is actually an object that references a record in the database. It can be seen as an instance of a <a href=#dataclass>dataclass</a>, like a record of the table matching the dataclass.</p>
<p>However, an entity also contains data correlated to the datastore. The purpose of the entity is to manage data (create, read, update, delete). When an entity reference is obtained by means of an entity selection, it also retains information about the entity selection which allows iteration through the selection.</p>
<p>For example, to create an entity:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var status : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity //declares a variable of the EmployeeEntity class type</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee=ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.firstName="Mary"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.lastName="Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> status=employee.save()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The entity object itself cannot be copied as an object:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> myentity=objectCopy(ds.Employee.get(1)) //returns null</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The entity properties are however enumerable:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var names : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> names=objectKeys(ds.Employee.get(1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //names contains the names of all the entity attributes</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=entity-class>Entity Class<a href=#entity-class class=hash-link aria-label="Direct link to Entity Class" title="Direct link to Entity Class">​</a></h3>
<p>Each dataclass offers an Entity class in the <code>cs</code> class store.</p>
<ul>
<li><strong>Extends</strong>: 4D.Entity</li>
<li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em>Entity</li>
<li><strong>Example name</strong>: CityEntity</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=calculated-attributes>Calculated attributes<a href=#calculated-attributes class=hash-link aria-label="Direct link to Calculated attributes" title="Direct link to Calculated attributes">​</a></h4>
<p>Entity classes allow you to define <strong>calculated attributes</strong> using specific keywords:</p>
<ul>
<li><code>function get</code> <em>attributeName</em></li>
<li><code>function set</code> <em>attributeName</em></li>
<li><code>function query</code> <em>attributeName</em></li>
<li><code>function orderBy</code> <em>attributeName</em></li>
</ul>
<p>For more information, please refer to the <a href=#calculated-attributes-1>Calculated attributes</a> section below.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-3>Example<a href=#example-3 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// cs.CityEntity class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function getPopulation() -> result : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    result=this.zips.sum("population")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function isBigCity() -> result : boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// The getPopulation() function is usable inside the class</span><br></span><span class=token-line style=color:#393A34><span class="token plain">result=this.getPopulation()>50000</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Then you can call this code:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var city : cs.CityEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var message : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">city=ds.City.getCity("Caguas")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">if (city.isBigCity())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	message=city.name + " is a big city"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=entity-selection>Entity selection<a href=#entity-selection class=hash-link aria-label="Direct link to Entity selection" title="Direct link to Entity selection">​</a></h2>
<p>An entity selection is an object containing one or more reference(s) to entities belonging to the same dataclass. It is usually created as a result of a query or returned from a relation attribute. An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass.</p>
<p>Example:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var e : cs.EmployeeSelection //declares a e object variable of the EmployeeSelection class type</span><br></span><span class=token-line style=color:#393A34><span class="token plain">e=ds.Employee.all() //assigns the resulting entity selection reference to the e variable</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The entity selection object itself cannot be copied as an object:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> myentitysel=objectCopy(ds.Employee.all()) //returns null</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The entity selection properties are however enumerable:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var names : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> names=objectKeys(ds.Employee.all())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //names contains the names of the entity selection properties</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //("length", "00", "01"...)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=entityselection-class>EntitySelection Class<a href=#entityselection-class class=hash-link aria-label="Direct link to EntitySelection Class" title="Direct link to EntitySelection Class">​</a></h3>
<p>Each dataclass offers an EntitySelection class in the <code>cs</code> class store.</p>
<ul>
<li><strong>Extends</strong>: 4D.EntitySelection</li>
<li><strong>Class name in <em>cs</em> class store</strong>: <em>DataClassName</em>Selection</li>
<li><strong>Example name</strong>: EmployeeSelection</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-4>Example<a href=#example-4 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// EmployeeSelection class</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends EntitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//Extract the employees with a salary greater than the average from this entity selection </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">function withSalaryGreaterThanAverage() -> result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	result=this.query("salary > :1",this.average("salary")).orderBy("salary")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Then you can get employees with a salary greater than the average in any entity selection by executing:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">moreThanAvg=ds.Company.all().employees.withSalaryGreaterThanAverage()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=ordered-or-unordered-entity-selection>Ordered or unordered entity selection<a href=#ordered-or-unordered-entity-selection class=hash-link aria-label="Direct link to Ordered or unordered entity selection" title="Direct link to Ordered or unordered entity selection">​</a></h3>
<p>For optimization reasons, by default ORDA usually creates unordered entity selections, except when you call the <a href=/docs/next/language/EntitySelectionClass#orderby><code>orderBy()</code></a> function or use specific options. In this documentation, unless specified, "entity selection" usually refers to an "unordered entity selection".</p>
<p>Ordered entity selections are created only when necessary or when specifically requested using options, i.e. in the following cases:</p>
<ul>
<li>result of an <code>orderBy()</code> on a selection (of any type)</li>
<li>result of an <code>orderByFormula()</code> on a selection (of any type)</li>
<li>result of the <code>newSelection()</code> function with the <code>dk keep ordered</code> option</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Ordered entity selections support duplicated entity references. On the other hand, when an ordered entity selection becomes an unordered entity selection, any repeated entity references are removed.</div></div>
<p>Unordered entity selections are created in all other cases, including:</p>
<ul>
<li>result of a <code>query()</code> on a selection (of any type) or a <code>query()</code> on a dataclass,</li>
<li>result of a <code>all()</code>, <code>fromCollection()</code>, or <code>newSelection()</code> (without option) function on a dataclass,</li>
<li>result of various functions from the entity selection class, whatever the input selection types: <code>or()</code>, <code>and()</code>, <code>add()</code>, <code>copy()</code>, <code>extract()</code>, <code>slice()</code>, <code>drop()</code>...</li>
<li>result of a relation such as <code>empSel=company.employees</code>, or a projection such as <code>empSel.name</code>,</li>
<li>result of an <code>entity.getSelection()</code> function.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=attributes>Attributes<a href=#attributes class=hash-link aria-label="Direct link to Attributes" title="Direct link to Attributes">​</a></h2>
<p>There is no specific class for attribute objects. Basically, dataclass properties are attribute objects describing the underlying fields or relations. For example:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var nameAttribute, revenuesAttribute : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> nameAttribute=ds.Company.name //reference to class attribute</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> revenuesAttribute=ds.Company["revenues"] //alternate way to reference</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This code assigns to <code>nameAttribute</code> and <code>revenuesAttribute</code> references to the <code>name</code> and <code>revenues</code> attributes of the <code>Company</code> dataclass. This syntax does NOT return values held inside of the attribute, but instead returns objects describing the attributes themselves, that you can handle by calling the <a href=/docs/next/language/DataClassClass#attributename>dataclass <em>attribute name</em></a>. To handle values, you need to go through <a href=#entity>Entities</a>.</p>
<p>The <strong>Expose as REST resource</strong> option must be selected at the model level for each attribute that you want to be called from the Web (by default this option is inherited from the dataclass level).</p>
<p>Dataclass attributes come in several kinds: storage, relatedEntity, relatedEntities, computed (<em>aka</em> calculated), or alias. Attributes that are scalar (<em>i.e.</em>, provide only a single value) support all the standard data types (integer, text, object, etc.).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=storage-and-relation-attributes>Storage and Relation attributes<a href=#storage-and-relation-attributes class=hash-link aria-label="Direct link to Storage and Relation attributes" title="Direct link to Storage and Relation attributes">​</a></h3>
<ul>
<li>A <strong>storage attribute</strong> is equivalent to a field in a database and can be indexed. Values assigned to a storage attribute are stored as part of the entity when it is saved. When a storage attribute is accessed, its value comes directly from the datastore. Storage attributes are the most basic building block of an entity and are defined by name and data type.</li>
<li>A <strong>relation attribute</strong> provides access to other entities. Relation attributes can result in either a single entity (or no entity) or an entity selection (0 to N entities). Relation attributes are built upon "classic" relations in the relational structure to provide direct access to related entity or related entities. Relation attributes are directy available in ORDA using their names.</li>
</ul>
<p>For example, consider the following partial model and the relation properties:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/structure2-ad32301053452732356f2961c9569c5e.png width=772 height=187 class=img_ev3q></p>
<p>All storage attributes will be automatically available:</p>
<ul>
<li>in the Project dataclass: "ID", "name", and "companyID"</li>
<li>in the Company dataclass: "ID", "name", and "discount"</li>
</ul>
<p>In addition, the following relation attributes will also be automatically available:</p>
<ul>
<li>in the Project dataclass: <strong>theClient</strong> attribute, of the "relatedEntity" kind; there is at most one Company for each Project (the client)</li>
<li>in the Company dataclass: <strong>companyProjects</strong> attribute, of the "relatedEntities" kind; for each Company there is any number of related Projects.</li>
</ul>
<p>All dataclass attributes are exposed as properties of the dataclass:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">	// Company available attributes</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Company.companyProjects  //relatedEntities</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Company.discount  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Company.ID</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Company.name</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	//Project available attributes</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Project.companyID  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Project.ID  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Project.name</span><br></span><span class=token-line style=color:#393A34><span class="token plain">ds.Project.theClient //relatedEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Keep in mind that these objects describe attributes, but do not give access to data. Reading or writing data is done through <a href=#entity>entity objects</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=alias-attributes>Alias attributes<a href=#alias-attributes class=hash-link aria-label="Direct link to Alias attributes" title="Direct link to Alias attributes">​</a></h3>
<p>An <a href=/docs/next/studio/model/attributes#alias-attributes>alias attribute</a> is built above another attribute of the data model, named target attribute. The target attribute can belong to a related dataclass (available through any number of relation levels) or to the same dataclass. An alias attribute stores no data, but the path to its target attribute. You can define as many alias attributes as you want in a dataclass.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=calculated-attributes-1>Calculated attributes<a href=#calculated-attributes-1 class=hash-link aria-label="Direct link to Calculated attributes" title="Direct link to Calculated attributes">​</a></h2>
<p><a href=/docs/next/studio/model/attributes#calculated-attributes>Calculated attributes</a> are declared using a <code>get &lt;attributeName></code> function in the <a href=#entity-class>Entity class definition</a>. Their value is not stored but evaluated each time they are accessed. They do not belong to the underlying database structure, but are usually built upon it and can be used as any attribute of the data model.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>ORDA calculated attributes are not <a href=#exposed-vs-non-exposed-functions><strong>exposed</strong></a> by default. You expose a calculated attribute by adding the <code>exposed</code> keyword to the <strong>get function</strong> definition.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=function-get-attributename><code>function get &lt;attributeName></code><a href=#function-get-attributename class=hash-link aria-label="Direct link to function-get-attributename" title="Direct link to function-get-attributename">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=syntax>Syntax<a href=#syntax class=hash-link aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">{exposed} function get &lt;attributeName>({event : object}) -> result : type</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// code</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The <em>getter</em> function is mandatory to declare the <em>attributeName</em> calculated attribute. Whenever the <em>attributeName</em> is accessed, the <code>function get</code> code is evaluated and the <em>result</em> value is returned.</p>
<blockquote>
<p>A calculated attribute can use the value of other calculated attribute(s). Recursive calls generate errors.</p>
</blockquote>
<p>The <em>getter</em> function defines the data type of the calculated attribute thanks to the <em>result</em> parameter. The following resulting types are allowed:</p>
<ul>
<li>Scalar (string, boolean, date, time, number)</li>
<li>object</li>
<li>Image</li>
<li>BLOB</li>
<li>Entity (i.e. cs.EmployeeEntity)</li>
<li>Entity selection (i.e. cs.EmployeeSelection)</li>
</ul>
<p>The <em>event</em> parameter contains the following properties:</p>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>attributeName<td>string<td>Calculated attribute name<tr><td>dataClassName<td>string<td>Dataclass name<tr><td>kind<td>string<td>"get"<tr><td>result<td>variant<td>Optional. Add this property with null value if you want a scalar attribute to return null</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=examples>Examples<a href=#examples class=hash-link aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h4>
<ul>
<li><em>fullName</em> calculated attribute:</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function get fullName(event : object)-> fullName : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  switch 	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: (this.firstName==null) & (this.lastName==null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		event.result=null //use result to return null</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: (this.firstName==null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		fullName=this.lastName</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: (this.lastName==null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		fullName=this.firstName</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">		fullName=this.firstName+" "+this.lastName</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li>A calculated attribute can be based upon an entity related attribute:</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function get bigBoss(event : object)-> result: cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	result=this.manager.manager</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li>A calculated attribute can be based upon an entity selection related attribute:</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function get coWorkers(event : object)-> result: cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (this.manager==null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result=ds.Employee.newSelection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result=this.manager.directReports.minus(this)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=function-set-attributename><code>function set &lt;attributeName></code><a href=#function-set-attributename class=hash-link aria-label="Direct link to function-set-attributename" title="Direct link to function-set-attributename">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=syntax-1>Syntax<a href=#syntax-1 class=hash-link aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function set &lt;attributeName>(value : type \{, event : object})</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// code</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The <em>setter</em> function executes whenever a value is assigned to the attribute. this function usually processes the input value(s) and the result is dispatched between one or more other attributes.</p>
<p>The <em>value</em> parameter receives the value assigned to the attribute.</p>
<p>The <em>event</em> parameter contains the following properties:</p>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>attributeName<td>string<td>Calculated attribute name<tr><td>dataClassName<td>string<td>Dataclass name<tr><td>kind<td>string<td>"set"<tr><td>value<td>variant<td>Value to be handled by the calculated attribute</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-5>Example<a href=#example-5 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function set fullName(value : string , event : object)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var p : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    p=position(" ",value) 		</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	this.firstname=substring(value, 1, p-1)  // "" if p&lt;0</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	this.lastname=substring(value, p+1)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=function-query-attributename><code>function query &lt;attributeName></code><a href=#function-query-attributename class=hash-link aria-label="Direct link to function-query-attributename" title="Direct link to function-query-attributename">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=syntax-2>Syntax<a href=#syntax-2 class=hash-link aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function query &lt;attributeName>(event : object)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">function query &lt;attributeName>(event : object) -> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">function query &lt;attributeName>(event : object) -> result : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// code</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>This function supports three syntaxes:</p>
<ul>
<li>With the first syntax, you handle the whole query through the <code>event.result</code> object property.</li>
<li>With the second and third syntaxes, the function returns a value in <em>result</em>:<!-- -->
<ul>
<li>If <em>result</em> is a string, it must be a valid query string</li>
<li>If <em>result</em> is an object, it must contain two properties:</li>
</ul>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>result.query<td>string<td>Valid query string with placeholders (:1, :2, etc.)<tr><td>result.parameters<td>collection<td>values for placeholders</table>
</li>
</ul>
<p>The <code>query</code> function executes whenever a query using the calculated attribute is launched. It is useful to customize and optimize queries by relying on indexed attributes. When the <code>query</code> function is not implemented for a calculated attribute, the search is always sequential (based upon the evaluation of all values using the <code>get &lt;AttributeName></code> function).</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>The following features are not supported:<ul>
<li>calling a <code>query</code> function on calculated attributes of type Entity or Entity selection,</li>
<li>using the <code>order by</code> keyword in the resulting query string.</li>
</ul></div></div>
<p>The <em>event</em> parameter contains the following properties:</p>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>attributeName<td>string<td>Calculated attribute name<tr><td>dataClassName<td>string<td>Dataclass name<tr><td>kind<td>string<td>"query"<tr><td>value<td>variant<td>Value to be handled by the calculated attribute<tr><td>operator<td>string<td>Query operator (see also the <a href=/docs/next/language/DataClassClass#query><code>query</code> class function</a>). Possible values:<li>>;== (equal to, @ is wildcard)</li><li>=== (equal to, @ is not wildcard)</li><li>!= (not equal to, @ is wildcard)</li><li>!== (not equal to, @ is not wildcard)</li><li>&lt; (less than)</li><li>&lt;= (less than or equal to)</li><li>> (greater than)</li><li>>= (greater than or equal to)</li><li>IN (included in)</li><li>% (contains keyword)</li><tr><td>result<td>variant<td>Value to be handled by the calculated attribute. Pass <code>null</code> in this property if you want to execute a default query (always sequential for calculated attributes).</table>
<blockquote>
<p>If the function returns a value in <em>result</em> and another value is assigned to the <code>event.result</code> property, the priority is given to <code>event.result</code>.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=examples-1>Examples<a href=#examples-1 class=hash-link aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h4>
<ul>
<li>Query on the <em>fullName</em> calculated attribute.</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function query fullName(event : object)->result : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var fullname, firstname, lastname, myQuery : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var operator, myQuery : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var p : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var parameters : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	operator=event.operator</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	fullname=event.value</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	p=position(" ",fullname) </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	if (p>0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		firstname=substring(fullname, 1, p-1)+"@"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		lastname=substring(fullname, p+1)+"@"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		parameters=newCollection(firstname, lastname) // two items collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">		fullname=fullname+"@"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		parameters=newCollection(fullname) // single item collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	switch </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: (operator=="==") | (operator=="===")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		if (p>0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="(firstName = :1 and lastName = :2) or (firstName = :2 and lastName = :1)"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="firstName = :1 or lastName = :1"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		end </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	: (operator="!=")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		if (p>0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="firstName != :1 and lastName != :2 and firstName != :2 and lastName != :1"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="firstName != :1 and lastName != :1"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		end </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	result=newObject("query", myQuery, "parameters", parameters)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<blockquote>
<p>Keep in mind that using placeholders in queries based upon user text input is recommended for security reasons (see <a href=/docs/next/language/DataClassClass#query><code>query()</code> description</a>).</p>
</blockquote>
<p>Calling code, for example:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">emps=ds.Employee.query("fullName = :1", "Flora Pionsin")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<ul>
<li>This function handles queries on the <em>age</em> calculated attribute and returns an object with parameters:</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function query age(event : object)->result : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var operator, myQuery : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var age : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	operator=event.operator</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	age=num(event.value)  // integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	d1=addToDate(currentDate, -age-1, 0, 0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	d2=addToDate(d1, 1, 0, 0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	parameters=newCollection(d1, d2)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	switch </span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		: (operator=="==")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="birthday > :1 and birthday &lt;= :2"  // after d1 and before or egal d2</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		: (operator=="===") </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="birthday = :2"  // d2 = second calculated date (= birthday date)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">		: (operator==">=")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			myQuery="birthday &lt;= :2"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			//... other operators			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">			</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end </span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	if (undefined(event.result))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		result=newObject</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		result.query=myQuery</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		result.parameters=parameters</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	end</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Calling code, for example:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// people aged between 20 and 21 years (-1 day)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">twenty=people.query("age = 20")  // calls the "==" case</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// people aged 20 years today</span><br></span><span class=token-line style=color:#393A34><span class="token plain">twentyToday=people.query("age === 20") // equivalent to people.query("age is 20") </span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=function-orderby-attributename><code>function orderBy &lt;attributeName></code><a href=#function-orderby-attributename class=hash-link aria-label="Direct link to function-orderby-attributename" title="Direct link to function-orderby-attributename">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=syntax-3>Syntax<a href=#syntax-3 class=hash-link aria-label="Direct link to Syntax" title="Direct link to Syntax">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function orderBy &lt;attributeName>(event : object)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">function orderBy &lt;attributeName>(event : object)-> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">// code</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The <code>orderBy</code> function executes whenever the calculated attribute needs to be ordered. It allows sorting the calculated attribute. For example, you can sort <em>fullName</em> on first names then last names, or conversely.
When the <code>orderBy</code> function is not implemented for a calculated attribute, the sort is always sequential (based upon the evaluation of all values using the <code>get &lt;AttributeName></code> function).</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>Calling an <code>orderBy</code> function on calculated attributes of type Entity class or Entity selection class <strong>is not supported</strong>.</div></div>
<p>The <em>event</em> parameter contains the following properties:</p>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>attributeName<td>string<td>Calculated attribute name<tr><td>dataClassName<td>string<td>Dataclass name<tr><td>kind<td>string<td>"orderBy"<tr><td>value<td>variant<td>Value to be handled by the calculated attribute<tr><td>operator<td>string<td>"desc" or "asc" (default)<tr><td>descending<td>boolean<td><code>true</code> for descending order, <code>false</code> for ascending order<tr><td>result<td>variant<td>Value to be handled by the calculated attribute. Pass <code>null</code> if you want to let Qodly execute the default sort.</table>
<blockquote>
<p>You can use either the <code>operator</code> or the <code>descending</code> property. It is essentially a matter of programming style (see examples).</p>
</blockquote>
<p>You can return the <code>orderBy</code> string either in the <code>event.result</code> object property or in the <em>result</em> function result. If the function returns a value in <em>result</em> and another value is assigned to the <code>event.result</code> property, the priority is given to <code>event.result</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-6>Example<a href=#example-6 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>You can write conditional code:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function orderBy fullName(event : object)-> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (event.descending==true)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result="firstName desc, lastName desc" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result="firstName, lastName" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You can also write compact code:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function orderBy fullName(event : object)-> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	result="firstName "+event.operator+", "lastName "+event.operator</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Conditional code is necessary in some cases:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">function orderBy age(event : object)-> result : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    if (event.descending==true)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result="birthday asc" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    else </span><br></span><span class=token-line style=color:#393A34><span class="token plain">        result="birthday desc" </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    end</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=exposed-vs-non-exposed-functions>Exposed vs non-exposed functions<a href=#exposed-vs-non-exposed-functions class=hash-link aria-label="Direct link to Exposed vs non-exposed functions" title="Direct link to Exposed vs non-exposed functions">​</a></h2>
<p>For security reasons, all of your data model class functions are <strong>not exposed</strong> (i.e., private) by default to web requests.</p>
<p>A function that is not exposed is not available from web requests and cannot be called on any object instance. You define non-exposed functions (as well as dataclasses or attributes) if you want them to be only available on the server through local code. If a web request tries to access a non-exposed function, the "-10729 - Unknown member method" error is returned.</p>
<p>To allow a data model class function to be called by a remote request, you must explicitly declare it using the <code>exposed</code> keyword. The formal syntax is:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// declare an exposed function</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed function &lt;functionName>   </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>The <code>exposed</code> keyword can only be used with Data model class functions as well as <a href=/docs/next/language/basics/lang-classes#singleton-classes>shared singleton functions</a>. If used with a <a href=/docs/next/language/basics/lang-classes>regular user class</a> function, it is ignored.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example-7>Example<a href=#example-7 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>You want an exposed function to use a private function in a dataclass class:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//Public function</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed function registerNewStudent(student : object) -> status : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">var entity : cs.StudentsEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">entity=ds.Students.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">entity.fromObject(student)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">entity.school=this.query("name=:1", student.schoolName).first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">entity.idNumber=this.computeIDNumber()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">status=entity.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//Not exposed (private) function</span><br></span><span class=token-line style=color:#393A34><span class="token plain">function computeIDNumber()-> id : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//compute a new ID number</span><br></span><span class=token-line style=color:#393A34><span class="token plain">id=...</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>When the code is called:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var student , status : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var id : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">student=newObject("firstname", "Mary", "lastname", "Smith", "schoolName", "Math school")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">status=ds.Schools.registerNewStudent(student) //can be called from a web request</span><br></span><span class=token-line style=color:#393A34><span class="token plain">// id=ds.Schools.computeIDNumber() // Error "Unknown member method" if called from a web request </span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=onhttpget-keyword>onHttpGet keyword<a href=#onhttpget-keyword class=hash-link aria-label="Direct link to onHttpGet keyword" title="Direct link to onHttpGet keyword">​</a></h2>
<p>Use the <code>onHttpGet</code> keyword to declare functions that can be called through HTTP requests using the <code>GET</code> verb. Such functions can return any web contents, for example using the <a href=/docs/next/language/OutgoingMessageClass><code>4D.OutgoingMessage</code></a> class.</p>
<p>The <code>onHttpGet</code> keyword is available with:</p>
<ul>
<li>ORDA Data model class functions</li>
<li><a href=/docs/next/language/basics/lang-classes#singleton-classes>Singletons class functions</a></li>
</ul>
<p>The formal syntax is:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// declare an onHttpGet function</span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHttpGet function &lt;functionName>(params) : result</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>The <code>exposed</code> keyword must also be added in this case, otherwise an error will be generated.</div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>As this type of call is an easy offered action, the developer must ensure no sensitive action is done in such functions.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=params>params<a href=#params class=hash-link aria-label="Direct link to params" title="Direct link to params">​</a></h3>
<p>A function with <code>onHttpGet</code> keyword accepts <a href=/docs/next/language/basics/lang-parameters>parameters</a>.</p>
<p>In the HTTP GET request, parameters must be passed directly in the URL and declared using the <code>$params</code> keyword (they must be enclosed in a collection).</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">IP:port/rest/&lt;dataclass>/functionName?$params='[&lt;params>]'</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>See the <a href=/docs/next/api/classFunctionsParameters>Parameters</a> section in the REST API documentation.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=result>result<a href=#result class=hash-link aria-label="Direct link to result" title="Direct link to result">​</a></h3>
<p>A function with <code>onHttpGet</code> keyword can return any value of a supported type (same as for REST <a href=/docs/next/api/classFunctionsParameters>parameters</a>).</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg></span>info</div><div class=admonitionContent_BuS1><p>You can return a value of the <a href=/docs/next/language/OutgoingMessageClass><code>4D.OutgoingMessage</code></a> class type to benefit from properties and functions to set the header, the body, and the status of the answer.</div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=example-8>Example<a href=#example-8 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>You have defined the following function:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">extends DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">exposed onHTTPGet function getThumbnail(name : string, width : integer, height : integer) : 4D.OutgoingMessage</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var fileRef = file("/SOURCES/Shared/Images/"+name+".jpg")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var blob = fileRef.getContent()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	blobToPicture(blob,image)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var image, thumbnail : picture</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	var response = 4D.OutgoingMessage.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">	createThumbnail(image, thumbnail, width, height, kScaledToFit)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	response.setBody(image)	</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	response.setHeader("Content-Type", "image/jpeg")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	return response</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>It can be called by the following HTTP GET request:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-text codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">IP:port/rest/Products/getThumbnail?$params='["Yellow Pack",200,200]'</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/qodly/docs/issues/new?title=Comment%20on%20orda%2Fdata-model.md%20(current)&body=Share%20any%20feedback%20about%20this%20page%20%E2%80%94%20report%20issues%2C%20suggest%20improvements%2C%20or%20tell%20us%20what%E2%80%99s%20helpful.%0A%0AIf%20it%E2%80%99s%20an%20issue%3A%0A-%20What%E2%80%99s%20the%20issue%3F%20(e.g.%2C%20typo%2C%20incorrect%20information%2C%20unclear%20explanation)%0A-%20Where%20is%20it%3F%20(e.g.%2C%20section%20name%2C%20specific%20paragraph%2C%20or%20line)%0A%0AThank%20you%20for%20helping%20us%20improve!%20%F0%9F%9A%80%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Give feedback on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--next" href=/docs/next/guides/crud-operations><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>CRUD Operations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#the-orda-concept class="table-of-contents__link toc-highlight">The ORDA Concept</a><ul><li><a href=#database-as-objects class="table-of-contents__link toc-highlight">Database as Objects</a><li><a href=#objects-have-classes class="table-of-contents__link toc-highlight">Objects have Classes</a><li><a href=#class-architecture class="table-of-contents__link toc-highlight">Class Architecture</a></ul><li><a href=#datastore class="table-of-contents__link toc-highlight">Datastore</a><ul><li><a href=#datastoreimplementation-class class="table-of-contents__link toc-highlight">DataStoreImplementation Class</a></ul><li><a href=#dataclass class="table-of-contents__link toc-highlight">Dataclass</a><ul><li><a href=#dataclass-class class="table-of-contents__link toc-highlight">DataClass Class</a></ul><li><a href=#entity class="table-of-contents__link toc-highlight">Entity</a><ul><li><a href=#entity-class class="table-of-contents__link toc-highlight">Entity Class</a></ul><li><a href=#entity-selection class="table-of-contents__link toc-highlight">Entity selection</a><ul><li><a href=#entityselection-class class="table-of-contents__link toc-highlight">EntitySelection Class</a><li><a href=#ordered-or-unordered-entity-selection class="table-of-contents__link toc-highlight">Ordered or unordered entity selection</a></ul><li><a href=#attributes class="table-of-contents__link toc-highlight">Attributes</a><ul><li><a href=#storage-and-relation-attributes class="table-of-contents__link toc-highlight">Storage and Relation attributes</a><li><a href=#alias-attributes class="table-of-contents__link toc-highlight">Alias attributes</a></ul><li><a href=#calculated-attributes-1 class="table-of-contents__link toc-highlight">Calculated attributes</a><ul><li><a href=#function-get-attributename class="table-of-contents__link toc-highlight"><code>function get &lt;attributeName></code></a><li><a href=#function-set-attributename class="table-of-contents__link toc-highlight"><code>function set &lt;attributeName></code></a><li><a href=#function-query-attributename class="table-of-contents__link toc-highlight"><code>function query &lt;attributeName></code></a><li><a href=#function-orderby-attributename class="table-of-contents__link toc-highlight"><code>function orderBy &lt;attributeName></code></a></ul><li><a href=#exposed-vs-non-exposed-functions class="table-of-contents__link toc-highlight">Exposed vs non-exposed functions</a><ul><li><a href=#example-7 class="table-of-contents__link toc-highlight">Example</a></ul><li><a href=#onhttpget-keyword class="table-of-contents__link toc-highlight">onHttpGet keyword</a><ul><li><a href=#params class="table-of-contents__link toc-highlight">params</a><li><a href=#result class="table-of-contents__link toc-highlight">result</a><li><a href=#example-8 class="table-of-contents__link toc-highlight">Example</a></ul></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://qodly.com/tutorials target=_blank rel="noopener noreferrer" class=footer__link-item>Tutorials</a><li class=footer__item><a href=https://support.4d.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support</a></ul></div><div class="col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://qodly.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About Qodly</a><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D</a><li class=footer__item><a href=mailto:contact@qodly.com target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us</a><li class=footer__item><a href=https://qodly.com/qodly-platform-license target=_blank rel="noopener noreferrer" class=footer__link-item>License</a><li class=footer__item><a href=https://qodly.com/qodly-beta-service-level-agreement target=_blank rel="noopener noreferrer" class=footer__link-item>SLA</a></ul></div><div class="col footer__col"><div class=footer__title>Follow Us</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://join.slack.com/t/qodly/shared_invite/zt-20ieeffts-NU57SOXcbakmWgIMnJpStQ target=_blank rel="noopener noreferrer" class=footer__link-item src=slack>Slack</a><li class=footer__item><a href=https://www.facebook.com/qodlyby4d target=_blank rel="noopener noreferrer" class=footer__link-item src=facebook>Facebook</a><li class=footer__item><a href=https://twitter.com/qodlyby4d target=_blank rel="noopener noreferrer" class=footer__link-item src=twitter>Twitter</a><li class=footer__item><a href=https://www.youtube.com/channel/UCLNHKvjJQZ_5D1ziskba6jg target=_blank rel="noopener noreferrer" class=footer__link-item src=youtube>Youtube Channels</a><li class=footer__item><a href=https://linkedin.com/showcase/qodly target=_blank rel="noopener noreferrer" class=footer__link-item src=linkedin>Linkedin</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - All rights reserved</div></div></div></footer></div>