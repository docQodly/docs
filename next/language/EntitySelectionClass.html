<!doctype html><html lang=en dir=ltr class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-language/EntitySelectionClass" data-has-hydrated=false><meta charset=UTF-8><meta name=generator content="Docusaurus v3.6.3"><title data-rh=true>EntitySelection | Qodly Documentation</title><meta data-rh=true name=viewport content="width=device-width,initial-scale=1.0"><meta data-rh=true name=robots content="noindex, nofollow"><meta data-rh=true name=twitter:card content=summary_large_image><meta data-rh=true property=og:url content=https://docqodly.github.io/docs/next/language/EntitySelectionClass><meta data-rh=true property=og:locale content=en><meta data-rh=true name=docusaurus_locale content=en><meta data-rh=true name=docsearch:language content=en><meta data-rh=true name=keywords content="qodly documentation,qodly doc,documentation qodly,doc qodly,qodly Developer,qodly guide,qodly tutorial,qodly low-code development"><meta data-rh=true name=docusaurus_version content=current><meta data-rh=true name=docusaurus_tag content=docs-default-current><meta data-rh=true name=docsearch:version content=current><meta data-rh=true name=docsearch:docusaurus_tag content=docs-default-current><meta data-rh=true property=og:title content="EntitySelection | Qodly Documentation"><meta data-rh=true name=description content="An entity selection is an object containing one or more reference(s) to entities belonging to the same Dataclass. An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."><meta data-rh=true property=og:description content="An entity selection is an object containing one or more reference(s) to entities belonging to the same Dataclass. An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass."><link data-rh=true rel=icon href=/docs/img/favicon.svg><link data-rh=true rel=canonical href=https://docqodly.github.io/docs/next/language/EntitySelectionClass><link data-rh=true rel=alternate href=https://docqodly.github.io/docs/next/language/EntitySelectionClass hreflang=en><link data-rh=true rel=alternate href=https://docqodly.github.io/docs/next/language/EntitySelectionClass hreflang=x-default><link rel=stylesheet href=/docs/assets/css/styles.a5819fa1.css><script src=/docs/assets/js/main.dbfc09f1.js defer></script><script src=/docs/assets/js/runtime~main.3fbb92e6.js defer></script><body class=navigation-with-keyboard data-theme=light><script>!function(){var t,e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t=null!==e?e:"light",document.documentElement.setAttribute("data-theme",t)}(),function(){try{for(var[t,e]of new URLSearchParams(window.location.search).entries())if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id=__docusaurus><div role=region aria-label="Skip to main content"><a class=skipToContent_fXgn href=#__docusaurus_skipToContent_fallback>Skip to main content</a></div><nav aria-label=Main class="navbar navbar--fixed-top"><div class=navbar__inner><div class=navbar__items><button aria-label="Toggle navigation bar" aria-expanded=false class="navbar__toggle clean-btn" type=button><svg width=30 height=30 viewBox="0 0 30 30" aria-hidden=true><path stroke=currentColor stroke-linecap=round stroke-miterlimit=10 stroke-width=2 d="M4 7h22M4 15h22M4 23h22"/></svg></button><a class=navbar__brand href=/docs/><div class=navbar__logo><img src=/docs/img/qodly-light-version.svg alt=Qodly class="themedComponent_mlkZ themedComponent--light_NVdE"><img src=/docs/img/qodly-dark-version.svg alt=Qodly class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Docs</b></a><a class="navbar__item navbar__link" href=/docs/next/get-started/quickstart>Getting Started</a><a aria-current=page class="navbar__item navbar__link navbar__link--active" href=/docs/next/studio/overview>Develop</a><a class="navbar__item navbar__link" href=/docs/next/cloud/consoleOverview>Run & Manage</a><a class="navbar__item navbar__link" href=/docs/next/api/overview>Integrations</a><a class="navbar__item navbar__link" href=/docs/next/guides/data-model-objects>Guides</a><a class="navbar__item navbar__link" href=/docs/next/faq>FAQ</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current=page class="navbar__link active" aria-haspopup=true aria-expanded=false role=button href=/docs/next/language/EntitySelectionClass>Next</a><ul class=dropdown__menu><li><a aria-current=page class="dropdown__link dropdown__link--active" href=/docs/next/language/EntitySelectionClass>Next</a><li><a class=dropdown__link href=/docs/language/EntitySelectionClass>1.1.0</a><li><a class=dropdown__link href=/docs/1.0.0/language/EntitySelectionClass>1.0.0</a></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type=button disabled title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live=polite aria-pressed=false><svg viewBox="0 0 24 24" width=24 height=24 class=lightToggleIcon_pyhR><path fill=currentColor d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg><svg viewBox="0 0 24 24" width=24 height=24 class=darkToggleIcon_wfgR><path fill=currentColor d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg></button></div><div class=navbarSearchContainer_Bca1><div class=dsla-search-wrapper><div class=dsla-search-field data-tags=default,docs-default-current></div></div></div></div></div><div role=presentation class=navbar-sidebar__backdrop></div></nav><div id=__docusaurus_skipToContent_fallback class="main-wrapper mainWrapper_z2l0"><div class=docsWrapper_hBAB><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type=button></button><div class=docRoot_UBD9><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class=sidebarViewport_aRkj><div class=sidebar_njMd><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/next/studio/overview>Overview</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/studio/pageLoaders/pageLoaderOverview>Pages</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/studio/coding>Coding and Debugging</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/studio/roles/overview>Roles And Privileges</a></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--sublist-caret" role=button aria-expanded=false href=/docs/next/studio/model/model-editor-interface>Model</a></div><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/next/studio/httpHandlers>HTTP Handlers</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/next/studio/settings>Settings</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class=menu__link href=/docs/next/data-explorer>Data Explorer</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" href=/docs/next/category/qodlyscript>QodlyScript Reference</a><button aria-label="Collapse sidebar category 'QodlyScript Reference'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/basics/lang-quicktour>A Quick Tour</a><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/next/category/language-basics>Basics</a><button aria-label="Expand sidebar category 'Basics'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist" tabindex=0 href=/docs/next/language/commands/command-list>Commands</a><button aria-label="Expand sidebar category 'Commands'" aria-expanded=false type=button class="clean-btn menu__caret"></button></div><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class=menu__list-item-collapsible><a class="menu__link menu__link--sublist menu__link--active" tabindex=0 href=/docs/next/category/classes>Classes</a><button aria-label="Collapse sidebar category 'Classes'" aria-expanded=true type=button class="clean-btn menu__caret"></button></div><ul style=display:block;overflow:visible;height:auto class=menu__list><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/BlobClass>Blob</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/ClassClass>Class</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/CollectionClass>Collection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/CryptoKeyClass>CryptoKey</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/DataClassClass>DataClass</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/DataStoreClass>DataStore</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/EmailObjectClass>Email</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/EndpointsClass>Endpoints</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/EntityClass>Entity</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current=page tabindex=0 href=/docs/next/language/EntitySelectionClass>EntitySelection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/FileClass>File</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/FileHandleClass>FileHandle</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/FolderClass>Folder</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/FunctionClass>Function</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/HTTPRequestClass>HTTPRequest</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/IMAPTransporterClass>IMAPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/IncomingMessageClass>IncomingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/MailAttachmentClass>MailAttachment</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/OutgoingMessageClass>OutgoingMessage</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/POP3TransporterClass>POP3Transporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/QodlyEvents>QodlyEvents</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/SessionClass>Session</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/SignalClass>Signal</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/SMTPTransporterClass>SMTPTransporter</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/SystemWorkerClass>SystemWorker</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/TCPConnectionClass>TCPConnection</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/TCPEventClass>TCPEvent</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/UsersClass>Users</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/WebFormClass>WebForm</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/WebFormItemClass>WebFormItem</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/ZipArchiveClass>ZIPArchive</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/ZipFileClass>ZIPFile</a><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class=menu__link tabindex=0 href=/docs/next/language/ZipFolderClass>ZIPFolder</a></ul></ul></ul></nav></div></div></aside><main class=docMainContainer_TBSr><div class="container padding-top--md padding-bottom--lg"><div class=row><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role=alert><div>This is unreleased documentation for <!-- -->Qodly Documentation<!-- --> <b>Next</b> version.</div><div class=margin-top--md>For up-to-date documentation, see the <b><a href=/docs/language/EntitySelectionClass>latest version</a></b> (<!-- -->1.1.0<!-- -->).</div></div><div class=docItemContainer_Djhp><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label=Breadcrumbs><ul class=breadcrumbs itemscope itemtype=https://schema.org/BreadcrumbList><li class=breadcrumbs__item><a aria-label="Home page" class=breadcrumbs__link href=/docs/><svg viewBox="0 0 24 24" class=breadcrumbHomeIcon_YNFT><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill=currentColor /></svg></a><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/next/category/qodlyscript><span itemprop=name>QodlyScript Reference</span></a><meta itemprop=position content=1><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class=breadcrumbs__item><a class=breadcrumbs__link itemprop=item href=/docs/next/category/classes><span itemprop=name>Classes</span></a><meta itemprop=position content=2><li itemscope itemprop=itemListElement itemtype=https://schema.org/ListItem class="breadcrumbs__item breadcrumbs__item--active"><span class=breadcrumbs__link itemprop=name>EntitySelection</span><meta itemprop=position content=3></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type=button class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>EntitySelection</h1></header><p>An entity selection is an object containing one or more reference(s) to <a href=/docs/next/guides/data-model-objects#entity>entities</a> belonging to the same <a href=/docs/next/guides/data-model-objects#dataclass>Dataclass</a>. An entity selection can contain 0, 1 or X entities from the dataclass -- where X can represent the total number of entities contained in the dataclass.</p>
<p>Entity selections can be created from existing selections using various functions of the <a href=/docs/next/language/DataClassClass><code>DataClass</code> class</a> such as <a href=/docs/next/language/DataClassClass#all><code>.all()</code></a> or <a href=/docs/next/language/DataClassClass#query><code>.query()</code></a>, or functions of the <code>EntityClass</code> class itself, such as <a href=#and><code>.and()</code></a> or <a href=#orderby><code>orderBy()</code></a>. You can also create blank entity selections using the <a href=/docs/next/language/DataClassClass#newselection><code>dataClass.newSelection()</code></a> function.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id=functions-and-properties>Functions and properties<a href=#functions-and-properties class=hash-link aria-label="Direct link to Functions and properties" title="Direct link to Functions and properties">​</a></h3>
<table><thead><tr><th><tbody><tr><td><a href=#index><em><strong>[index]</strong></em> : 4D.Entity</a>    allows you to access entities within the entity selection using the standard collection syntax<tr><td><a href=#attributename><em><strong>.attributeName</strong></em> : collection<br><em><strong>.attributeName</strong></em> : 4D.EntitySelection</a>    a "projection" of values for the attribute in the entity selection<tr><td><a href=#add><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection</a>    adds the specified <em>entity</em> to the entity selection and returns the modified entity selection<tr><td><a href=#and><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a>    combines the entity selection with an <em>entity</em> or <em>entitySelection</em> parameter using the logical AND operator<tr><td><a href=#attributename><strong>.at</strong>( <em>index</em> : integer ) : 4D.Entity </a>    returns the entity at position <em>index</em>, allowing for positive and negative integer<tr><td><a href=#average><strong>.average</strong>( <em>attributePath</em> : string ) : number</a>    returns the arithmetic mean (average) of all the non-null values of <em>attributePath</em> in the entity selection<tr><td><a href=#clean><strong>.clean</strong>() : 4D.EntitySelection</a>    returns a new entity selection based upon the original entity selection but without deleted entities, if any<tr><td><a href=#contains><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : boolean</a>    returns true if entity reference belongs to the entity selection<tr><td><a href=#count><strong>.count</strong>( <em>attributePath</em> : string ) : number</a>    returns the number of entities in the entity selection with a non-null value in <em>attributePath</em><tr><td><a href=#distinct><strong>.distinct</strong>( <em>attributePath</em> : string { , <em>option</em> : integer } ) : collection</a>    returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection<tr><td><a href=#distinctpaths><strong>.distinctPaths</strong>( <em>attribute</em> : string ) : collection</a>    returns a collection of distinct paths found in the indexed object <em>attribute</em> for the entity selection<tr><td><a href=#drop><strong>.drop</strong>( { <em>mode</em> : integer } ) : 4D.EntitySelection</a>    removes the entities belonging to the entity selection from the table related to its dataclass within the datastore<tr><td><a href=#extract><strong>.extract</strong>( <em>attributePath</em> : string { , <em>option</em> : integer } ) : collection<br><strong>.extract</strong>( <em>attributePath</em> { , <em>targetPath</em> } { , <em>...attributePathN</em> : string , <em>targetPathN</em> : string } ) : collection</a>    returns a collection containing <em>attributePath</em> values extracted from the entity selection<tr><td><a href=#first><strong>.first()</strong> : 4D.Entity</a>    returns a reference to the entity in the first position of the entity selection<tr><td><a href=#getdataclass><strong>.getDataClass()</strong> : 4D.DataClass</a>    returns the dataclass of the entity selection<tr><td><a href=#isalterable><strong>.isAlterable</strong>() : boolean</a>    returns true if the entity selection is alterable<tr><td><a href=#isordered><strong>.isOrdered</strong>() : boolean</a>    returns true if the entity selection is ordered<tr><td><a href=#last><strong>.last</strong>() : 4D.Entity</a>    returns a reference to the entity in last position of the entity selection<tr><td><a href=#length><strong>.length</strong> : integer</a>    returns the number of entities in the entity selection<tr><td><a href=#max><strong>.max</strong>( <em>attributePath</em> : string ) : any</a>    returns the highest (or maximum) value among all the values of <em>attributePath</em> in the entity selection<tr><td><a href=#min><strong>.min</strong>( <em>attributePath</em> : string ) : any</a>     returns the lowest (or minimum) value among all the values of <em>attributePath</em> in the entity selection<tr><td><a href=#minus><strong>.minus</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a>    excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection<tr><td><a href=#or><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</a>    combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator<tr><td><a href=#orderby><strong>.orderBy</strong>( <em>pathString</em> : string ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : collection ) : 4D.EntitySelection</a>    returns a new <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered</a> entity selection containing all entities of the entity selection in the order specified by <em>pathString</em> or <em>pathObjects</em> criteria<tr><td><a href=#orderbyformula-><strong>.orderByFormula</strong>( <em>formulaString</em> : string { , <em>sortOrder</em> : integer } { , <em>settings</em> : object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : object { , <em>sortOrder</em> : integer } { , <em>settings</em> : object} ) : 4D.EntitySelection</a>    returns a new, ordered entity selection<tr><td><a href=#query><strong>.query</strong>( <em>queryString</em> : string { , <em>...value</em> : any } { , <em>querySettings</em> : object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : object { , <em>querySettings</em> : object } ) : 4D.EntitySelection</a>    searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s) among all the entities in the entity selection<tr><td><a href=#querypath><strong>.queryPath</strong> : string</a>    contains a detailed description of the query as it was actually performed by Qodly<tr><td><a href=#queryplan><strong>.queryPlan</strong> : string</a>     contains a detailed description of the query just before it is executed (i.e., the planned query)<tr><td><a href=#selected><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : object</a>    returns an object describing the position(s) of <em>selectedEntities</em> in the original entity selection<tr><td><a href=#slice><strong>.slice</strong>( <em>startFrom</em> : integer { , <em>end</em> : integer } ) : 4D.EntitySelection</a>    returns a portion of an entity selection into a new entity selection<tr><td><a href=#sum><strong>.sum</strong>( <em>attributePath</em> : string ) : number</a>    returns the sum for all <em>attributePath</em> values in the entity selection<tr><td><a href=#tocollection-><strong>.toCollection</strong>( { <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer } } ) : collection<br><strong>.toCollection</strong>( <em>filterString</em> : string {, <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer }}} ) : collection<br><strong>.toCollection</strong>( <em>filterCol</em> : collection {, <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer }}} ) : collection</a>    creates and returns a collection where each element is an object containing a set of properties and values</table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=index>[<em>index</em>]<a href=#index class=hash-link aria-label="Direct link to index" title="Direct link to index">​</a></h2>
<p><em><strong>[index]</strong></em> : 4D.Entity</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description>Description<a href=#description class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>EntitySelection[index]</code> notation allows you to access entities within the entity selection using the standard collection syntax: pass the position of the entity you want to get in the <em>index</em> parameter.</p>
<p>Note that the corresponding entity is reloaded from the datastore.</p>
<p><em>index</em> can be any number between 0 and <a href=#length><code>.length</code></a>-1.</p>
<ul>
<li>If <em>index</em> is out of range, an error is returned.</li>
<li>If <em>index</em> corresponds to a dropped entity, a Null value is returned.</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p><code>EntitySelection[index]</code> is a <a href=/docs/next/language/basics/lang-expressions#assignable-vs-non-assignable-expressions>non assignable expression</a>, which means that it cannot be used as en editable entity reference with functions like <a href=/docs/next/language/EntityClass#lock><code>.lock()</code></a> or <a href=/docs/next/language/EntityClass#save><code>.save()</code></a>. To work with the corresponding entity, you need to assign the returned expression to an assignable expression, such as a variable. Examples:<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> sel = ds.Employee.all() //create the entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //invalid statements:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = sel[0].lock() //will NOT work</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel[0].lastName = "Smith" //will NOT work</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = sel[0].save() //will NOT work</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //valid code:</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entity = sel[0]  //OK</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entity.lastName = "Smith" //OK</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entity.save() //OK</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example>Example<a href=#example class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("lastName = :1","H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = employees[2]  // The 3rd entity of the employees entity selection is reloaded from the datastore</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=at>.at()<a href=#at class=hash-link aria-label="Direct link to .at()" title="Direct link to .at()">​</a></h2>
<p><strong>.at</strong>( <em>index</em> : integer ) : 4D.Entity</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>index<td>integer<td style=text-align:center>→<td>Index of entity to return<tr><td>Result<td>4D.Entity<td style=text-align:center>←<td>The entity at that index</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-1>Description<a href=#description-1 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.at()</code> function returns the entity at position <em>index</em>, allowing for positive and negative integer.</p>
<p>If <em>index</em> is negative (from -1 to -n with n : length of the entity selection), the returned entity will be based on the reverse order of the entity selection.</p>
<p>The function returns null if <em>index</em> is beyond entity selection limits.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1>Example<a href=#example-1 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var emp1, emp2 : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employees = ds.Employee.query("lastName = :1","H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">emp1 = employees.at(2)  //3rd entity of the employees entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">emp2 = employees.at(-3) //starting from the end, 3rd entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	//of the employees entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=attributename>.<em>attributeName</em><a href=#attributename class=hash-link aria-label="Direct link to attributename" title="Direct link to attributename">​</a></h2>
<p><em><strong>.attributeName</strong></em> : collection<br><em><strong>.attributeName</strong></em> : 4D.EntitySelection</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-2>Description<a href=#description-2 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>Any dataclass attribute can be used as a property of an entity selection to return a "projection" of values for the attribute in the entity selection. Projected values can be a collection or a new entity selection, depending on the <a href=/docs/next/language/DataClassClass#attributename>kind</a> (storage or relation) of the attribute.</p>
<ul>
<li>If <em>attributeName</em> kind is <code>storage</code>:
<code>.attributeName</code> returns a collection of values of the same type as <em>attributeName</em>.</li>
<li>If <em>attributeName</em> kind is <code>relatedEntity</code>:
<code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Duplications are removed (an unordered entity selection is returned).</li>
<li>If <em>attributeName</em> kind is <code>relatedEntities</code>:
<code>.attributeName</code> returns a new entity selection of related values of the same type as <em>attributeName</em>. Duplications are removed (an unordered entity selection is returned).</li>
</ul>
<p>When a relation attribute is used as a property of an entity selection, the result is always another entity selection, even if only one entity is returned. In this case, if no entities are returned, the result is an empty entity selection.</p>
<p>If the attribute does not exist in the entity selection, an error is returned.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-1>Example 1<a href=#example-1-1 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<p>Projection of storage values:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var firstNames : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySelection = ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> firstNames = entitySelection.firstName // firstName type is string</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The resulting collection is a collection of strings, for example:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"Joanna"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"Alexandra"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token string" style=color:#e3116c>"Rick"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2>Example 2<a href=#example-2 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>Projection of related entity:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var es, entitySelection : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySelection = ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es = entitySelection.employer // employer is related to a Company dataClass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The resulting object is an entity selection of Company with duplications removed (if any).</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-3>Example 3<a href=#example-3 class=hash-link aria-label="Direct link to Example 3" title="Direct link to Example 3">​</a></h4>
<p>Projection of related entities:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var es : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es = ds.Employee.all().directReports // directReports is related to Employee dataclass</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The resulting object is an entity selection of Employee with duplications removed (if any).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=add>.add()<a href=#add class=hash-link aria-label="Direct link to .add()" title="Direct link to .add()">​</a></h2>
<p><strong>.add</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>entity<td>4D.Entity<td style=text-align:center>→<td>Entity to be added to the entity selection<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>→<td>Entity selection including the added <em>entity</em></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-3>Description<a href=#description-3 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.add()</code> function adds the specified <em>entity</em> to the entity selection and returns the modified entity selection.</p>
<blockquote>
<p>This function modifies the original entity selection.</p>
</blockquote>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>The entity selection must be <em>alterable</em>, i.e. it has been created for example by <a href=/docs/next/language/DataClassClass#newselection><code>.newSelection()</code></a>, otherwise <code>.add()</code> will return an error. Shareable entity selections do not accept the addition of entities. For more information, please refer to the <a href=/docs/next/guides/crud-operations#shareable-or-alterable-entity-selections>Shareable or alterable entity selections</a> section.</div></div>
<ul>
<li>If the entity selection is <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered</a>, <em>entity</em> is added at the end of the selection. If a reference to the same entity already belongs to the entity selection, it is duplicated and a new reference is added.</li>
<li>If the entity selection is <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>unordered</a>, <em>entity</em> is added anywhere in the selection, with no specific order.</li>
</ul>
<p>The modified entity selection is returned by the function, so that function calls can be chained.</p>
<p>An error occurs if <em>entity</em> and the entity selection are not related to the same Dataclass. If <em>entity</em> is Null, no error is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-2>Example 1<a href=#example-1-2 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.newSelection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.lastName = "Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees.add(employee) //The employee entity is added to the employees entity selection</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-1>Example 2<a href=#example-2-1 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>Calls to the function can be chained:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel : cs.ProductSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var p1,p2,p3 : cs.ProductEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> p1 = ds.Product.get(10)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> p2 = ds.Product.get(11)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> p3 = ds.Product.get(12)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel = ds.Product.newSelection()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel = sel.add(p1).add(p2).add(p3)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=and>.and()<a href=#and class=hash-link aria-label="Direct link to .and()" title="Direct link to .and()">​</a></h2>
<p><strong>.and</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.and</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>entity<td>4D.Entity<td style=text-align:center>→<td>Entity to intersect with<tr><td>entitySelection<td>4D.EntitySelection<td style=text-align:center>→<td>Entity selection to intersect with<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection with the result of intersection with logical AND operator</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-4>Description<a href=#description-4 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.and()</code> function combines the entity selection with an <em>entity</em> or <em>entitySelection</em> parameter using the logical AND operator; it returns a new, unordered entity selection that contains only the entities that are referenced in both the entity selection and the parameter.</p>
<ul>
<li>If you pass <em>entity</em> as parameter, you combine this entity with the entity selection. If the entity belongs to the entity selection, a new entity selection containing only the entity is returned. Otherwise, an empty entity selection is returned.</li>
<li>If you pass <em>entitySelection</em> as parameter, you combine both entity selections. A new entity selection that contains only the entities that are referenced in both selections is returned. If there is no intersecting entity, an empty entity selection is returned.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>You can compare <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered and/or unordered entity selections</a>. The resulting selection is always unordered.</div></div>
<p>If the original entity selection or the <em>entitySelection</em> parameter is empty, or if the <em>entity</em> is Null, an empty entity selection is returned.</p>
<p>If the original entity selection and the parameter are not related to the same dataclass, an error is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-3>Example 1<a href=#example-1-3 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees, result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("lastName = :1","H@")   </span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //The employees entity selection contains the entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //with primary key 710 and other entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //for ex. "Colin Hetrick" / "Grady Harness" / "Sherlock Holmes" (primary key 710)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.get(710) // Returns "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = employees.and(employee) //result is an entity selection containing   </span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //only the entity with primary key 710 ("Sherlock Holmes")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-2>Example 2<a href=#example-2-2 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>We want to have a selection of employees named "Jones" who live in New York:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel1, sel2, sel3 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel1 = ds.Employee.query("name = :1","Jones")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel2 = ds.Employee.query("city = :1","New York")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel3 = sel1.and(sel2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=average>.average()<a href=#average class=hash-link aria-label="Direct link to .average()" title="Direct link to .average()">​</a></h2>
<p><strong>.average</strong>( <em>attributePath</em> : string ) : number</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Attribute path to be used for calculation<tr><td>Result<td>number<td style=text-align:center>←<td>Arithmetic mean (average) of entity attribute values (Undefined if empty entity selection)</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-5>Description<a href=#description-5 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.average()</code> function returns the arithmetic mean (average) of all the non-null values of <em>attributePath</em> in the entity selection.</p>
<p>Pass in the <em>attributePath</em> parameter the attribute path to evaluate.</p>
<p>Only numerical values are taken into account for the calculation. Note however that, if the <em>attributePath</em> of the entity selection contains mixed value types, <code>.average()</code> takes all scalar elements into account to calculate the average value.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Date values are converted to numerical values (seconds) and used to calculate the average.</div></div>
<p><code>.average()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> does not contain numerical values.</p>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-4>Example<a href=#example-4 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>We want to obtain a list of employees whose salary is higher than the average salary:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var averageSalary : number</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var moreThanAv : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> averageSalary = ds.Employee.all().average("salary")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> moreThanAv = ds.Employee.query("salary > :1",averageSalary)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=clean>.clean()<a href=#clean class=hash-link aria-label="Direct link to .clean()" title="Direct link to .clean()">​</a></h2>
<p><strong>.clean</strong>() : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection without deleted entities</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-6>Description<a href=#description-6 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.clean()</code> function returns a new entity selection based upon the original entity selection but without deleted entities, if any.</p>
<p>By default, when an entity is <a href=/docs/next/language/EntitySelectionClass#drop>dropped</a>, its reference(s) in existing entity selection(s) become <em>undefined</em> but are not removed from the entity selection object(s). Deleted entities are still included in the <a href=#length><code>.length</code></a> property and are displayed as blank lines if the entity selection is bound to an interface object such as a list. In this case, calling the <code>.clean()</code> function on the entity selection allows you to get a new, up-to-date entity selection, not containing <em>undefined</em> entity references.</p>
<p>The resulting entity selection keeps the same <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>order criteria</a> and the same <a href=/docs/next/guides/crud-operations#shareable-or-alterable-entity-selections>alterable/shareable</a> property as the original entity selection.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-5>Example<a href=#example-5 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var sel , sel2 : cs.SpecialitySelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var status : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">sel = ds.Speciality.query("ID &lt;= 4")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">status = ds.Speciality.get(2).drop() //delete the entity from the dataclass</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //sel.length == 4</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">sel2 = sel.clean()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //sel2.length == 3</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=contains>.contains()<a href=#contains class=hash-link aria-label="Direct link to .contains()" title="Direct link to .contains()">​</a></h2>
<p><strong>.contains</strong>( <em>entity</em> : 4D.Entity ) : boolean</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>entity<td>4D.Entity<td style=text-align:center>→<td>Entity to evaluate<tr><td>Result<td>boolean<td style=text-align:center>←<td>True if the entity belongs to the entity selection, else false</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-7>Description<a href=#description-7 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.contains()</code> function returns true if entity reference belongs to the entity selection, and false otherwise.</p>
<p>In <em>entity</em>, specify the entity to search for in the entity selection. If entity is null, the function will return false.</p>
<p>If <em>entity</em> and the entity selection do not belong to the same dataclass, an error is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-6>Example<a href=#example-6 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var info : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("lastName = :1","H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.get(610)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(employees.contains(employee))</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "The entity with primary key 610 has a last name beginning with H"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "The entity with primary key 610 does not have a last name beginning with H"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=count>.count()<a href=#count class=hash-link aria-label="Direct link to .count()" title="Direct link to .count()">​</a></h2>
<p><strong>.count</strong>( <em>attributePath</em> : string ) : number</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Path of the attribute to be used for calculation<tr><td>Result<td>number<td style=text-align:center>←<td>Number of non null <em>attributePath</em> values in the entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-8>Description<a href=#description-8 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.count()</code> function returns the number of entities in the entity selection with a non-null value in <em>attributePath</em>.</p>
<blockquote>
<p>Only scalar values are taken into account. object or collection type values are considered as null values.</p>
</blockquote>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-7>Example<a href=#example-7 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>We want to find out the total number of employees for a company without counting any whose job title has not been specified:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var count : number</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel = ds.Employee.query("employer = :1","Acme, Inc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> count = sel.count("jobtitle")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=copy>.copy()<a href=#copy class=hash-link aria-label="Direct link to .copy()" title="Direct link to .copy()">​</a></h2>
<p><strong>.copy</strong>( { <em>option</em> : integer } ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>option<td>integer<td style=text-align:center>→<td><code>kShared</code>: return a shareable entity selection<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>Copy of the entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-9>Description<a href=#description-9 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.copy()</code> function returns a copy of the original entity selection.</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>By default, if the <em>option</em> parameter is omitted, the function returns a new, <a href=/docs/next/guides/crud-operations#shareable-or-alterable-entity-selections>alterable</a> entity selection (even if the function is applied to a <a href=/docs/next/guides/crud-operations#shareable-or-alterable-entity-selections>shareable</a> entity selection). Pass the <code>kShared</code> constant in the <em>option</em> parameter if you want to create a shareable entity selection.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-8>Example<a href=#example-8 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>You want to copy a regular entity selection to a shared entity selection in the <code>storage</code>:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">localSel : cs.ProductSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">localSel = ds.Products.newSelection() //create an empty selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">...</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // The localSel entity selection is updated with another one</span><br></span><span class=token-line style=color:#393A34><span class="token plain">localSel.add(selectedProducts)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">use(storage)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	if(storage.products == null)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">		storage.products = newSharedObject()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    end</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    use(storage.products)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">       storage.products = localSel.copy(kShared)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    end</span><br></span><span class=token-line style=color:#393A34><span class="token plain">end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=distinct>.distinct()<a href=#distinct class=hash-link aria-label="Direct link to .distinct()" title="Direct link to .distinct()">​</a></h2>
<p><strong>.distinct</strong>( <em>attributePath</em> : string { , <em>option</em> : integer } ) : collection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Path of attribute whose distinct values you want to get<tr><td>option<td>integer<td style=text-align:center>→<td><code>kDiacritical</code>, <code>kCountValues</code><tr><td>Result<td>collection<td style=text-align:center>←<td>collection with only distinct values</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-10>Description<a href=#description-10 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.distinct()</code> function returns a collection containing only distinct (different) values from the <em>attributePath</em> in the entity selection.</p>
<p>The returned collection is automatically sorted. <strong>Null</strong> values are not returned.</p>
<p>In the <em>attributePath</em> parameter, pass the entity attribute whose distinct values you want to get. Only scalar values (text, number, boolean, or date) can be handled. If the <em>attributePath</em> leads to an object property that contains values of different types, they are first grouped by type and sorted afterwards. Types are returned in the following order:</p>
<ol>
<li>booleans</li>
<li>strings</li>
<li>numbers</li>
<li>dates</li>
</ol>
<p>You can use the <code>[]</code> notation to designate a collection when <em>attributePath</em> is a path within an object (see examples).</p>
<p>In the <em>options</em> parameter, you can pass one or a combination of the following constants:</p>
<table><thead><tr><th>Constant<th>Value<th>Comment<tbody><tr><td><code>kDiacritical</code><td>8<td>Evaluation is case sensitive and differentiates accented characters. By default if omitted, a non-diacritical evaluation is performed<tr><td><code>kCountValues</code><td>32<td>Return the count of entities for every distinct value. When this option is passed, <code>.distinct()</code> returns a collection of objects containing a pair of <code>{"value":*value*; "count":*count*}</code> properties.</table>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>The <code>kCountValues</code> option is only available with storage attributes of type boolean, string, number, and date.</div></div>
<p>By default, a non-diacritical evaluation is performed. If you want the evaluation to be case sensitive or to differentiate accented characters, pass the <code>kDiacritical</code> constant in the <em>option</em> parameter.</p>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=examples>Examples<a href=#examples class=hash-link aria-label="Direct link to Examples" title="Direct link to Examples">​</a></h4>
<p>You want to get a collection containing a single element per country name:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var countries : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> countries = ds.Employee.all().distinct("address.country")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p><code>nicknames</code> is a collection and <code>extra</code> is an object attribute:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">values = ds.Employee.all().distinct("extra.nicknames[].first")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>You want to get the number of different job names in the company:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var jobs : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">jobs = ds.Employee.all().distinct("jobName",kCountValues)  </span><br></span><span class=token-line style=color:#393A34><span class="token plain">//jobs[0] = {"value":"Developer","count":17}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//jobs[1] = {"value":"Office manager","count":5}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//jobs[2] = {"value":"Accountant","count":2}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//...</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=distinctpaths>.distinctPaths()<a href=#distinctpaths class=hash-link aria-label="Direct link to .distinctPaths()" title="Direct link to .distinctPaths()">​</a></h2>
<p><strong>.distinctPaths</strong>( <em>attribute</em> : string ) : collection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attribute<td>string<td style=text-align:center>→<td>object attribute name whose paths you want to get<tr><td>Result<td>collection<td style=text-align:center>←<td>newCollection with distinct paths</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-11>Description<a href=#description-11 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.distinctPaths()</code> function returns a collection of distinct paths found in the indexed object <em>attribute</em> for the entity selection.</p>
<p>If <em>attribute</em> is not an indexed object attribute, an error is generated.</p>
<p>After the call, the size of the returned collection is equal to the number of distinct paths found in <em>attribute</em> for the entity selection. Paths are returned as strings including nested attributes and collections, for example "info.address.number" or "children[].birthdate". Entities with a null value in the <em>attribute</em> are not taken into account.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-9>Example<a href=#example-9 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>You want to get all paths stored in a <em>fullData</em> object attribute:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var paths : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">paths = ds.Employee.all().distinctPaths("fullData")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//paths[0] = "age"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//paths[1] = "Children"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//paths[2] = "Children[].age"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//paths[3] = "Children[].name"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//paths[4] = "Children.length"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">///...</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p><em>length</em> is automatically added as path for nested collection properties.</div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=drop>.drop()<a href=#drop class=hash-link aria-label="Direct link to .drop()" title="Direct link to .drop()">​</a></h2>
<p><strong>.drop</strong>( { <em>mode</em> : integer } ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>mode<td>integer<td style=text-align:center>→<td><code>kStopDroppingOnFirstError</code>: stops method execution on first non-droppable entity<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>Empty entity selection if successful, else entity selection containing non-droppable entity(ies)</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-12>Description<a href=#description-12 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.drop()</code> function removes the entities belonging to the entity selection from the table related to its dataclass within the datastore. The entity selection remains in memory.</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 16 16"><path fill-rule=evenodd d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"/></svg></span>caution</div><div class=admonitionContent_BuS1><p>Removing entities is permanent and cannot be undone. It is recommended to call this action in a transaction in order to have a rollback option.</div></div>
<p>If a locked entity is encountered during the execution of <code>.drop()</code>, it is not removed. By default, the function processes all entities of the entity selection and returns non-droppable entities in the entity selection. If you want the method to stop execution at the first encountered non-droppable entity, pass the <code>kStopDroppingOnFirstError</code> constant in the <em>mode</em> parameter.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-10>Example<a href=#example-10 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>Example without the <code>kStopDroppingOnFirstError</code> option:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees, notDropped : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var info : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("firstName = :1","S@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> notDropped = employees.drop() // notDropped is an entity selection containing all the not dropped entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(notDropped.length == 0) //The delete action is successful, all the entities have been deleted</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "You have dropped "+string(employees.length)+" employees" //The dropped entity selection remains in memory</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "Problem during drop, try later"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Example with the <code>kStopDroppingOnFirstError</code> option:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees, notDropped : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var info : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("firstName = :1","S@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> notDropped = employees.drop(kStopDroppingOnFirstError) //notDropped is an entity selection containing the first not dropped entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(notDropped.length == 0) //The delete action is successful, all the entities have been deleted</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "You have dropped "+string(employees.length)+" employees") //The dropped entity selection remains in memory</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> else</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "Problem during drop, try later"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=extract>.extract()<a href=#extract class=hash-link aria-label="Direct link to .extract()" title="Direct link to .extract()">​</a></h2>
<p><strong>.extract</strong>( <em>attributePath</em> : string { , <em>option</em> : integer } ) : collection<br><strong>.extract</strong>( <em>attributePath</em> { , <em>targetPath</em> } { , <em>...attributePathN</em> : string , <em>targetPathN</em> : string } ) : collection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Attribute path whose values must be extracted to the new collection<tr><td>targetPath<td>string<td style=text-align:center>→<td>Target attribute path or attribute name<tr><td>option<td>integer<td style=text-align:center>→<td><code>kKeepNull</code>: include null attributes in the returned collection (ignored by default)<tr><td>Result<td>collection<td style=text-align:center>←<td>collection containing extracted values</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-13>Description<a href=#description-13 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.extract()</code> function returns a collection containing <em>attributePath</em> values extracted from the entity selection.</p>
<p><em>attributePath</em> can refer to:</p>
<ul>
<li>a scalar dataclass attribute,</li>
<li>related entity,</li>
<li>related entities.</li>
</ul>
<p>If <em>attributePath</em> is invalid, an empty collection is returned.</p>
<p>This function accepts two syntaxes.</p>
<p><strong>.extract( attributePath : string { , option : integer } ) : collection</strong></p>
<p>With this syntax, <code>.extract()</code> populates the returned collection with the <em>attributePath</em> values of the entity selection.</p>
<p>By default, entities for which <em>attributePath</em> is <em>null</em> or undefined are ignored in the resulting collection. You can pass the <code>kKeepNull</code> constant in the <em>option</em> parameter to include these values as <strong>null</strong> elements in the returned collection.</p>
<ul>
<li>Dataclass attributes with <a href=/docs/next/language/DataClassClass#attributename>.kind</a> = "relatedEntity" are extracted as a collection of entities (duplications are kept).</li>
<li>Dataclass attributes with <a href=/docs/next/language/DataClassClass#attributename>.kind</a> = "relatedEntities" are extracted as a collection of entity selections.</li>
</ul>
<p><strong>.extract ( attributePath , targetPath { , ...attributePathN , ... targetPathN}) : collection</strong></p>
<p>With this syntax, <code>.extract()</code> populates the returned collection with the <em>attributePath</em> properties. Each element of the returned collection is an object with <em>targetPath</em> properties filled with the corresponding <em>attributePath</em> properties. Null values are kept (<em>option</em> parameter is ignored with this syntax).</p>
<p>If several <em>attributePath</em> are given, a <em>targetPath</em> must be given for each. Only valid pairs [<em>attributePath</em>, <em>targetPath</em>] are extracted.</p>
<ul>
<li>Dataclass attributes with <a href=/docs/next/language/DataClassClass#attributename>.kind</a> = "relatedEntity" are extracted as an entity.</li>
<li>Dataclass attributes with <a href=/docs/next/language/DataClassClass#attributename>.kind</a> = "relatedEntities" are extracted as an entity selection.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class=admonitionHeading_Gvgb><span class=admonitionIcon_Rf37><svg viewBox="0 0 14 16"><path fill-rule=evenodd d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"/></svg></span>note</div><div class=admonitionContent_BuS1><p>Entities of a collection of entities accessed by [] are not reloaded from the datastore.</div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-11>Example<a href=#example-11 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>Given the following table and relation:</p>
<p><img decoding=async loading=lazy src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAaAAAACDCAIAAABEG1giAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAABszSURBVHhe7V3faxzHlh4I5BJuCDcs2C83CSQYDAkYgrlwhSEm5ppgG4MNwRcvDohgIzDI2bUevAr+EYhjMBIrBQvBmgkYDdiysBCM0YIcg5A3JnrUo8iL9ynv+w9k69R3qrqqunvU80Oaqvb5+Eh6TlfXnNNf1ecajbrU+EMgEAhqCjE4gUBQW4jBCQSC2kIMTiCohIYgHbBmYnACQUXw1BGkANZMDE4gqAjMnKcvfxfGTMjEmonBCQQVgZkTTCdhbIRMrJkYnEBQEZg5wXQSxkbIxJqJwQkEFYGZE0ynAXBtq/lkazkIvvx9ub3ZbL8KgsIdCZlYMzE4gaAiMHOC6bQzn29OfT83cae9sJ47Rdyeunykse/8xGPfy55vjH/eaHz2w/xzJyisQMjEmonBCQQVgZkTTKcduTBz5SO67vCF+e3glOb21FixwY19JgbXC7VKYnACQZfAzAmm0w58sXX7q09w4UdfLS28cE6tbzcfbjRXt0KDW9uaf7i50H6WGdyL7UX1X9X+8eaiWQYur2yqZvYl8cWrhYcb8yuOjT7fordYe70+5+Jus2ZicAJBRWDmBNNpB660Tn3YeO/0zXNHGo0DY7fbHF+8/8Pxv6K/xv63G2xwL7bnb4zq5Z7CvnfVf5TBrW2TRb7xyUHd/tDl9uLas/GzbJqNvxy7ML25rDpszZ06wLGDX7UWXrxq3rlyiAMHTn1PbbKsak3UzJqJwQkEFYGZE0ynzmzeGd3f+OTc9Ob8t2ffbLx/6u4Wxdeeff33RuPtY+euzY2PniAj+xcyuOWH00eV2X06OnZj7sJJbVfW4BQ+Pn9hYnpi7n/uXFRmefjMt0uz83PnVD8Hxm492br1zwONfWfHZp5N3Z3++trSwtP2BWVvR67dut++fePmmDZBN7Eak+6VGJxA0C0wc4Lp1Inrm5On3298fOX26u/Lj+eO/qWx/8vmwvrvyw9+OIy1mGqDz7C0gttu3lAmeODcDEywTSZoDe6tE+MP9CfN1aVzB1X85q2fNuZbz25dPtZQBvrjL2RwjSPnvmsv4Gd2q9rgPh4dv7e56H4ufg0ImVgzMThBevhtZqRxaZVf7B0wc4Lp1IEwtcYbh0e+OH/8i2PvqYv1R9HFe1c+arxz/LtN3cx+ybA9O67c6sR4SxuZ/ZIBBvfB6K0V3eeT5vF9SMSCvr5Yftw8g0+kbx+7cFet114tTF87/IaOfDo20Sr8fqOe1DWLwQn2GAN0pTQM7pX+WNr46LOzx0+eVzz6t/cbjXeO3thcuH9TLcJGJjboY+OL7amLh2Fw89dOkFvd12b0/JnyvbzBPW23znzQePPzm7dpBUdsrpjvEF5sz89Mn1I2ZxuvbU7duHL4rcafv5ibL/4llRoSMrFmYnCCPcLrZnBYgunPp4hg8fXmP6bnH7VOfaA+o45NzD+b+l5/FaB/Brc4f00Z33tnp2//1L51+cSfVTxvcOubEyf3Nd46duHOs+bK5vyDpVt3283/3rp97YfJ+5uL7Y2JLw+QXf7X8vjE3NTDrcXHrXPqDVQ/r82vm2iVxOAEe4tLGHeNkZnfEFg1EceqbEzBhsnOGByDwZnGRdebmGo5cukSXa8jWf82jS6AK4PpVMblh9MjbzQOji5lPwJb35r88n36adrD7dlvz+9Hd43Gm2+Zb1Gfb07+03w92mgUGxx98m2eUUZooTx0aWP8H+/wS7UIHFv6aalJHsr45Ax9aDVp1J2omTUTgxPsEbxlV/aCjthtyH64BR0i6gTtRXRgotn5oj51S76cmhpfcw6rAzMnmE6l1L/mtrDmBZdXs19eW3z87Pbd1tTj7WX9i2/sgy9eNdWibLo93361qBZoT7aVMS23N+cfby273xU835q/35r8rqk+qPK3CusUmfiupVZt8DL1XrMzzYk7S/P2M+zrQcjEmonBCfYImf/4x8VmY4KFJzMDc7oq7NNtScGsRQ/AzAmmkzA2QibWTAxOsEdwDYiOXbhuZUFBz6Aswq6swbmwBud6Gnkc0IPT4cJgOgljI2RizcTgBHuEQldyQUF3taWPS1dwua5K+8wFFXpazGHmBNNJGBshE2vmGhxOCCIHq5UcPP9yjMceOqajF1po7ERtD65tZcdFfYYtTQJ9GJwgCbBmYnDJgdVKD2QwCsZXtIkRPNczodXMmbKwG3Fty1pVrk/vrHM+e1MCx3a6t9xIkAJYs7zBBes9YTyEQKyWYEDAXbXgaBHQYPt//6/eTL1GyMSaicElRAjEagkGBNxVF3wiB5wNplP9mHqNkIk1E4NLiBCI1RIMCLirAficD5wKplP9mHqNkIk1q7/BvXi18Hgz+H3LRAmBWC3B4IAbG4DPOUA8mE71Y+o1QibWLDaDW3zQmrgxF3DyXu8Pmiy36ImZw//2rAaPqkAgVkswUODeBuBzBggG06l+3OsaV643TjZ/CYJ9EDKxZnEZHHZWyOHd081mr3shiMEJKgK3NwCf00BEz6Lfpk42jv/4mz7++RucMPhmJZtsKVKVEER2l6+RwVmub0588afGgWwnhqcv1SfNjfCJvJevFp9shDvTK1Nboyf+8IyeNbjFVf3EX9Ayt7H98tq2eovFFfMX2/L73A+PEIjVEuwCcIcD8LmOBpeZmpquDXsqSZoa94picMsPm2c+RXa0e9/kQ7KexZ+mT9k9Fd4+8fU9vQ/q+tbty3oPaMKRc3c3F7XBNQ4c5s0bPjjPm/8VbWxPO0C83dj/8SdvquC+8//+n7P+Pvd+kntOZMJqxQ2kWifYovQsKjc4RfK464/sy9Roaiyhqu7qz7/8eBp3o/Am0Fn2LBW//ujX5nG0pqBd8JpbpA3ukelQdY5OFB9d5ZjX+OrPiJf9K6LbJ2Rwa/rPC314fmy6PXXn5si+xrsn55rrr5o3RkdOX5uYaU9N3zy6r9H4fHr++avm96PKyA6evTk53Rz78sihf2399GBa/5rogaMXp8fH6S96vPdla2FdfRbObWy/opd71HjfyFc/jP/H3OWz/j73YnDVgDzrCj2LOhpcQSQlmhpLSPZtaqfj01O/qngHg4OvmWNuTzeQvcztUFsh+nE60U6Xb1xCepOEDG75wc1Djcah0eZUa2P+wdLYF/saf832xqKPqA+WvtY7C06tbE2e9c4q4iPqwYtt2o4GexD+/ebsUtHG9ve20fgjLNZe6D/k4e5zP2xCIFYrYiDPukLPos4GR2frbHDGd5zaOxgcHI2ofMp6U9bG69B6mX8Pyfj0Is5vXEjIxGMxfoNbmLlCm9m70Jv/LT9unTvyJ44oqMZPtH/97eas80sh3pcM1O07qsHUQsnG9m5jdW24z33W7VCoUxGDGzL0LHq9V3CZxVgbGpjBUZwMjjr0UVODW7xP+zgfutia1TvQK9Ivta1vTp59n370drc9q5Z1n2uDW3E+2JquCg1u9lHxxvaBwRHz+9wPjxCI1YoYyLNmsHXpWdTR4NQktD8zSpCmxhLussEVr+As62dwT1daZ9QnxU/HJu5vLDzZnJ1vTc5sLD7XDT4cnXy4vXB/+viH2uBWX+m/S7Tv6Hhr9kH71vj5oxeXWg+KDO5p0cb2zwM3zO1zb//2+JAIgVitiIE8LTiaCDhpH+4pPYvKDU7/FMlO4xRpaixhscHRAf+YDF8pdGVwRT+DI6fLe1mNDO4d+rEarcXoD6DhkyKw/2yTvmT4ftT76HpQu2F76esjHKC/YHTtGb5FDQ1urWhj+7ZvcM/Dfe7lS4aKQJ4WHE0BnLEPPtfR4Bxk8zlRqhqCiMdigzO+Rrj+KGtTzeDMF6MK7r8NNkiwjetgcC9/X1zRv/VmXtIG8/dog/nZh9mvwi0+bt+605pqbS1i03o01pvTT6qWT/Svg7ygrfGbq7z4om71Pvf0Mr+xvd84v8/9cAmBWK2IgTwtOBo9OF0ffE4DkWA61Y+p1wiZWLNoDU6YJwRitSIG8rTgaNzgXH3wOQMEg+lUP6ZeI2RizcTgEiIEYrUiBvK04GjE4ER98DkHiAfTqX5MvUbIxJqJwSVECMRqRQzkacHRWMFZ+uBzPnAqmE71Y+o1QibWLG9wgsjBakUMTtSAo7GCs3TAJ3Lg04IUwJqJwSUHViticKIGHI0VnKUBR4uABsF6oX5MvUbIxJrlDS5oXSemXh0EYrUiBvK04GjE4ER3ShVtAlHqx9RrhEysmRhcQoRArFbEQJ4WHE0fKCcQpX5MvUbIxJqJwSVECMRqRQzkacHR9IFyAlHqx9RrhEysmRhcQoRArFbEQJ4WHE0fKCcQpX5MvUbIxJqJwe0iKzxW0hUhEKsVMZCnBUfTB8oJRBkQnWeehs1dq7GEuzxNCg2uw6N2scjQA1XyQWR3KQanwdH0gXICUQZEMbhcvFdCJtasosFlt15lk+xmCaa6vaIYnAZH0wfKCUQZEMXgcvFeCZlYs64NTpE8Lsntrkx1JVR1JbXZfLRAnhYcTR8oR2uhJsjpqV9zitN48DbPYNHzQ4smkQaPChic7dDZkiTbpcMODP3uK4gPfiaqToOIx9SmSfcGVxBJg6a6Euoxx1XTMQZZB+XcTa8U0J5uHYvkdqg1Rj9OJ/4cKNcMpDcRgxseUI7WQqvMs85RvIPBeUPLjJxsVLgd6gudocXDL+vcazxwqq6DiMewltinSQ8GR2f9SBo01ZVQ3TtzQ52qOyjnDWV707M2XodWJP/ukaJ6pPqNCwmBWK2IgTwtOJo+UI7WwhMxU7yDwWXiuiPHTrT8qNBtckOooPGgaWosYWrTpAeDy0fSoKmuhN69s/d3YMpRnJSjDn2IwaUBlKO18Kef1W5QBmfa0JjxEZnBJTBNujc49R67tjzeVZrqSrjLyhX/02TZvXLRAnlacDR9oBythS+i1W6XV3CGJUNoQDQ1ltBLyWYS7zTp0uDo1mdZpkVTXQmLlaMDHqa69u6UK/rhAkmYF6l75aIF8rTgaPpAOVoLf/pl2tFkYcW1+l0ZXMHP4Jxh49B/90HT1FhCrxabic4/ymlSyeAcZOkmR5V9EPFYrJwRjBDXZvPRAnlacDR9oBythW8xrnbqGMA3g10YnP1iVMH5hJQNP4J1k+zdB031LkHEo1dLAtOk0ODqydSrg0CsVsRAnhYcTR8oJxClfky9RsjEmonBJUQIxGpFDORpwdH0gXICUerH1GuETKyZGFxChECsVsRAnhYcTR8oJxClfky9RsjEmonBJUQIxGpFDORpwdH0gXICUerH1GuETKxZ3uAEkYPVihicqAFH0wfXI0gBrFne4AI7rBNTrw4CsVoRA3lacDR9oJxAlPox9RohE2smBpcQIRCrFTGQpwVH0wfKCUSpH1OvETKxZmJwCRECsVoRA3lacDR9oJxAlPox9RohE2smBpcQIRCrFTGQpwVH0wfKCUSpH1OvETKxZmJwCRECsVoRA3lacDR9oJxAlPox9RohE2tWbnDmCS08a1ILOtUlSQjCakUM5GnB0fSBcgJR6sfUa4RMrFmZwWVPiuG44vYh9DxavBuN2Or6oPdsXXW6T+H1TAjEakUM5GnB0fSBcgJRDHscGHnSdBvqqqK8xuqMaJqUG1wPd1kMroRicDUAyglEMRSDcxm1wdEOASGyvQH0VgEcUS8ZKi290DOgs3qDhPy+9YrogWDvgu7ZbkjgdZ5d6LxFL7dPXRZEumOWtgJn5Wx4oCO6BLPTgyrBvQOEfjaBQA+sVsRAnhYcTR8oB1o4Q9HMCIYeBiri/+mA4qGb7cCBZt7U63+q90b11kGkO0Y2TfIGR428f0ZUxpnBWbMrsltvBQe18FIfo0PVxvRA71LQM0rFOHAupBvHnTsXdkHVaRDpnhCDX7ppkIQ6Tz2UKU8bwdn+xyvdFTG44QHlkBbeOAe9gYFJnilePHRpnDt7DfHl1MBOvWGQa+yLEU2Tbg0uy5syC1wmZ3DWid0iM2bChz3bOu2FfvH+eKpGW10fdN/XK9CpneLHT7J+OLsbykUL5GnB0fSBckgL0jpYZfgDMpsyxOKhW9LGm3rDINfYFyOaJr0bnKJKSMOkWG5wrpzUeQa093p26zQGR7358DKpQnVNEOmebp7qOICpnYzbk2o3lIsWyNOCo+kD5bAc2uMUjKz+1PDMq3jo+rOAgK5qZ3BDniZ9GRxINocGVQyOqnIrrGhwAyjeVtcH3Tz9AjOSot9cdcoUg6sFUI4nSraU86dGNmWIxer7bSxrZ3BDniYDMLisMeldUpjpxBqWCqp6qhscHTj3ogfa6vqgVsUURfnnxqi9G3TW3EP3uGdqfcTghgaU44tix603MALzKh66mTl6dCfIUJirsQdGNE16Njh34e15MIHal6zgnAuPX71uVnxuz9RJ3uD4OEPXZqeuCSI90OTA7871AipPz+IdmfVoVsgP6OrUHYjBDQ0oh7RQg9nAG6gEPTB8g3POAmbomlEBmLFBw0ah/7VMb1RvHUR6YDzTpNjgasnUq4NArFbEQJ4WHE0fKCcQpX5MvUbIxJqJwSVECMRqRQzkacHR9IFyAlHqx9RrhEysmRhcQoRArFbEQJ4WHE0fKCcQpX5MvUbIxJqJwSVECMRqRQzkacHR9IFyAlHqx9RrhEysWd7gBJGD1YoYnKgBR9MH1yNIAaxZ3uACO6wTU68OArFaEQN5WnA0faCcQJT6MfUaIRNrJgaXECEQqxUxkKcFR9MHyglEqR9TrxEysWZicAkRArFaEQN5WnA0faCcQJT6MfUaIRNrJgaXECEQqxUxkKcFR9MHyglEqR9TrxEysWZicAkRArFaEQN5WnA0faCcQJT6MfUaIRNrVmJwZc/Hpk1TXaqEQKxWxECeFhxNHygnEKV+TL1GyMSaDcrg6NGzvp+S3W2a6vqh98xsdbpP1/ZMCMRqRQzkacHR9IFyAlEs6XFLfv60x0ESCTvUWJkRTRMxuK4oBrczkKcFR9MHyglEKaIYXEoGl23+4ViYKoBx/MeXWQPeAkGdDf7AAq7S/8oBNrhCu9fbvRbocrtVg+OY2YV2J4buqS4OIt3R2UOiaJsEHdFVm1sHmbN7pdDPB3/0wGpFDORpwdH0gXKMHJms0JT/jQ8GibdtBoZQ7wN4b6jyDiLdMbJpsoPBqcycPLJgYLT+Ck7nmi3XubFqY66i/vlY3w73mC90bgF1bgyR7lSvS0VTXT+EGPyyMDEKahXdVPN3rAfSzRGDGx5QjtbCGcBqSOgx4EwBd5C4LfsavXtGU2M/jGia7GBwDjOpKCeTMeioq+iVVyhqFlSmlnVVODL8ZMj4evw30FTXD8MMixLTmcvfZDDgaPpAOaRF0SAsMTh3envxaMk19sWIpsmOBqdyzWDfnhyKwMl1MDjnFHWboarBeQlohGOrItWVQaR7uhmWJ+YuSzXF4GoAlENakL7hICwzuOylN9TjJdfYFyOaJp0NzrpMcMwkm9OaVTE4amzaZMc7G5xNpl+a6vphmGFRYqSo/E0GC46mD5RDWnSzglOE+gMZA3tArrEvRjRNOhucTgLJkajh21tR6aDYp2wba1hoUN3gtBsO4p8+U10/dG5ISWI7GHof1PqIwQ0NKEdrQcMgG8x6DPgG509pvVTp7a+V7z1Njf0womnS2eCsNgrXv2F/pbMG1n2pJAXdQB3nDY4tUuP0N1dNsILBKVLlFr2anbo0iPRAKofAhYeJUY22BEdmU7s37ruk7kAMbmhAOSxHNphZU8fgwkHCs6PXcbvHVJkGkR4YzzQpNLh6MvXqIBCrFTGQpwVH0wfKCUSpRu9f68jZa42xEDKxZmJwCRECsVoRA3lacDR9oJxAlEr0Fiyxs8caoyFkYs3E4BIiBGK1IgbytOBo+kA5gShVSJ/XEvl8qthbjfEQMrFmYnAJEQKxWhEDeVpwNH2gnECU+jH1GiETa5Y3OEHkYLUiBidqwNH0wfUIUgBrlje4wA7rxNSrg0CsVsRAnhYcTR9cjyB6sGAaYnDJEAKxWhEDeVpwVCAYBsTgkiEEYrUiBvK04KhAMAyIwSVDCMRqRQzkacFRgWAYEINLhhCI1YoYyNOCowLBMNCjwZX9as9AnibbJVavbjD0nkIbACEQqxUxkKcFRwWCYSByg3OfcdEP9Dno9oE1dUkQ2V3ujsElBx5eAsEwkJjBZaamdwHo6vm+6tUNhmJwGjy8BIJhoMTgcpsl+MHrU67Baa8hnGxOWYNTwas/YxcB2JCzo4C3AxQDvYXvW25wivS+WVc7UvUZRDzqhM0uCMVv6ti6igd/d8IuME1K2uAemQ5d3y+4Fbnbladunx54eAkEw0ChwenZi3mVmYjjNZjY2VQ3FkCNHYNz5qq74qNpbNuYoCa9hWdhnQ2uINKJproSugnTMZ6O9t7CNzjvDpj2lHDBHdB3DP2U3opyawPpTRIEDy+BYBgoWcFZ0szUU5cOsuVSNkt9kyoxL9+5bFeZj2TN+HInUm5wfrc7saA6l17C9r06GFyWuaraetNOd6b8VjiNCwmB0gKPLYFgSCgxOLIeCz2TKVJgcO56RLHE4LDGcWG6Mm9k5rz2OAW+trPB5SOdqHoNIh69hK0NDczgKE53puRW+I0LidaslkAgqIAig7OrNvd4gCu4PFVjxy/Y5sx6p9Tg6KospR3J1ZWxOOGBGVzxCs7Sb1xICMRqCQSCCigyOMc4aLryTKapztOYzM77WoBnLF1YaHB6eneYwL57KhrLKDc4/b7WVqqQqyujl7C1ITrgityqKxpc0c/gim+Ff7sKSfdWDE4g6AZFBodJCFy9ns1kzHAFNRXdCalnMgHfQhYZnGLWp4I+pd2ToSc/WRiDrw0NzoG74qtEdU0Q8egl7KyzbNXKgrM21QzOfDGq4Hpx/laIwQkEu4Fig6slU68OArFaVbF6qTEy8xu/MCgMCgQ1hBhcMoRArFZViMEJXmuIwSVDCMRqVYUYnOC1hhhcMoRArJaFMiuLS6th8NKlzMvywd9mRkYuXRqhkL4ya2E6cvt3PLEwKBDEh9DgBJGD1WKQ07Ab0SHsJgsqB+sU1EfGzOhF1oCNS11lLCw7LAwKBDFCDC4lsFTFMGbjmU7HoONkjr8p2NbqIIsaFAYFghjRec4IoodehRmQK7muZa2qMOiZmtePgm1NdgY4plYYFAiigxhcyvB8y9iW+f/OwdDgOpqVuijfoDAoEEQDMbiU4fgLHbKHZVG9LCsPeqbmvLCHdGB80XZQGBQIooQYXNIgswFGZlZ9h0JwJlu55YMUce1JmySa4BIFG9sxKBDEBzE4gUBQW4jBCQSCmuKPP/4f3rLms6L/bt4AAAAASUVORK5CYII=" width=416 height=131 class=img_ev3q></p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var firstnames, addresses, mailing, teachers : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //firstnames is a collection of Strings</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> firstnames = ds.Teachers.all().extract("firstname")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //addresses is a collection of entities related to dataclass Address</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Null values for address are extracted</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> addresses = ds.Teachers.all().extract("address",kKeepNull)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //mailing is a collection of objects with properties "who" and "to"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"who" property content is string type</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"to" property content is entity type (Address dataclass)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> mailing = ds.Teachers.all().extract("lastname","who","address","to")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //mailing is a collection of objects with properties "who" and "city"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"who" property content is string type</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"city" property content is string type</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> mailing = ds.Teachers.all().extract("lastname","who","address.city","city")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //teachers is a collection of objects with properties "where" and "who"</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"where" property content is string</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //"who" property content is an entity selection (Teachers dataclass)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> teachers = ds.Address.all().extract("city","where","teachers","who")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //teachers is a collection of entity selections</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> teachers = ds.Address.all().extract("teachers")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=first>.first()<a href=#first class=hash-link aria-label="Direct link to .first()" title="Direct link to .first()">​</a></h2>
<p><strong>.first()</strong> : 4D.Entity</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>4D.Entity<td style=text-align:center>←<td>Reference to the first entity of the entity selection (Null if selection is empty)</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-14>Description<a href=#description-14 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.first()</code> function returns a reference to the entity in the first position of the entity selection.</p>
<p>The result of this function is similar to:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> entity = entitySel[0]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>There is, however, a difference between both statements when the selection is empty:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var entitySel : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySel = ds.Emp.query("lastName = :1","Nonexistentname") //no matching entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //entity selection is then empty</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entity = entitySel.first() //returns Null</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entity = entitySel[0]  //generates an error</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-12>Example<a href=#example-12 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var entitySelection : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySelection = ds.Emp.query("salary > :1",100000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(entitySelection.length != 0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    entity = entitySelection.first()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=getdataclass>.getDataClass()<a href=#getdataclass class=hash-link aria-label="Direct link to .getDataClass()" title="Direct link to .getDataClass()">​</a></h2>
<p><strong>.getDataClass()</strong> : 4D.DataClass</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>4D.DataClass<td style=text-align:center>←<td>Dataclass object to which the entity selection belongs</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-15>Description<a href=#description-15 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.getDataClass()</code> function returns the dataclass of the entity selection.</p>
<p>This function is mainly useful in the context of generic code.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-13>Example<a href=#example-13 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>The following generic code duplicates all entities of the entity selection:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entities method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //duplicate_entities(entity_selection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> declare ( entitySelection : 4D.EntitySelection )  </span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var dataClass : 4D.DataClass</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var entity, duplicate : 4D.Entity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var status : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> dataClass = entitySelection.getDataClass()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> forEach(entity,entitySelection)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    duplicate = dataClass.new()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    duplicate.fromObject(entity.toObject())</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    duplicate[dataClass.getInfo().primaryKey] = null //reset the primary key</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    status = duplicate.save()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=isalterable>.isAlterable()<a href=#isalterable class=hash-link aria-label="Direct link to .isAlterable()" title="Direct link to .isAlterable()">​</a></h2>
<p><strong>.isAlterable</strong>() : boolean</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>boolean<td style=text-align:center>←<td>True if the entity selection is alterable, False otherwise</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-16>Description<a href=#description-16 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.isAlterable()</code> function returns true if the entity selection is alterable, and false if the entity selection is not alterable.</p>
<p>For more information, please refer to the <a href=/docs/next/guides/crud-operations#shareable-or-alterable-entity-selections>Shareable or alterable entity selections</a> section.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=isordered>.isOrdered()<a href=#isordered class=hash-link aria-label="Direct link to .isOrdered()" title="Direct link to .isOrdered()">​</a></h2>
<p><strong>.isOrdered</strong>() : boolean</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>boolean<td style=text-align:center>←<td>true if the entity selection is ordered, false otherwise</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-17>Description<a href=#description-17 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.isOrdered()</code> function returns true if the entity selection is ordered, and false if it is unordered.</p>
<p>For more information, please refer to the <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>Ordered or unordered entity selection</a> section.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-14>Example<a href=#example-14 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var isOrdered : boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var info : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.newSelection(kKeepOrdered)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.get(714) // Gets the entity with primary key 714</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //In an ordered entity selection, we can add the same entity several times (duplications are kept)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees.add(employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees.add(employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees.add(employee)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> isOrdered = employees.isOrdered()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(isOrdered)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    info = "The entity selection is ordered and contains "+string(employees.length)+" employees"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=last>.last()<a href=#last class=hash-link aria-label="Direct link to .last()" title="Direct link to .last()">​</a></h2>
<p><strong>.last</strong>() : 4D.Entity</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>Result<td>4D.Entity<td style=text-align:center>←<td>Reference to the last entity of the entity selection (null if empty entity selection)</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-18>Description<a href=#description-18 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.last()</code> function returns a reference to the entity in last position of the entity selection.</p>
<p>The result of this function is similar to:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> entity = entitySel[length-1]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>If the entity selection is empty, the function returns null.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-15>Example<a href=#example-15 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var entitySelection : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var entity : cs.EmpEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySelection = ds.Emp.query("salary &lt; :1",50000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> if(entitySelection.length != 0)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    entity = entitySelection.last()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=length>.length<a href=#length class=hash-link aria-label="Direct link to .length" title="Direct link to .length">​</a></h2>
<p><strong>.length</strong> : integer</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-19>Description<a href=#description-19 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.length</code> property returns the number of entities in the entity selection. If the entity selection is empty, it returns 0.</p>
<p>Entity selections always have a <code>.length</code> property.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-16>Example<a href=#example-16 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var vSize : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var info : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vSize = ds.Employee.query("gender = :1","male").length</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> info = string(vSize)+" male employees found."</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=max>.max()<a href=#max class=hash-link aria-label="Direct link to .max()" title="Direct link to .max()">​</a></h2>
<p><strong>.max</strong>( <em>attributePath</em> : string ) : any</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Path of the attribute to be used for calculation<tr><td>Result<td>any<td style=text-align:center>←<td>Highest value of attribute</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-20>Description<a href=#description-20 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.max()</code> function returns the highest (or maximum) value among all the values of <em>attributePath</em> in the entity selection. It actually returns the value of the last entity of the entity selection as it would be sorted in ascending order using the <a href=#orderby><code>.orderBy()</code></a> function.</p>
<p>If you pass in <em>attributePath</em> a path to an object property containing different types of values, the <code>.max()</code> function will return the maximum value of the first scalar type found in the default type list order:</p>
<ol>
<li>booleans</li>
<li>strings</li>
<li>numbers</li>
<li>objects</li>
<li>collections</li>
<li>dates</li>
</ol>
<p><code>.max()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> is not found in the object attribute.</p>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-17>Example<a href=#example-17 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>We want to find the highest salary among all the female employees:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var maxSalary : number</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel = ds.Employee.query("gender = :1","female")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> maxSalary = sel.max("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=min>.min()<a href=#min class=hash-link aria-label="Direct link to .min()" title="Direct link to .min()">​</a></h2>
<p><strong>.min</strong>( <em>attributePath</em> : string ) : any</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Path of the attribute to be used for calculation<tr><td>Result<td>any<td style=text-align:center>←<td>Lowest value of attribute</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-21>Description<a href=#description-21 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.min()</code> function  returns the lowest (or minimum) value among all the values of <em>attributePath</em> in the entity selection.  It actually returns the first entity of the entity selection as it would be sorted in ascending order using the <a href=#orderby><code>.orderBy()</code></a> function (excluding <strong>null</strong> values).</p>
<p>If you pass in <em>attributePath</em> a path to an object property containing different types of values, the <code>.min()</code> function will return the minimum value within the first scalar value type found in the default type list order (see <a href=#max><code>.max()</code></a> description).</p>
<p><code>.min()</code> returns <strong>undefined</strong> if the entity selection is empty or <em>attributePath</em> is not found in the object attribute.</p>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> designates an attribute that does not exist in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-18>Example<a href=#example-18 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<p>In this example, we want to find the lowest salary among all the female employees:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel : cs.EmpSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var minSalary : number</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel = ds.Employee.query("gender = :1","female")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> minSalary: = sel.min("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=minus>.minus()<a href=#minus class=hash-link aria-label="Direct link to .minus()" title="Direct link to .minus()">​</a></h2>
<p><strong>.minus</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.minus</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>entity<td>4D.Entity<td style=text-align:center>→<td>Entity to substract<tr><td>entitySelection<td>4D.EntitySelection<td style=text-align:center>→<td>Entity selection to substract<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection or a new reference on the existing entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-22>Description<a href=#description-22 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.minus()</code> function excludes from the entity selection to which it is applied the <em>entity</em> or the entities of <em>entitySelection</em> and returns the resulting entity selection.</p>
<ul>
<li>If you pass <em>entity</em> as parameter, the function creates a new entity selection without <em>entity</em> (if <em>entity</em> belongs to the entity selection). If <em>entity</em> was not included in the original entity selection, a new reference to the entity selection is returned.</li>
<li>If you pass <em>entitySelection</em> as parameter, the function returns an entity selection containing the entities belonging to the original entity selection without the entities belonging to <em>entitySelection</em>.</li>
</ul>
<blockquote>
<p>You can compare <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered and/or unordered entity selections</a>. The resulting selection is always unordered.</p>
</blockquote>
<p>If the original entity selection or both the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned.</p>
<p>If <em>entitySelection</em> is empty or if <em>entity</em> is null, a new reference to the original entity selection is returned.</p>
<p>If the original entity selection and the parameter are not related to the same dataclass, an error is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-4>Example 1<a href=#example-1-4 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees, result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("lastName = :1","H@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // The employees entity selection contains the entity with primary key 710 and other entities</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // for ex. "Colin Hetrick", "Grady Harness", "Sherlock Holmes" (primary key 710)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.get(710) // Returns "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = employees.minus(employee) //result contains "Colin Hetrick", "Grady Harness"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-3>Example 2<a href=#example-2-3 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>We want to have a selection of female employees named "Jones" who live in New York :</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var sel1, sel2, sel3 : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel1 = ds.Employee.query("name  = :1","Jones")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel2 = ds.Employee.query("city = :1","New York")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sel3 = sel1.and(sel2).minus(ds.Employee.query("gender = 'male'"))</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=or>.or()<a href=#or class=hash-link aria-label="Direct link to .or()" title="Direct link to .or()">​</a></h2>
<p><strong>.or</strong>( <em>entity</em> : 4D.Entity ) : 4D.EntitySelection<br><strong>.or</strong>( <em>entitySelection</em> : 4D.EntitySelection ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>entity<td>4D.Entity<td style=text-align:center>→<td>Entity to intersect with<tr><td>entitySelection<td>4D.EntitySelection<td style=text-align:center>→<td>Entity selection to intersect with<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection or new reference to the original entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-23>Description<a href=#description-23 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.or()</code> function combines the entity selection with the <em>entity</em> or <em>entitySelection</em> parameter using the logical (not exclusive) OR operator; it returns a new, unordered entity selection that contains all the entities from the entity selection and the parameter.</p>
<ul>
<li>If you pass <em>entity</em> as parameter, you compare this entity with the entity selection. If the entity belongs to the entity selection, a new reference to the entity selection is returned. Otherwise, a new entity selection containing the original entity selection and the entity is returned.</li>
<li>If you pass <em>entitySelection</em> as parameter, you compare entity selections. A new entity selection containing the entities belonging to the original entity selection or <em>entitySelection</em> is returned (or is not exclusive, entities referenced in both selections are not duplicated in the resulting selection).</li>
</ul>
<blockquote>
<p>You can compare <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered and/or unordered entity selections</a>. The resulting selection is always unordered.</p>
</blockquote>
<p>If the original entity selection and the <em>entitySelection</em> parameter are empty, an empty entity selection is returned. If the original entity selection is empty, a reference to <em>entitySelection</em> or an entity selection containing only <em>entity</em> is returned.</p>
<p>If <em>entitySelection</em> is empty or if <em>entity</em> is Null, a new reference to the original entity selection is returned.</p>
<p>If the original entity selection and the parameter are not related to the same dataclass, an error is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-5>Example 1<a href=#example-1-5 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees1, employees2, result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees1 = ds.Employee.query("lastName = :1","H@") //Returns "Colin Hetrick","Grady Harness"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees2 = ds.Employee.query("firstName = :1","C@") //Returns "Colin Hetrick", "Cath Kidston"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = employees1.or(employees2) //result contains "Colin Hetrick", "Grady Harness","Cath Kidston"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-4>Example 2<a href=#example-2-4 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employees, result : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employee : cs.EmployeeEntity</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.query("lastName = :1","H@") // Returns "Colin Hetrick","Grady Harness", "Sherlock Holmes"</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employee = ds.Employee.get(686) //the entity with primary key 686 does not belong to the $employees entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //It matches the employee "Mary Smith"</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = employees.or(employee) //result contains "Colin Hetrick", "Grady Harness", "Sherlock Holmes", "Mary Smith"</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=orderby>.orderBy()<a href=#orderby class=hash-link aria-label="Direct link to .orderBy()" title="Direct link to .orderBy()">​</a></h2>
<p><strong>.orderBy</strong>( <em>pathString</em> : string ) : 4D.EntitySelection<br><strong>.orderBy</strong>( <em>pathObjects</em> : collection ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>pathString<td>string<td style=text-align:center>→<td>Attribute path(s) and sorting instruction(s) for the entity selection<tr><td>pathObjects<td>collection<td style=text-align:center>→<td>collection of criteria objects<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection in the specified order</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-24>Description<a href=#description-24 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.orderBy()</code> function returns a new <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>ordered</a> entity selection containing all entities of the entity selection in the order specified by <em>pathString</em> or <em>pathObjects</em> criteria.</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>You must use a criteria parameter to define how the entities must be sorted. Two different parameters are supported:</p>
<ul>
<li><em>pathString</em> (string): this parameter contains a formula made of 1 to X attribute paths and (optionally) sort orders, separated by commas. The syntax is:</li>
</ul>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">"attributePath1 {desc or asc}, attributePath2 {desc or asc},..."</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>The order in which the attributes are passed determines the sorting priority of the entities. By default, attributes are sorted in ascending order. You can set the sort order of a property in the criteria string, separated from the property path by a single space: pass "asc" to sort in ascending order or "desc" in descending order.</p>
<ul>
<li><em>pathObjects</em> (collection): each element of the collection contains an object structured in the following way:</li>
</ul>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"propertyPath"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> string</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token property" style=color:#36acaa>"descending"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> boolean</span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>}</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>By default, attributes are sorted in ascending order ("descending" is false).</p>
<p>You can add as many objects in the criteria collection as necessary.</p>
<blockquote>
<p>Null values are evaluated as less than other values.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-19>Example<a href=#example-19 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">// order by formula</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sortedEntitySelection = entitySelection.orderBy("firstName asc, salary desc")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sortedEntitySelection = entitySelection.orderBy("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // order by collection with or without sort orders</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl.push(newObject("propertyPath","firstName","descending",false))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl.push(newObject("propertyPath","salary","descending",true))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sortedEntitySelection = entitySelection.orderBy(orderColl)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl.push(newObject("propertyPath","manager.lastName"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> orderColl.push(newObject("propertyPath","salary"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> sortedEntitySelection = entitySelection.orderBy(orderColl)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=orderbyformula->.orderByFormula( )<a href=#orderbyformula- class=hash-link aria-label="Direct link to .orderByFormula( )" title="Direct link to .orderByFormula( )">​</a></h2>
<p><strong>.orderByFormula</strong>( <em>formulaString</em> : string { , <em>sortOrder</em> : integer } { , <em>settings</em> : object} ) : 4D.EntitySelection<br><strong>.orderByFormula</strong>( <em>formulaObj</em> : object { , <em>sortOrder</em> : integer } { , <em>settings</em> : object} ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>formulaString<td>string<td style=text-align:center>→<td>formula string<tr><td>formulaObj<td>4D.Formula<td style=text-align:center>→<td>formula object<tr><td>sortOrder<td>integer<td style=text-align:center>→<td><code>kAscending</code> (default) or <code>kDescending</code><tr><td>settings<td>object<td style=text-align:center>→<td>Parameter(s) for the formula<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New ordered entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-25>Description<a href=#description-25 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.orderByFormula()</code> function returns a new, ordered entity selection containing all entities of the entity selection in the order defined through the <em>formulaString</em> or <em>formulaObj</em> and, optionally, <em>sortOrder</em> and <em>settings</em> parameters.</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>You can use either a <em>formulaString</em> or a <em>formulaObj</em> parameter:</p>
<ul>
<li><em>formulaString</em>: you pass a QodlyScript expression such as "Year of(this.birthDate)".</li>
<li><em>formulaObj</em>: pass a valid formula object created using the <code>formula</code> or <code>formula from string</code> command.</li>
</ul>
<p>The <em>formulaString</em> or <em>formulaObj</em> is executed for each entity of the entity selection and its result is used to define the position of the entity in the returned entity selection. The result must be of a sortable type (boolean, date, number, text, time, null).</p>
<blockquote>
<p>A null result is always the smallest value.</p>
</blockquote>
<p>By default if you omit the <em>sortOrder</em> parameter, the resulting entity selection is sorted in ascending order. Optionnally, you can pass one of the following values in the <em>sortOrder</em> parameter:</p>
<table><thead><tr><th>Constant<th>Value<th>Comment<tbody><tr><td>kAscending<td>0<td>Ascending sort order (default)<tr><td>kDescending<td>1<td>Descending sort order</table>
<p>Within the <em>formulaString</em> or <em>formulaObj</em>, the processed entity and thus its attributes are available through the <code>This</code> command (for example, <code>this.lastName</code>).</p>
<p>You can pass parameter(s) to the formula using the <code>args</code> property (object) of the <code>settings</code> parameter: the formula receives the <code>settings.args</code> object in a special variable named <code>$1</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-6>Example 1<a href=#example-1-6 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<p>Sorting students using a formula provided as text:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var es1, es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es1 = ds.Students.query("nationality = :1","French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.orderByFormula("length(this.lastname)") //ascending by default</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.orderByFormula("length(this.lastname)",kDescending)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Same sort order but using a formula object:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var es1, es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var vFormula : 4D.Function</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es1 = ds.Students.query("nationality = :1","French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vFormula = formula(length(this.lastname))</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.orderByFormula(vFormula) // ascending by default</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.orderByFormula(vFormula,kDescending)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-5>Example 2<a href=#example-2-5 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>A formula is given as a formula object with parameters; <code>settings.args</code> object is received in the <code>$1</code> variable in the <em><strong>computeAverage</strong></em> method.</p>
<p>In this example, the "marks" object field in the <strong>Students</strong> dataClass contains students' grades for each subject. A single formula object is used to compute a student's average grade with different coefficients for schoolA and schoolB.</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var es1, es2 : cs.StudentsSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var vFormula, schoolA, schoolB : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es1 = ds.Students.query("nationality = :1","French")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vFormula = formula(computeAverage($1))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> schoolA = newObject() //settings object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> schoolA.args = newObject("english",1,"math",1,"history",1) // Coefficients to compute an average</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Order students according to school A criteria</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.entitySelection.orderByFormula(vFormula,schoolA)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> schoolB = newObject() //settings object</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> schoolB.args = newObject("english",1,"math",2,"history",3) // Coefficients to compute an average</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  //Order students according to school B criteria</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> es2 = es1.entitySelection.orderByFormula(vFormula,kDescending,schoolB)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">  //</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // computeAverage method</span><br></span><span class=token-line style=color:#393A34><span class="token plain">  // -----------------------------</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> declare (coefList : object) -> result : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var subject : string</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var vAverage, vSum : integer</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vAverage = 0</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> vSum = 0</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> forEach(subject,coefList)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    vSum = vSum+coefList[subject]</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> forEach(subject,this.marks)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">    vAverage = vAverage+(this.marks[subject]*coefList[subject])</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> end</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> result = vAverage/vSum</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=query>.query()<a href=#query class=hash-link aria-label="Direct link to .query()" title="Direct link to .query()">​</a></h2>
<p><strong>.query</strong>( <em>queryString</em> : string { , <em>...value</em> : any } { , <em>querySettings</em> : object } ) : 4D.EntitySelection <br><strong>.query</strong>( <em>formula</em> : object { , <em>querySettings</em> : object } ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>queryString<td>string<td style=text-align:center>→<td>Search criteria as string<tr><td>formula<td>4D.Formula<td style=text-align:center>→<td>Search criteria as formula object<tr><td>value<td>any<td style=text-align:center>→<td>Value(s) to use for indexed placeholder(s)<tr><td>querySettings<td>object<td style=text-align:center>→<td>Query options: parameters, attributes, args, allowFormulas, context, queryPath, queryPlan<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection made up of entities from entity selection meeting the search criteria specified in <em>queryString</em> or <em>formula</em></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-26>Description<a href=#description-26 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.query()</code> function searches for entities that meet the search criteria specified in <em>queryString</em> or <em>formula</em> and (optionally) <em>value</em>(s) among all the entities in the entity selection, and returns a new object of type <code>EntitySelection</code> containing all the entities that are found. Lazy loading is applied.</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>If no matching entities are found, an empty <code>EntitySelection</code> is returned.</p>
<p>For detailed information on how to build a query using <em>queryString</em>, <em>value</em>, and <em>querySettings</em> parameters, please refer to the DataClass <a href=/docs/next/language/DataClassClass#query><code>.query()</code></a> function description.</p>
<blockquote>
<p>By default if you omit the <strong>order by</strong> statement in the <em>queryString</em>, the returned entity selection is <a href=/docs/next/guides/data-model-objects#ordered-or-unordered-entity-selection>not ordered</a>.</p>
</blockquote>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-7>Example 1<a href=#example-1-7 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var entitySelectionTemp, myEntitySel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> entitySelectionTemp = ds.Employee.query("lastName = :1","M@")</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> myEntitySel = entitySelectionTemp.query("manager.lastName = :1","S@")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-6>Example 2<a href=#example-2-6 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>More examples of queries can be found in the DataClass <a href=/docs/next/language/DataClassClass#query><code>.query()</code></a> page.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=see-also>See also<a href=#see-also class=hash-link aria-label="Direct link to See also" title="Direct link to See also">​</a></h4>
<p><a href=/docs/next/language/DataClassClass#query><code>.query()</code></a> for dataclass</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=querypath>.queryPath<a href=#querypath class=hash-link aria-label="Direct link to .queryPath" title="Direct link to .queryPath">​</a></h2>
<p><strong>.queryPath</strong> : string</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-27>Description<a href=#description-27 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.queryPath</code> property contains a detailed description of the query as it was actually performed by Qodly. This property is available for <code>EntitySelection</code> objects generated through queries if the <code>"queryPath":true</code> property was passed in the <em>querySettings</em> parameter of the <a href=#query><code>.query()</code></a> function.</p>
<p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href=/docs/next/language/DataClassClass#query><code>.query()</code></a> page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=queryplan>.queryPlan<a href=#queryplan class=hash-link aria-label="Direct link to .queryPlan" title="Direct link to .queryPlan">​</a></h2>
<p><strong>.queryPlan</strong> : string</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-28>Description<a href=#description-28 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.queryPlan</code> property  contains a detailed description of the query just before it is executed (i.e., the planned query). This property is available for <code>EntitySelection</code> objects generated through queries if the <code>"queryPlan":true</code> property was passed in the <em>querySettings</em> parameter of the <a href=#query><code>.query()</code></a> function.</p>
<p>For more information, refer to the <strong>querySettings parameter</strong> paragraph in the Dataclass<a href=/docs/next/language/DataClassClass#query><code>.query()</code></a> page.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=selected>.selected()<a href=#selected class=hash-link aria-label="Direct link to .selected()" title="Direct link to .selected()">​</a></h2>
<p><strong>.selected</strong>( <em>selectedEntities</em> : 4D.EntitySelection ) : object</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>selectedEntities<td>4D.EntitySelection<td style=text-align:center>→<td>Entity selection with entities for which to know the rank in the entity selection<tr><td>Result<td>object<td style=text-align:center>←<td>Range(s) of selected entities in entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-29>Description<a href=#description-29 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.selected()</code> function returns an object describing the position(s) of <em>selectedEntities</em> in the original entity selection.</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>Pass in the <em>selectedEntities</em> parameter an entity selection containing entities for which you want to know the position in the original entity selection. <em>selectedEntities</em> must be an entity selection belonging to the same dataclass as the original entity selection, otherwise an error 1587 - "The entity selection comes from an incompatible dataclass" is raised.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=result>Result<a href=#result class=hash-link aria-label="Direct link to Result" title="Direct link to Result">​</a></h4>
<p>The returned object contains the following properties:</p>
<table><thead><tr><th>Property<th>Type<th>Description<tbody><tr><td>ranges<td>collection<td>collection of range objects<tr><td>ranges[].start<td>integer<td>First entity index in the range<tr><td>ranges[].end<td>integer<td>Last entity index in the range</table>
<p>If a <code>ranges</code> property contains a single entity, <code>start = </code>end`. Index starts at 0.</p>
<p>The function returns an empty collection in the <code>ranges</code> property if the original entity selection or the <em>selectedEntities</em> entity selection is empty.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-20>Example<a href=#example-20 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var invoices, cashSel, creditSel : cs.InvoicesSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var result1, result2 : object</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">invoices = ds.Invoices.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">cashSel = ds.Invoices.query("payment = :1", "Cash")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">creditSel = ds.Invoices.query("payment IN :1", newCollection("Cash", "Credit Card"))</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">result1 = invoices.selected(cashSel)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">result2 = invoices.selected(creditSel)</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">//result1 = {ranges:[{start:0;end:0},{start:3;end:3},{start:6;end:6}]}</span><br></span><span class=token-line style=color:#393A34><span class="token plain">//result2 = {ranges:[{start:0;end:1},{start:3;end:4},{start:6;end:7}]}</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=slice>.slice()<a href=#slice class=hash-link aria-label="Direct link to .slice()" title="Direct link to .slice()">​</a></h2>
<p><strong>.slice</strong>( <em>startFrom</em> : integer { , <em>end</em> : integer } ) : 4D.EntitySelection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>startFrom<td>integer<td style=text-align:center>→<td>Index to start the operation at (included)<tr><td>end<td>integer<td style=text-align:center>→<td>End index (not included)<tr><td>Result<td>4D.EntitySelection<td style=text-align:center>←<td>New entity selection containing sliced entities (shallow copy)</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-30>Description<a href=#description-30 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.slice()</code> function returns a portion of an entity selection into a new entity selection, selected from the <em>startFrom</em> index to the <em>end</em> index (<em>end</em> is not included) or to the last entity of the entity selection. This method returns a shallow copy of the entity selection (it uses the same entity references).</p>
<blockquote>
<p>This function does not modify the original entity selection.</p>
</blockquote>
<p>The returned entity selection contains the entities specified by <em>startFrom</em> and all subsequent entities up to, but not including, the entity specified by <em>end</em>. If only the <em>startFrom</em> parameter is specified, the returned entity selection contains all entities from <em>startFrom</em> to the last entity of the original entity selection.</p>
<ul>
<li>If <em>startFrom</em> &lt; 0, it is recalculated as <em>startFrom: = startFrom+length</em> (it is considered as the offset from the end of the entity selection). If the calculated value &lt; 0, <em>startFrom</em> is set to 0.</li>
<li>If <em>startFrom >=  length</em>, the function returns an empty entity selection.</li>
<li>If <em>end</em> &lt; 0, it is recalculated as <em>end: = end+length</em>.</li>
<li>If <em>end &lt; startFrom</em> (passed or calculated values), the method does nothing.</li>
</ul>
<p>If the entity selection contains entities that were dropped in the meantime, they are also returned.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-8>Example 1<a href=#example-1-8 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<p>You want to get a selection of the first 9 entities of the entity selection:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var sel, sliced : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">sel = ds.Employee.query("salary > :1",50000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">sliced = sel.slice(0,9) //</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-7>Example 2<a href=#example-2-7 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>Assuming we have ds.Employee.all().length = 10</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var slice : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">slice = ds.Employee.all().slice(-1,-2) //tries to return entities from index 9 to 8,</span><br></span><span class=token-line style=color:#393A34><span class="token plain">	//but since 9 > 8, returns an empty entity selection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=sum>.sum()<a href=#sum class=hash-link aria-label="Direct link to .sum()" title="Direct link to .sum()">​</a></h2>
<p><strong>.sum</strong>( <em>attributePath</em> : string ) : number</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>attributePath<td>string<td style=text-align:center>→<td>Path of the attribute to be used for calculation<tr><td>Result<td>number<td style=text-align:center>←<td>Sum of entity selection values</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-31>Description<a href=#description-31 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.sum()</code> function returns the sum for all <em>attributePath</em> values in the entity selection.</p>
<p><code>.sum()</code> returns 0 if the entity selection is empty.</p>
<p>The sum can only be done on values of number type. If the <em>attributePath</em> is an object property, only numerical values are taken into account for the calculation (other value types are ignored). In this case, if <em>attributePath</em> leads to a property that does not exist in the object or does not contain any numeric values, <code>.sum()</code> returns 0.</p>
<p>An error is returned if:</p>
<ul>
<li><em>attributePath</em> is not a numerical or an object attribute,</li>
<li><em>attributePath</em> is a related attribute,</li>
<li><em>attributePath</em> is not found in the entity selection dataclass.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-21>Example<a href=#example-21 class=hash-link aria-label="Direct link to Example" title="Direct link to Example">​</a></h4>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var sel : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var sum : number</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">sel = ds.Employee.query("salary &lt; :1",20000)</span><br></span><span class=token-line style=color:#393A34><span class="token plain">sum = sel.sum("salary")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id=tocollection->.toCollection( )<a href=#tocollection- class=hash-link aria-label="Direct link to .toCollection( )" title="Direct link to .toCollection( )">​</a></h2>
<p><strong>.toCollection</strong>( { <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer } } ) : collection<br><strong>.toCollection</strong>( <em>filterString</em> : string {, <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer }}} ) : collection<br><strong>.toCollection</strong>( <em>filterCol</em> : collection {, <em>options</em> : integer { , <em>begin</em> : integer { , <em>howMany</em> : integer }}} ) : collection</p>
<table><thead><tr><th>Parameter<th>Type<th style=text-align:center><th>Description<tbody><tr><td>filterString<td>string<td style=text-align:center>→<td>string with entity attribute path(s) to extract<tr><td>filterCol<td>collection<td style=text-align:center>→<td>collection of entity attribute path(s) to extract<tr><td>options<td>integer<td style=text-align:center>→<td><code>kWithPrimaryKey</code>: adds the primary key<br><code>kWithStamp</code>: adds the stamp<tr><td>begin<td>integer<td style=text-align:center>→<td>Designates the starting index<tr><td>howMany<td>integer<td style=text-align:center>→<td>Number of entities to extract<tr><td>Result<td>collection<td style=text-align:center>←<td>collection of objects containing attributes and values of entity selection</table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=description-32>Description<a href=#description-32 class=hash-link aria-label="Direct link to Description" title="Direct link to Description">​</a></h4>
<p>The <code>.toCollection()</code> function creates and returns a collection where each element is an object containing a set of properties and values corresponding to the attribute names and values for the entity selection.</p>
<p>If no filter parameter is passed or the first parameter contains an empty string or <code>*</code>, all the attributes are extracted. Attributes with <a href=/docs/next/language/DataClassClass#attributename>kind</a> property as "relatedEntity" are extracted with the simple form: an object with property <code>\_\_KEY</code> (primary key). Attributes with kind property as "relatedEntities" are not extracted.</p>
<p>Or, you can designate the entity attributes to extract using a filter parameter. You can use one of these two filters:</p>
<ul>
<li><em>filterString</em> --a string with property paths separated with commas: "propertyPath1, propertyPath2, ...".</li>
<li><em>filterCol</em> --a collection of strings containing property paths: ["propertyPath1","propertyPath2",...]</li>
</ul>
<p>If a filter is specified for an attribute of the <code>relatedEntity</code> kind:</p>
<ul>
<li>propertyPath = "relatedEntity" -> it is extracted with simple form</li>
<li>propertyPath = "relatedEntity.*" -> all the properties are extracted</li>
<li>propertyPath = "relatedEntity.propertyName1, relatedEntity.propertyName2, ..." -> only those properties are extracted</li>
</ul>
<p>If a filter is specified for an attribute of the <code>relatedEntities</code> kind:</p>
<ul>
<li>propertyPath = "relatedEntities.*" -> all the properties are extracted</li>
<li>propertyPath = "relatedEntities.propertyName1, relatedEntities.propertyName2, ..." -> only those properties are extracted</li>
</ul>
<p>In the <em>options</em> parameter, you can pass the <code>kWithPrimaryKey</code> and/or <code>kWithStamp</code> selector(s) to add the entity's primary keys and/or stamps in extracted objects.</p>
<p>The <em>begin</em> parameter allows you to indicate the starting index of the entities to extract. You can pass any value between 0 and entity selection length-1.</p>
<p>The <em>howMany</em> parameter lets you specify the number of entities to extract, starting with the one specified in <em>begin</em>. Dropped entities are not returned but are taken into account according to <em>howMany</em>. For example, if <em>howMany</em> =  3 and there is 1 dropped entity, only 2 entities are extracted.</p>
<p>If <em>howMany</em> > length of the entity selection, the method returns (length - <em>begin</em>) objects.</p>
<p>An empty collection is returned if:</p>
<ul>
<li>the entity selection is empty, or</li>
<li><em>begin</em> is greater than the length of the entity selection.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-1-9>Example 1<a href=#example-1-9 class=hash-link aria-label="Direct link to Example 1" title="Direct link to Example 1">​</a></h4>
<p>The following structure will be used throughout all examples of this section:</p>
<p><img decoding=async loading=lazy src=/docs/assets/images/structure5-dbcc7304c4819759ae9b3c13e36c0f21.png width=555 height=253 class=img_ev3q></p>
<p>Example without filter or options parameter:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employees = ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeesCollection = employees.toCollection()</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>416</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>79100</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1963-02-01T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>417</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>47000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1992-06-16T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-2-8>Example 2<a href=#example-2-8 class=hash-link aria-label="Direct link to Example 2" title="Direct link to Example 2">​</a></h4>
<p>Example with options:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employees = ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection("",kWithPrimaryKey+kWithStamp)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>416</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"__STAMP"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>416</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>79100</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1963-02-01T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>417</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"__STAMP"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>1</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>417</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>47000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1992-06-16T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>412</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-3-1>Example 3<a href=#example-3-1 class=hash-link aria-label="Direct link to Example 3" title="Direct link to Example 3">​</a></h4>
<p>Example with slicing and filtering on properties:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection, filter : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">var employees : cs.EmployeeSelection</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">filter = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">filter.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">filter.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">employees = ds.Employee.all()</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection(filter,0,0,2)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-4-1>Example 4<a href=#example-4-1 class=hash-link aria-label="Direct link to Example 4" title="Direct link to Example 4">​</a></h4>
<p>Example with <code>relatedEntity</code> type with simple form:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection("firstName,lastName,employer")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lorena"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Boothe"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">   </span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-5-1>Example 5<a href=#example-5-1 class=hash-link aria-label="Direct link to Example 5" title="Direct link to Example 5">​</a></h4>
<p>Example with <em>filterCol</em> parameter:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection, coll : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">coll = newCollection("firstName","lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection(coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Joanna"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Cabrera"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Alexandra"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Coleman"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-6-1>Example 6<a href=#example-6-1 class=hash-link aria-label="Direct link to Example 6" title="Direct link to Example 6">​</a></h4>
<p>Example with extraction of all properties of a relatedEntity:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection, coll : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">coll = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">coll.push("firstName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">coll.push("lastName")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">coll.push("employer.*")</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection(coll)</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"creationDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1984-08-25T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"revenues"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12000000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"creationDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1984-08-25T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"revenues"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12000000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lorena"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Boothe"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>20</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"creationDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1984-08-25T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"revenues"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>12000000</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">  </span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-7-1>Example 7<a href=#example-7-1 class=hash-link aria-label="Direct link to Example 7" title="Direct link to Example 7">​</a></h4>
<p>Example with extraction of some properties of a relatedEntity:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection("firstName, lastName, employer.name")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Irma"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Durham"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lorena"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Boothe"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token property" style=color:#36acaa>"name"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"India Astral Secretary"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-8-1>Example 8<a href=#example-8-1 class=hash-link aria-label="Direct link to Example 8" title="Direct link to Example 8">​</a></h4>
<p>Example with extraction of some properties of <code>relatedEntities</code>:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain"> var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain"> employeesCollection = employees.toCollection("firstName, lastName, directReports.firstName")</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<p>Returns:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Mike"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Phan"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gary"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Sadie"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Christie"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Reichert"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Rex"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Jenny"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Lowell"</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id=example-9-1>Example 9<a href=#example-9-1 class=hash-link aria-label="Direct link to Example 9" title="Direct link to Example 9">​</a></h4>
<p>Example with extraction of all properties of <code>relatedEntities</code>:</p>
<div class="language-qs codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-qs codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token plain">var employeesCollection : collection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = newCollection</span><br></span><span class=token-line style=color:#393A34><span class="token plain">employeesCollection = employees.toCollection("firstName, lastName, directReports.*")</span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style=--prism-color:#393A34;--prism-background-color:#f6f8fa><div class=codeBlockContent_biex><pre tabindex=0 class="prism-code language-json codeBlock_bY9V thin-scrollbar" style=color:#393A34;background-color:#f6f8fa><code class=codeBlockLines_e6Vv><span class=token-line style=color:#393A34><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gregg"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Wahl"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain">    </span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Mike"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Phan"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>425</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Reichert"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>65800</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1957-12-23T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>424</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>424</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>426</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Sadie"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gallant"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>35200</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"2022-01-03T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>424</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>424</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                   </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">    </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Gary"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Reichert"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">        </span><span class="token property" style=color:#36acaa>"directReports"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>[</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>428</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Rex"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Chance"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>71600</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1968-08-09T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>false</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain" style=display:inline-block></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>425</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>425</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"ID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>429</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"firstName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Jenny"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"lastName"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"Parks"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"salary"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>51300</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"birthDate"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"1984-05-25T00:00:00.000Z"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"woman"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token boolean" style=color:#36acaa>true</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"managerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>425</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employerID"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"photo"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token string" style=color:#e3116c>"[object Picture]"</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"extra"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token null keyword" style=color:#00009f>null</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"employer"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>21</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token punctuation" style=color:#393A34>,</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token property" style=color:#36acaa>"manager"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>{</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                    </span><span class="token property" style=color:#36acaa>"__KEY"</span><span class="token operator" style=color:#393A34>:</span><span class="token plain"> </span><span class="token number" style=color:#36acaa>425</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">                </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">            </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain">           </span><span class="token punctuation" style=color:#393A34>]</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"> </span><span class="token punctuation" style=color:#393A34>}</span><span class="token plain"></span><br></span><span class=token-line style=color:#393A34><span class="token plain"></span><span class="token punctuation" style=color:#393A34>]</span><br></span></code></pre><div class=buttonGroup__atx><button type=button aria-label="Copy code to clipboard" title=Copy class=clean-btn><span class=copyButtonIcons_eSgA aria-hidden=true><svg viewBox="0 0 24 24" class=copyButtonIcon_y97N><path fill=currentColor d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"/></svg><svg viewBox="0 0 24 24" class=copyButtonSuccessIcon_LjdS><path fill=currentColor d=M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z /></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class=col><a href="https://github.com/qodly/docs/issues/new?title=Comment%20on%20language%2FEntitySelectionClass.md%20(current)&body=Share%20any%20feedback%20about%20this%20page%20%E2%80%94%20report%20issues%2C%20suggest%20improvements%2C%20or%20tell%20us%20what%E2%80%99s%20helpful.%0A%0AIf%20it%E2%80%99s%20an%20issue%3A%0A-%20What%E2%80%99s%20the%20issue%3F%20(e.g.%2C%20typo%2C%20incorrect%20information%2C%20unclear%20explanation)%0A-%20Where%20is%20it%3F%20(e.g.%2C%20section%20name%2C%20specific%20paragraph%2C%20or%20line)%0A%0AThank%20you%20for%20helping%20us%20improve!%20%F0%9F%9A%80%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20" target=_blank rel="noopener noreferrer" class=theme-edit-this-page><svg fill=currentColor height=20 width=20 viewBox="0 0 40 40" class=iconEdit_Z9Sw aria-hidden=true><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"/></g></svg>Give feedback on this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href=/docs/next/language/EntityClass><div class=pagination-nav__sublabel>Previous</div><div class=pagination-nav__label>Entity</div></a><a class="pagination-nav__link pagination-nav__link--next" href=/docs/next/language/FileClass><div class=pagination-nav__sublabel>Next</div><div class=pagination-nav__label>File</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href=#functions-and-properties class="table-of-contents__link toc-highlight">Functions and properties</a><li><a href=#index class="table-of-contents__link toc-highlight">[<em>index</em>]</a><li><a href=#at class="table-of-contents__link toc-highlight">.at()</a><li><a href=#attributename class="table-of-contents__link toc-highlight">.<em>attributeName</em></a><li><a href=#add class="table-of-contents__link toc-highlight">.add()</a><li><a href=#and class="table-of-contents__link toc-highlight">.and()</a><li><a href=#average class="table-of-contents__link toc-highlight">.average()</a><li><a href=#clean class="table-of-contents__link toc-highlight">.clean()</a><li><a href=#contains class="table-of-contents__link toc-highlight">.contains()</a><li><a href=#count class="table-of-contents__link toc-highlight">.count()</a><li><a href=#copy class="table-of-contents__link toc-highlight">.copy()</a><li><a href=#distinct class="table-of-contents__link toc-highlight">.distinct()</a><li><a href=#distinctpaths class="table-of-contents__link toc-highlight">.distinctPaths()</a><li><a href=#drop class="table-of-contents__link toc-highlight">.drop()</a><li><a href=#extract class="table-of-contents__link toc-highlight">.extract()</a><li><a href=#first class="table-of-contents__link toc-highlight">.first()</a><li><a href=#getdataclass class="table-of-contents__link toc-highlight">.getDataClass()</a><li><a href=#isalterable class="table-of-contents__link toc-highlight">.isAlterable()</a><li><a href=#isordered class="table-of-contents__link toc-highlight">.isOrdered()</a><li><a href=#last class="table-of-contents__link toc-highlight">.last()</a><li><a href=#length class="table-of-contents__link toc-highlight">.length</a><li><a href=#max class="table-of-contents__link toc-highlight">.max()</a><li><a href=#min class="table-of-contents__link toc-highlight">.min()</a><li><a href=#minus class="table-of-contents__link toc-highlight">.minus()</a><li><a href=#or class="table-of-contents__link toc-highlight">.or()</a><li><a href=#orderby class="table-of-contents__link toc-highlight">.orderBy()</a><li><a href=#orderbyformula- class="table-of-contents__link toc-highlight">.orderByFormula( )</a><li><a href=#query class="table-of-contents__link toc-highlight">.query()</a><li><a href=#querypath class="table-of-contents__link toc-highlight">.queryPath</a><li><a href=#queryplan class="table-of-contents__link toc-highlight">.queryPlan</a><li><a href=#selected class="table-of-contents__link toc-highlight">.selected()</a><li><a href=#slice class="table-of-contents__link toc-highlight">.slice()</a><li><a href=#sum class="table-of-contents__link toc-highlight">.sum()</a><li><a href=#tocollection- class="table-of-contents__link toc-highlight">.toCollection( )</a></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class=footer__title>Support</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://qodly.com/tutorials target=_blank rel="noopener noreferrer" class=footer__link-item>Tutorials</a><li class=footer__item><a href=https://support.4d.com/ target=_blank rel="noopener noreferrer" class=footer__link-item>Get Support</a></ul></div><div class="col footer__col"><div class=footer__title>Company</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://qodly.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About Qodly</a><li class=footer__item><a href=https://us.4d.com/about-us target=_blank rel="noopener noreferrer" class=footer__link-item>About 4D</a><li class=footer__item><a href=mailto:contact@qodly.com target=_blank rel="noopener noreferrer" class=footer__link-item>Contact us</a><li class=footer__item><a href=https://qodly.com/qodly-platform-license target=_blank rel="noopener noreferrer" class=footer__link-item>License</a><li class=footer__item><a href=https://qodly.com/qodly-beta-service-level-agreement target=_blank rel="noopener noreferrer" class=footer__link-item>SLA</a></ul></div><div class="col footer__col"><div class=footer__title>Follow Us</div><ul class="footer__items clean-list"><li class=footer__item><a href=https://join.slack.com/t/qodly/shared_invite/zt-20ieeffts-NU57SOXcbakmWgIMnJpStQ target=_blank rel="noopener noreferrer" class=footer__link-item src=slack>Slack</a><li class=footer__item><a href=https://www.facebook.com/qodlyby4d target=_blank rel="noopener noreferrer" class=footer__link-item src=facebook>Facebook</a><li class=footer__item><a href=https://twitter.com/qodlyby4d target=_blank rel="noopener noreferrer" class=footer__link-item src=twitter>Twitter</a><li class=footer__item><a href=https://www.youtube.com/channel/UCLNHKvjJQZ_5D1ziskba6jg target=_blank rel="noopener noreferrer" class=footer__link-item src=youtube>Youtube Channels</a><li class=footer__item><a href=https://linkedin.com/showcase/qodly target=_blank rel="noopener noreferrer" class=footer__link-item src=linkedin>Linkedin</a></ul></div></div><div class="footer__bottom text--center"><div class=footer__copyright>Copyright © 2025 4D SAS - All rights reserved</div></div></div></footer></div>