"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[8929],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>v});var n=r(67294);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var p=n.createContext({}),l=function(e){var t=n.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m=function(e){var t=l(e.components);return n.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var r=e.components,i=e.mdxType,a=e.originalType,p=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=l(r),d=i,v=c["".concat(p,".").concat(d)]||c[d]||u[d]||a;return r?n.createElement(v,o(o({ref:t},m),{},{components:r})):n.createElement(v,o({ref:t},m))}));function v(e,t){var r=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=r.length,o=new Array(a);o[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:i,o[1]=s;for(var l=2;l<a;l++)o[l]=r[l];return n.createElement.apply(null,o)}return n.createElement.apply(null,r)}d.displayName="MDXCreateElement"},43557:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var n=r(87462),i=(r(67294),r(3905));const a={id:"$version",title:"$version"},o=void 0,s={unversionedId:"api/$version",id:"api/$version",title:"$version",description:"Functionality",source:"@site/docs/api/$version.md",sourceDirName:"api",slug:"/api/$version",permalink:"/docs/api/$version",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/api/$version.md",tags:[],version:"current",frontMatter:{id:"$version",title:"$version"},sidebar:"API",previous:{title:"$top/$limit",permalink:"/docs/api/$top$limit"}},p={},l=[{value:"Functionality",id:"functionality",level:2},{value:"Definition",id:"definition",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Detailed Behavior",id:"detailed-behavior",level:2},{value:"Ensuring Correct Image Retrieval",id:"ensuring-correct-image-retrieval",level:3},{value:"Server-Modified Version Value",id:"server-modified-version-value",level:3},{value:"Combining with Other Parameters",id:"combining-with-other-parameters",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Retrieving an Image with a Specific Version",id:"retrieving-an-image-with-a-specific-version",level:3},{value:"Best Practices",id:"best-practices",level:2}],m={toc:l};function c(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"functionality"},"Functionality"),(0,i.kt)("h3",{id:"definition"},"Definition"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$version")," parameter is used to specify the version number of an image returned by the server. This helps bypass the browser's cache, ensuring that the most recent version of the image is retrieved."),(0,i.kt)("h3",{id:"syntax"},"Syntax"),(0,i.kt)("p",null,"To retrieve a specific version of an image, use the following syntax:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET /rest/{{dataClass}}({{id}})/{{imageAttribute}}?$version={{versionNumber}}&$imageformat={{imageFormat}}&$expand={{imageAttribute}}\n")),(0,i.kt)("h2",{id:"detailed-behavior"},"Detailed Behavior"),(0,i.kt)("h3",{id:"ensuring-correct-image-retrieval"},"Ensuring Correct Image Retrieval"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$version")," parameter helps to avoid issues with browser caching by specifying the version number of the image. When the version number is included in the request, the server ensures that the latest version of the image is returned, even if the image has been updated."),(0,i.kt)("h3",{id:"server-modified-version-value"},"Server-Modified Version Value"),(0,i.kt)("p",null,"The server modifies the value of the image's version parameter whenever the image is updated. This ensures that clients always receive the most up-to-date version of the image."),(0,i.kt)("h2",{id:"combining-with-other-parameters"},"Combining with Other Parameters"),(0,i.kt)("p",null,"To retrieve an image in a specific format and ensure you get the correct version, combine ",(0,i.kt)("inlineCode",{parentName:"p"},"$version")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"$imageformat")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$expand")," parameters."),(0,i.kt)("h2",{id:"use-cases"},"Use Cases"),(0,i.kt)("h3",{id:"retrieving-an-image-with-a-specific-version"},"Retrieving an Image with a Specific Version"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request:")),(0,i.kt)("p",null,"To retrieve an image in JPEG format with a version number of 3, use the following request:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET /rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Response:")),(0,i.kt)("p",null,"The server returns the image in JPEG format with the specified version."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "photo": {\n        "__KEY": "1",\n        "__STAMP": 3,\n        "uri": "/rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo",\n        "__deferred": {\n            "uri": "/rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo"\n        }\n    }\n}\n')),(0,i.kt)("admonition",{title:"Retrieving an Updated Image Version",type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"If the image has been updated and the version number has changed, use the new version number in the request to ensure you retrieve the latest image:"),(0,i.kt)("pre",{parentName:"admonition"},(0,i.kt)("code",{parentName:"pre"},"GET /rest/Employee(1)/photo?$imageformat=jpeg&$version=4&$expand=photo\n"))),(0,i.kt)("h2",{id:"best-practices"},"Best Practices"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Always Use $version:")," To avoid caching issues, always use the ",(0,i.kt)("inlineCode",{parentName:"p"},"$version")," parameter when retrieving images.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Combine with $imageformat and $expand:")," For optimal results, combine ",(0,i.kt)("inlineCode",{parentName:"p"},"$version")," with ",(0,i.kt)("inlineCode",{parentName:"p"},"$imageformat")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$expand")," to specify the desired image format and ensure the full image is retrieved.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Monitor Version Changes:")," Keep track of version changes to ensure that clients are always retrieving the most recent version of the image."))))}c.isMDXComponent=!0}}]);