"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[7656],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>u});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=r.createContext({}),i=function(e){var t=r.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},m=function(e){var t=i(e.components);return r.createElement(p.Provider,{value:t},e.children)},k="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,p=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),k=i(a),c=n,u=k["".concat(p,".").concat(c)]||k[c]||d[c]||l;return a?r.createElement(u,s(s({ref:t},m),{},{components:a})):r.createElement(u,s({ref:t},m))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,s=new Array(l);s[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[k]="string"==typeof e?e:n,s[1]=o;for(var i=2;i<l;i++)s[i]=a[i];return r.createElement.apply(null,s)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},24591:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>s,default:()=>k,frontMatter:()=>l,metadata:()=>o,toc:()=>i});var r=a(87462),n=(a(67294),a(3905));const l={id:"process",title:"Process"},s=void 0,o={unversionedId:"language/process",id:"language/process",title:"Process",description:"Multi-tasking in QodlyScript is the ability to have distinct operations that are executed simultaneously. These operations are called processes. Multiple processes are like multiple users on the same computer, each working on his or her own task. This essentially means that each method can be executed as a distinct task.",source:"@site/docs/language/process.md",sourceDirName:"language",slug:"/language/process",permalink:"/docs/language/process",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/language/process.md",tags:[],version:"current",frontMatter:{id:"process",title:"Process"},sidebar:"Programming",previous:{title:"Pictures",permalink:"/docs/language/pictures"},next:{title:"Session",permalink:"/docs/language/SessionClass"}},p={},i=[{value:"Process Commands",id:"process-commands",level:2},{value:"abortProcessByID",id:"abortprocessbyid",level:2},{value:"Description",id:"description",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also",level:4},{value:"callWorker",id:"callworker",level:2},{value:"Description",id:"description-1",level:4},{value:"Example",id:"example-1",level:4},{value:"See also",id:"see-also-1",level:4},{value:"clearSemaphore",id:"clearsemaphore",level:2},{value:"Description",id:"description-2",level:4},{value:"See also",id:"see-also-2",level:4},{value:"currentProcess",id:"currentprocess",level:2},{value:"Description",id:"description-3",level:4},{value:"See also",id:"see-also-3",level:4},{value:"currentProcessName",id:"currentprocessname",level:2},{value:"Description",id:"description-4",level:4},{value:"Example",id:"example-2",level:4},{value:"See also",id:"see-also-4",level:4},{value:"delayProcess",id:"delayprocess",level:2},{value:"Description",id:"description-5",level:4},{value:"getProcessActivity",id:"getprocessactivity",level:2},{value:"Description",id:"description-6",level:4},{value:"Sessions",id:"sessions",level:4},{value:"Processes",id:"processes",level:4},{value:"Example",id:"example-3",level:4},{value:"highestProcessNumber",id:"highestprocessnumber",level:2},{value:"Description",id:"description-7",level:4},{value:"killWorker",id:"killworker",level:2},{value:"Description",id:"description-8",level:4},{value:"Example",id:"example-4",level:4},{value:"See also",id:"see-also-5",level:4},{value:"processNumber",id:"processnumber",level:2},{value:"Description",id:"description-9",level:4},{value:"processProperties",id:"processproperties",level:2},{value:"Description",id:"description-10",level:4},{value:"Example",id:"example-5",level:4},{value:"See also",id:"see-also-6",level:4},{value:"processState",id:"processstate",level:2},{value:"Description",id:"description-11",level:4},{value:"See also",id:"see-also-7",level:4},{value:"semaphore",id:"semaphore",level:2},{value:"Description",id:"description-12",level:4},{value:"Example 1",id:"example-1-1",level:4},{value:"Example 2",id:"example-2-1",level:4},{value:"See also",id:"see-also-8",level:4},{value:"testSemaphore",id:"testsemaphore",level:2},{value:"Description",id:"description-13",level:4},{value:"See also",id:"see-also-9",level:4}],m={toc:i};function k(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"Multi-tasking in QodlyScript is the ability to have distinct operations that are executed simultaneously. These operations are called processes. Multiple processes are like multiple users on the same computer, each working on his or her own task. This essentially means that each method can be executed as a distinct task."),(0,n.kt)("h2",{id:"process-commands"},"Process Commands"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null}))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#abortprocessbyid"},(0,n.kt)("strong",{parentName:"a"},"abortProcessByID")," ( ",(0,n.kt)("em",{parentName:"a"},"uniqueID")," : integer )"),"\xa0","\xa0","\xa0","\xa0","stops a specific process on the Qodly Server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#callworker"},(0,n.kt)("strong",{parentName:"a"},"callWorker"),"( ",(0,n.kt)("em",{parentName:"a"},"process")," : string , ",(0,n.kt)("em",{parentName:"a"},"formula")," : 4D.Function {, ",(0,n.kt)("em",{parentName:"a"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : string , ",(0,n.kt)("em",{parentName:"a"},"formula")," : string {, ",(0,n.kt)("em",{parentName:"a"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"formula")," : 4D.Function {, ",(0,n.kt)("em",{parentName:"a"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"formula")," : string {, ",(0,n.kt)("em",{parentName:"a"},"param {, ...paramN }")," : integer } )"),"\xa0","\xa0","\xa0","\xa0","creates or calls the worker process whose name or ID you passed in ",(0,n.kt)("em",{parentName:"td"},"process")," and requests the execution of the code designated by ",(0,n.kt)("em",{parentName:"td"},"formula")," in its context with the optional ",(0,n.kt)("em",{parentName:"td"},"param")," parameter(s)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#clearsemaphore"},(0,n.kt)("strong",{parentName:"a"},"clearSemaphore"),"( ",(0,n.kt)("em",{parentName:"a"},"semaphore")," : string )"),"\xa0","\xa0","\xa0","\xa0","erases ",(0,n.kt)("em",{parentName:"td"},"semaphore")," previously set by the ",(0,n.kt)("inlineCode",{parentName:"td"},"semaphore")," command")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#currentprocess"},(0,n.kt)("strong",{parentName:"a"},"currentProcess")," : integer"),"\xa0","\xa0","\xa0","\xa0","returns the process ID of the process within which this command is called")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#currentprocessname"},(0,n.kt)("strong",{parentName:"a"},"currentProcessName")," : string"),"\xa0","\xa0","\xa0","\xa0","returns the name of the process within which this command is called")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#delayprocess"},(0,n.kt)("strong",{parentName:"a"},"delayProcess")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"duration")," : number )"),"\xa0","\xa0","\xa0","\xa0","delays the execution of ",(0,n.kt)("em",{parentName:"td"},"process")," for a ",(0,n.kt)("em",{parentName:"td"},"duration")," expressed in number of ticks (1 tick = 1/60th of a second)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#getprocessactivity"},(0,n.kt)("strong",{parentName:"a"},"getProcessActivity")," ({ ",(0,n.kt)("em",{parentName:"a"},"options")," : integer }) : object"),"\xa0","\xa0","\xa0","\xa0","returns a snapshot of connected user sessions and/or related running processes at a given time")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#highestprocessnumber"},(0,n.kt)("strong",{parentName:"a"},"highestProcessNumber")," : integer"),"\xa0","\xa0","\xa0","\xa0","returns the highest alive process number in the Qodly Server")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#killworker"},(0,n.kt)("strong",{parentName:"a"},"killWorker"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"killWorker"),"( ",(0,n.kt)("em",{parentName:"a"},"process")," : string )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"killWorker"),"( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer )"),"\xa0","\xa0","\xa0","\xa0","posts a message to the worker process whose name or number you passed in ",(0,n.kt)("em",{parentName:"td"},"process"),", asking it to ignore any pending messages and to terminate its execution as soon as the current task ends")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#processnumber"},(0,n.kt)("strong",{parentName:"a"},"processNumber")," ( ",(0,n.kt)("em",{parentName:"a"},"name")," : string ) : integer"),"\xa0","\xa0","\xa0","\xa0","returns the number of the process whose name you pass in ",(0,n.kt)("em",{parentName:"td"},"name"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#processproperties"},(0,n.kt)("strong",{parentName:"a"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procName")," : string , ",(0,n.kt)("em",{parentName:"a"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procTime")," : integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procName")," : string , ",(0,n.kt)("em",{parentName:"a"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procMode")," : boolean )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procName")," : string , ",(0,n.kt)("em",{parentName:"a"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procMode")," : boolean , ",(0,n.kt)("em",{parentName:"a"},"uniqueID")," : integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procName")," : string , ",(0,n.kt)("em",{parentName:"a"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"a"},"procMode")," : boolean , ",(0,n.kt)("em",{parentName:"a"},"uniqueID")," : integer , ",(0,n.kt)("em",{parentName:"a"},"origin")," : integer )"),"\xa0","\xa0","\xa0","\xa0","returns various information about the process whose process number you pass in ",(0,n.kt)("em",{parentName:"td"},"process"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#processstate"},(0,n.kt)("strong",{parentName:"a"},"processState")," ( ",(0,n.kt)("em",{parentName:"a"},"process")," : integer ) : integer"),"\xa0","\xa0","\xa0","\xa0","returns the state of the process whose number you pass in ",(0,n.kt)("em",{parentName:"td"},"process"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#semaphore"},(0,n.kt)("strong",{parentName:"a"},"semaphore")," ( ",(0,n.kt)("em",{parentName:"a"},"semaphore")," : string { , ",(0,n.kt)("em",{parentName:"a"},"tickCount")," : integer } ) : boolean"),"\xa0","\xa0","\xa0","\xa0","returns ",(0,n.kt)("inlineCode",{parentName:"td"},"true")," and does nothing if ",(0,n.kt)("em",{parentName:"td"},"semaphore")," already exists, or creates ",(0,n.kt)("em",{parentName:"td"},"semaphore")," and returns ",(0,n.kt)("inlineCode",{parentName:"td"},"false")," if it does not exist")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#testsemaphore"},(0,n.kt)("strong",{parentName:"a"},"testSemaphore")," ( ",(0,n.kt)("em",{parentName:"a"},"semaphore")," : string ) : boolean"),"\xa0","\xa0","\xa0","\xa0","tests for the existence of ",(0,n.kt)("em",{parentName:"td"},"semaphore"))))),(0,n.kt)("h2",{id:"abortprocessbyid"},"abortProcessByID"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"abortProcessByID")," ( ",(0,n.kt)("em",{parentName:"p"},"uniqueID")," : integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"uniqueID"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Unique process ID")))),(0,n.kt)("h4",{id:"description"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"abortProcessByID")," command stops a specific process on the Qodly Server. "),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"uniqueID")," parameter, pass the unique ID of the process running on the server that you want to stop. You can retrieve the process ID with the ",(0,n.kt)("a",{parentName:"p",href:"#getprocessactivity"},(0,n.kt)("inlineCode",{parentName:"a"},"getProcessActivity"))," or the ",(0,n.kt)("a",{parentName:"p",href:"#processproperties"},(0,n.kt)("inlineCode",{parentName:"a"},"processProperties"))," command."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"This command should only be used for searching errors or administration purposes, not as a regular procedure.")),(0,n.kt)("h4",{id:"example"},"Example"),(0,n.kt)("p",null,"You want to stop the first process of a processes collection:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"  //variable =curItemPosition\n \n  // Retrieve the list of process on the server\n activity=getProcessActivity(kProcessesOnly).processes \n ...\n  // The selected process is stopped on the server\n abortProcessByID(activity[0].ID)\n")),(0,n.kt)("h4",{id:"see-also"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#getprocessactivity"},(0,n.kt)("inlineCode",{parentName:"a"},"getProcessActivity"))),(0,n.kt)("h2",{id:"callworker"},"callWorker"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"callWorker"),"( ",(0,n.kt)("em",{parentName:"p"},"process")," : string , ",(0,n.kt)("em",{parentName:"p"},"formula")," : 4D.Function {, ",(0,n.kt)("em",{parentName:"p"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : string , ",(0,n.kt)("em",{parentName:"p"},"formula")," : string {, ",(0,n.kt)("em",{parentName:"p"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"formula")," : 4D.Function {, ",(0,n.kt)("em",{parentName:"p"},"param {, ...paramN }")," : integer } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"callWorker")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"formula")," : string {, ",(0,n.kt)("em",{parentName:"p"},"param {, ...paramN }")," : integer } )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"process"),(0,n.kt)("td",{parentName:"tr",align:null},"string ","|"," integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Name or number of worker process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"formula"),(0,n.kt)("td",{parentName:"tr",align:null},"4D.Function ","|"," string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Formula object or Name of project method")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"param"),(0,n.kt)("td",{parentName:"tr",align:null},"any"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Parameter(s) passed to ",(0,n.kt)("em",{parentName:"td"},"formula"),"/",(0,n.kt)("em",{parentName:"td"},"methodName"))))),(0,n.kt)("h4",{id:"description-1"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"callWorker")," command creates or calls the worker process whose name or ID you passed in ",(0,n.kt)("em",{parentName:"p"},"process")," and requests the execution of the code designated by ",(0,n.kt)("em",{parentName:"p"},"formula")," in its context with the optional ",(0,n.kt)("em",{parentName:"p"},"param")," parameter(s). "),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"callWorker")," command encapsulates the ",(0,n.kt)("em",{parentName:"p"},"param")," parameters into a message and posts it in the worker's message box. "),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"process")," parameter, you can specify the worker using its process name or its process number:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"If you pass the number of a process that does not exist, or if the process specified was not created by ",(0,n.kt)("inlineCode",{parentName:"li"},"callWorker"),", ",(0,n.kt)("inlineCode",{parentName:"li"},"callWorker")," does nothing."),(0,n.kt)("li",{parentName:"ul"},"If you pass the name of a process that does not exist, a new worker process is created.")),(0,n.kt)("p",null,"The worker process is returned by the ",(0,n.kt)("a",{parentName:"p",href:"#processproperties"},(0,n.kt)("inlineCode",{parentName:"a"},"processProperties"))," command when applied to this process."),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"formula"),", you designate the code to execute in the context of the worker process. You can pass either:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"a ",(0,n.kt)("a",{parentName:"li",href:"/docs/language/FunctionClass"},"formula object"),". Formula objects can encapsulate any executable expressions, including functions and project methods;"),(0,n.kt)("li",{parentName:"ul"},"a string containing the name of a project method. You can pass an empty string; in this case, the worker executes the method that was originally used to start its process, if any (i.e., the startup method of the worker).")),(0,n.kt)("p",null,"You can also pass parameters to ",(0,n.kt)("em",{parentName:"p"},"formula")," using one or more optional ",(0,n.kt)("em",{parentName:"p"},"param")," parameters. If the ",(0,n.kt)("em",{parentName:"p"},"formula")," is a string formula, you must use sequential parameters ($1, $2...). Upon starting execution in the context of the process, the process ",(0,n.kt)("em",{parentName:"p"},"formula")," receives the parameter values either in the parameters, or in $1, $2, and so on. In the context of the ",(0,n.kt)("inlineCode",{parentName:"p"},"callWorker")," command, the following considerations need to be taken into account:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Standard object or collection type parameters are passed by copy, i.e. Qodly will create a copy of the object or the collection in the destination process if the worker is in a process different from the one calling the ",(0,n.kt)("inlineCode",{parentName:"li"},"callWorker")," command. In this context, if you want to pass an object or collection parameter by reference, you must use a ",(0,n.kt)("a",{parentName:"li",href:"/docs/language/basics/lang-shared"},"shared object or collection"),".")),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"A worker process remains alive until the application is closed or the ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker")," command is explicitly called for it. To free up memory, do not forget to call this command once a worker process is no longer needed.")),(0,n.kt)("h4",{id:"example-1"},"Example"),(0,n.kt)("p",null,"In a webform, a button starts a computation: for example, statistics for the selected year. The button creates or calls a worker process that computes the data while the user can continue to work in the form."),(0,n.kt)("p",null,"The code called from the button:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'var vYear: integer\nvYear=2015 // could have been selected by the user in the form\ncallWorker("myWorker",formula(workerMethod),vYear)\n\n')),(0,n.kt)("p",null,"The code of ",(0,n.kt)("inlineCode",{parentName:"p"},"workerMethod")," is:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"}," declare(vYearInteger) //year reference\n var vStatResults : object //to store statistical results\n ... //compute statistics\n")),(0,n.kt)("h4",{id:"see-also-1"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#killworker"},(0,n.kt)("inlineCode",{parentName:"a"},"killWorker")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/language/SignalClass"},(0,n.kt)("inlineCode",{parentName:"a"},"Signal")," class")),(0,n.kt)("h2",{id:"clearsemaphore"},"clearSemaphore"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"clearSemaphore"),"( ",(0,n.kt)("em",{parentName:"p"},"semaphore")," : string )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"semaphore"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Semaphore to clear")))),(0,n.kt)("h4",{id:"description-2"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"clearSemaphore")," command erases ",(0,n.kt)("em",{parentName:"p"},"semaphore")," previously set by the ",(0,n.kt)("inlineCode",{parentName:"p"},"semaphore")," command. "),(0,n.kt)("p",null,"As a rule, all semaphores that have been created should be cleared. If semaphores are not cleared, they remain in memory until the process that creates them ends. A process can only clear semaphores that it has created. If you try to clear a semaphore from within a process that did not create it, nothing happens."),(0,n.kt)("h4",{id:"see-also-2"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#semaphore"},(0,n.kt)("inlineCode",{parentName:"a"},"semaphore")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/language/SignalClass"},(0,n.kt)("inlineCode",{parentName:"a"},"Signal")," class")),(0,n.kt)("h2",{id:"currentprocess"},"currentProcess"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"currentProcess")," : integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Current process number")))),(0,n.kt)("h4",{id:"description-3"},"Description"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"currentProcess")," returns the process ID of the process within which this command is called. "),(0,n.kt)("h4",{id:"see-also-3"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#currentprocessname"},(0,n.kt)("inlineCode",{parentName:"a"},"currentProcessName")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#processnumber"},(0,n.kt)("inlineCode",{parentName:"a"},"processNumber")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#processstate"},(0,n.kt)("inlineCode",{parentName:"a"},"processState"))),(0,n.kt)("h2",{id:"currentprocessname"},"currentProcessName"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"currentProcessName")," : string"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Current process name")))),(0,n.kt)("h4",{id:"description-4"},"Description"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"currentProcessName")," returns the name of the process within which this command is called. "),(0,n.kt)("h4",{id:"example-2"},"Example"),(0,n.kt)("p",null,"You want to call a worker and pass the calling process name as parameter:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'callWorker(1,"myMessage",currentProcessName,"Start:"+string(vMax))\n')),(0,n.kt)("h4",{id:"see-also-4"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#currentprocess"},(0,n.kt)("inlineCode",{parentName:"a"},"currentProcess")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#processnumber"},(0,n.kt)("inlineCode",{parentName:"a"},"processNumber")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#processstate"},(0,n.kt)("inlineCode",{parentName:"a"},"processState"))),(0,n.kt)("h2",{id:"delayprocess"},"delayProcess"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"delayProcess")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"duration")," : number )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"process"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Process number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"duration"),(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Duration expressed in ticks")))),(0,n.kt)("h4",{id:"description-5"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"delayProcess")," command delays the execution of ",(0,n.kt)("em",{parentName:"p"},"process")," for a ",(0,n.kt)("em",{parentName:"p"},"duration")," expressed in number of ticks (1 tick = 1/60th of a second). During this period, ",(0,n.kt)("em",{parentName:"p"},"process")," does not take any processing time. Even though the execution of a process may be delayed, it is still in memory."),(0,n.kt)("p",null,"You can delay a process for less than one tick. For example, if you pass 0.5 in ",(0,n.kt)("em",{parentName:"p"},"duration"),", the process will be delayed for a 1/2 tick, i.e. 1/120th of a second."),(0,n.kt)("p",null,"If the process is already delayed, this command delays it again. The ",(0,n.kt)("em",{parentName:"p"},"duration")," parameter is not added to the time remaining, but replaces it. Therefore pass zero (0) for ",(0,n.kt)("em",{parentName:"p"},"duration")," if you no longer want to delay a process."),(0,n.kt)("p",null,"If ",(0,n.kt)("em",{parentName:"p"},"process")," does not exist, the command does nothing."),(0,n.kt)("h2",{id:"getprocessactivity"},"getProcessActivity"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"getProcessActivity")," ({ ",(0,n.kt)("em",{parentName:"p"},"options")," : integer }) : object"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"options"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Return options")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"object"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Snapshot of running processes and/or user sessions")))),(0,n.kt)("h4",{id:"description-6"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"getProcessActivity")," command returns a snapshot of connected user sessions and/or related running processes at a given time. This command returns all processes, including internal processes that are not reachable by the ",(0,n.kt)("inlineCode",{parentName:"p"},"processProperties")," command."),(0,n.kt)("p",null,"By default if you omit the ",(0,n.kt)("em",{parentName:"p"},"options")," parameter, ",(0,n.kt)("inlineCode",{parentName:"p"},"getProcessActivity")," returns both user session and process lists, as shown below:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n"sessions": [\n          {\n             "type": "remote",\n             "userName": "Designer",\n             "machineName": "iMac27caroline",\n             "systemUserName": "Caroline Briaud",\n             "IPAddress": "192.168.18.18",\n             "hostType": "mac",\n             "creationDateTime": "2017-09-22T12:46:39Z",\n             "state": "postponed",\n             "ID": "3C81A8D7AFE64C2E9CCFFCDC35DC52F5"\n           },...\n       ],\n"processes": [\n          {\n             "name": "Application process",\n             "sessionID": "3C81A8D7AFE64C2E9CCFFCDC35DC52F5",\n             "number": 4,\n             "ID": 4,\n             "visible": true,\n             "systemID": "123145476132864",\n             "type": -18,\n             "state": 0,\n             "cpuUsage": 0,\n             "cpuTime": 0.006769,\n             "preemptive": false,\n             "session": {  \n                      "type": "remote",\n                      "userName": "Designer",\n                      "machineName": "iMac27caroline",\n                      "systemUserName": "Caroline Briaud",\n                      "IPAddress": "192.168.18.18",\n                      "hostType": "mac",\n                      "creationDateTime": "2017-09-22T12:46:39Z",\n                      "state": "postponed",\n                      "ID": "3C81A8D7AFE64C2E9CCFFCDC35DC52F5"\n                       }\n           },...\n    ]\n}\n')),(0,n.kt)("p",null,"You can select the list to return by passing one of the following constants (integer) in the ",(0,n.kt)("em",{parentName:"p"},"options")," parameter:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"kProcessesOnly")," (1): Returns only the process list"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"kSessionsOnly")," (2): Returns only the user session list")),(0,n.kt)("h4",{id:"sessions"},"Sessions"),(0,n.kt)("p",null,'The "sessions" property contains a collection of objects describing all running user sessions on the server. Each session object contains the following properties:'),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Property name"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"type"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},'Session type. Possible values: "storedProcedure", "web", "rest"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"userName"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"User name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"machineName"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of the machine")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"systemUserName"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of the system session opened on the machine")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"IPAddress"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"IP address of the machine")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"hostType"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},'Host type. Possible values: "windows", "mac", "browser"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"creationDateTime"),(0,n.kt)("td",{parentName:"tr",align:null},"Date ISO 8601\tDate and time of connection of the machine"),(0,n.kt)("td",{parentName:"tr",align:null})),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"state"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},'Session state. Possible values: "active", "postponed", "sleeping"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ID"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Session UUID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"persistentID"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Session's persistent ID")))),(0,n.kt)("h4",{id:"processes"},"Processes"),(0,n.kt)("p",null,'The "processes" property contains a collection of objects describing all running processes on the server. Each process object contains the following properties:'),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Property name"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"name"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Process name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"sessionID"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Session UUID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:null},"Process number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ID"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:null},"Process unique ID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"visible"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:null},"true if visible, false otherwise")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"systemID"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"ID for the user process, Qodly process or spare process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"type"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:null},"Running process type. ",(0,n.kt)("li",null,"kHTTPLogFlusher (-58)"),(0,n.kt)("li",null,"kMainProcess (-39)"),(0,n.kt)("li",null,"kClientManagerProcess (-31)"),(0,n.kt)("li",null,"kCompilerProcess (-29)"),(0,n.kt)("li",null,"kMonitorProcess (-26)"),(0,n.kt)("li",null,"kInternalTimerProcess (-25)"),(0,n.kt)("li",null,"kLogFileProcess (-20)"),(0,n.kt)("li",null,"kBackup process (-19)"),(0,n.kt)("li",null,"kInternalProcess (-18)"),(0,n.kt)("li",null,"kOnExitProcess (-16)"),(0,n.kt)("li",null,"kWebServerProcess (-13)"),(0,n.kt)("li",null,"kOtherProcess (-10)"),(0,n.kt)("li",null,"kEventManager (-8)"),(0,n.kt)("li",null,"kIndexingProcess (-5)"),(0,n.kt)("li",null,"kCacheManager (-4)"),(0,n.kt)("li",null,"kWebProcessWithNoContext (-3)"),(0,n.kt)("li",null,"kDesignProcess (-2)"),(0,n.kt)("li",null,"kNone (0)"),(0,n.kt)("li",null,"kWorkerProcess (5)"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"state"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:null},"Current status (see ",(0,n.kt)("a",{parentName:"td",href:"#processstate"},(0,n.kt)("inlineCode",{parentName:"a"},"processState"))," constant list)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"cpuUsage"),(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:null},"Percentage of time devoted to this process (between 0 and 1)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"cpuTime"),(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:null},"Running time (seconds)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"preemptive"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:null},"always true")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"session"),(0,n.kt)("td",{parentName:"tr",align:null},"object"),(0,n.kt)("td",{parentName:"tr",align:null},"The specific session in which the process is running. Undefined if the ",(0,n.kt)("inlineCode",{parentName:"td"},"kProcessesOnly")," parameter is passed.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"url"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"URL with path and parameters (if any) of the web (-3) processes running on the web server. Not returned for other types of processes.")))),(0,n.kt)("h4",{id:"example-3"},"Example"),(0,n.kt)("p",null,"You want to get the collection of all user sessions:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'var o : object\nvar i : integer\n \no=getProcessActivity //Get process & session info\nfor(i,0,(o.processes.length)-1) //Iterate over the "processes" collection\n  processName=o.processes[i].name\n  userName=string(o.processes[i].session.userName) // Easy access to userName\n  //use string because session object might be undefined\nend\n \n')),(0,n.kt)("h2",{id:"highestprocessnumber"},"highestProcessNumber"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"highestProcessNumber")," : integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Highest number of open processes (including kernel processes)")))),(0,n.kt)("h4",{id:"description-7"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"highestProcessNumber")," command returns the highest alive process number in the Qodly Server. "),(0,n.kt)("p",null,"Processes are numbered in the order in which they are created. When still no process has been aborted during the session, then this command returns the total number of open processes."),(0,n.kt)("p",null,"This number takes into account all processes, even those that are automatically managed by Qodly Server, such as the Cache Manager process and Web Server process."),(0,n.kt)("h2",{id:"killworker"},"killWorker"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"killWorker"),"()",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"killWorker"),"( ",(0,n.kt)("em",{parentName:"p"},"process")," : string )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"killWorker"),"( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"process"),(0,n.kt)("td",{parentName:"tr",align:null},"string ","|"," integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Name or number of process to kill (current process if omitted)")))),(0,n.kt)("h4",{id:"description-8"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker")," command posts a message to the worker process whose name or number you passed in ",(0,n.kt)("em",{parentName:"p"},"process"),", asking it to ignore any pending messages and to terminate its execution as soon as the current task ends. "),(0,n.kt)("p",null,"This command can only be used with worker processes."),(0,n.kt)("p",null,"In ",(0,n.kt)("em",{parentName:"p"},"process"),", you pass either the name or number of the worker process whose execution needs to be terminated. If no worker with the specified process name or number exists, ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker")," does nothing."),(0,n.kt)("p",null,"If you do not pass any parameter, ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker")," applies to the currently running worker."),(0,n.kt)("p",null,"If ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker")," is applied to a worker that was not created explicitly using the ",(0,n.kt)("a",{parentName:"p",href:"#callworker"},(0,n.kt)("inlineCode",{parentName:"a"},"callWorker"))," command, it only asks this worker to empty its message box."),(0,n.kt)("p",null,"If the ",(0,n.kt)("a",{parentName:"p",href:"#callworker"},(0,n.kt)("inlineCode",{parentName:"a"},"callWorker"))," command is called to send a message to a worker that was just killed by ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker"),", a new process is started. To make sure that there is only one process running at a time for a worker, the new process will start after the previous one is actually terminated. Note however that if ",(0,n.kt)("a",{parentName:"p",href:"#callworker"},(0,n.kt)("inlineCode",{parentName:"a"},"callWorker"))," is called from a worker to send itself a message whereas it has just been killed by ",(0,n.kt)("inlineCode",{parentName:"p"},"killWorker"),", the command does nothing."),(0,n.kt)("h4",{id:"example-4"},"Example"),(0,n.kt)("p",null,"The following code triggers the termination of a worker:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'callWorker(vWorkerName,"theWorker","end")\n\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'   //theWorker method\n   \ndeclare (param : text)\nswitch\n    :(param=="call") //the worker is called\n       ... //do something\n    :(param=="end") //the worker is asked to kill itself\n      killWorker()\nend\n')),(0,n.kt)("h4",{id:"see-also-5"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#callworker"},(0,n.kt)("inlineCode",{parentName:"a"},"callWorker")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/language/SignalClass"},(0,n.kt)("inlineCode",{parentName:"a"},"Signal")," class")),(0,n.kt)("h2",{id:"processnumber"},"processNumber"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"processNumber")," ( ",(0,n.kt)("em",{parentName:"p"},"name")," : string ) : integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"name"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of process for which to retrieve the process number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Process number")))),(0,n.kt)("h4",{id:"description-9"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"processNumber")," command returns the number of the process whose name you pass in ",(0,n.kt)("em",{parentName:"p"},"name"),". If no process is found, ",(0,n.kt)("inlineCode",{parentName:"p"},"processNumber")," returns 0."),(0,n.kt)("h2",{id:"processproperties"},"processProperties"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procName")," : string , ",(0,n.kt)("em",{parentName:"p"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procTime")," : integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procName")," : string , ",(0,n.kt)("em",{parentName:"p"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procMode")," : boolean )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procName")," : string , ",(0,n.kt)("em",{parentName:"p"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procMode")," : boolean , ",(0,n.kt)("em",{parentName:"p"},"uniqueID")," : integer )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"processProperties")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procName")," : string , ",(0,n.kt)("em",{parentName:"p"},"procState")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procTime")," : integer , ",(0,n.kt)("em",{parentName:"p"},"procMode")," : boolean , ",(0,n.kt)("em",{parentName:"p"},"uniqueID")," : integer , ",(0,n.kt)("em",{parentName:"p"},"origin")," : integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"process"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Process number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"procName"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Process name")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"procState"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Process state")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"procTime"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Cumulative time taken by process in ticks")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"procMode"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Visible (True) or Hidden (False)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"uniqueID"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Unique process ID")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"origin"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Origin of the process")))),(0,n.kt)("h4",{id:"description-10"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"processProperties")," command returns various information about the process whose process number you pass in ",(0,n.kt)("em",{parentName:"p"},"process"),". "),(0,n.kt)("p",null,"If the process does not exist, which means you did not pass in ",(0,n.kt)("em",{parentName:"p"},"process")," a number in the range 1 to ",(0,n.kt)("a",{parentName:"p",href:"#highestprocessnumber"},(0,n.kt)("inlineCode",{parentName:"a"},"highestProcessNumber")),", ",(0,n.kt)("inlineCode",{parentName:"p"},"processProperties")," leaves the variable parameters unchanged."),(0,n.kt)("p",null,"After the call:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"procName"),' returns the name of the process. If the process was started by the Web server, its name is "Web Process#" followed by an UUID. If the process has been aborted (and its \u201cslot\u201d not reused yet), the name of the process is still returned. To detect if a process is aborted, test ',(0,n.kt)("inlineCode",{parentName:"li"},"procState=-1")," (see below)."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"procState")," returns the state of the process at the moment of the call. This parameter can return one of the values provided by the following constants:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Constant"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kAborted"),(0,n.kt)("td",{parentName:"tr",align:null},"-1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kDelayed"),(0,n.kt)("td",{parentName:"tr",align:null},"1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kDoesNotExist"),(0,n.kt)("td",{parentName:"tr",align:null},"-100")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kExecuting"),(0,n.kt)("td",{parentName:"tr",align:null},"0")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kPaused"),(0,n.kt)("td",{parentName:"tr",align:null},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForInputOutput"),(0,n.kt)("td",{parentName:"tr",align:null},"3")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForInternalFlag"),(0,n.kt)("td",{parentName:"tr",align:null},"4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForUserEvent"),(0,n.kt)("td",{parentName:"tr",align:null},"2")))),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"procTime")," returns the cumulative time that the process has used since it started, in ticks (1/60th of a second)."),(0,n.kt)("li",{parentName:"ul"},"The optional ",(0,n.kt)("em",{parentName:"li"},"procMode")," parameter returns ",(0,n.kt)("inlineCode",{parentName:"li"},"true")," if the process is visible and ",(0,n.kt)("inlineCode",{parentName:"li"},"false")," if it is hidden."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"uniqueID"),", if specified, returns the unique process number. Actually, each process has attributed a process number to it as well as a unique process number per session. The unique number allows you to differentiate between two processes or two process sessions. It corresponds to the process number having been started during Qodly's session."),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("em",{parentName:"li"},"origin"),", if specified, returns a value that describes the origin of the process. This parameter can return one of the values provided by the following constants:")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Constant"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kBackupProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-19")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kCacheManager"),(0,n.kt)("td",{parentName:"tr",align:null},"-4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kClientManagerProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-31")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kCompilerProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-29")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kDesignProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-2")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kEventManager"),(0,n.kt)("td",{parentName:"tr",align:null},"-8")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kHTTPLogFlusher"),(0,n.kt)("td",{parentName:"tr",align:null},"-58")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kIndexingProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kInternalProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-18")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kInternalTimerProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-25")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kLogFileProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-20")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kMainProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-39")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kMonitorProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-26")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kNone"),(0,n.kt)("td",{parentName:"tr",align:null},"0")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kOnExitProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-16")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kOtherProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-10")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kOtherUserProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWebProcessWithNoContext"),(0,n.kt)("td",{parentName:"tr",align:null},"-3")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWebServerProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"-13")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWorkerProcess"),(0,n.kt)("td",{parentName:"tr",align:null},"5")))),(0,n.kt)("h4",{id:"example-5"},"Example"),(0,n.kt)("p",null,"The following example returns the name, state, and time taken in the variables vName, vState, and vTimeSpent for the current process:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"}," var vName : string\n var vState,vTimeSpent : integer\n processProperties(currentProcess,vName,vState,vTimeSpent)\n\n")),(0,n.kt)("h4",{id:"see-also-6"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#getprocessactivity"},(0,n.kt)("inlineCode",{parentName:"a"},"getProcessActivity")),(0,n.kt)("br",null),(0,n.kt)("a",{parentName:"p",href:"#highestprocessnumber"},(0,n.kt)("inlineCode",{parentName:"a"},"highestProcessNumber"))),(0,n.kt)("h2",{id:"processstate"},"processState"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"processState")," ( ",(0,n.kt)("em",{parentName:"p"},"process")," : integer ) : integer"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"process"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Process number")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"State of the process")))),(0,n.kt)("h4",{id:"description-11"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"processState")," command returns the state of the process whose number you pass in ",(0,n.kt)("em",{parentName:"p"},"process"),". "),(0,n.kt)("p",null,"This command can return one of the values provided by the following constants:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Constant"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kAborted"),(0,n.kt)("td",{parentName:"tr",align:null},"-1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kDelayed"),(0,n.kt)("td",{parentName:"tr",align:null},"1")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kDoesNotExist"),(0,n.kt)("td",{parentName:"tr",align:null},"-100")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kExecuting"),(0,n.kt)("td",{parentName:"tr",align:null},"0")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kPaused"),(0,n.kt)("td",{parentName:"tr",align:null},"5")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForInputOutput"),(0,n.kt)("td",{parentName:"tr",align:null},"3")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForInternalFlag"),(0,n.kt)("td",{parentName:"tr",align:null},"4")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"kWaitingForUserEvent"),(0,n.kt)("td",{parentName:"tr",align:null},"2")))),(0,n.kt)("h4",{id:"see-also-7"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#processproperties"},(0,n.kt)("inlineCode",{parentName:"a"},"ProcessProperties"))),(0,n.kt)("h2",{id:"semaphore"},"semaphore"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"semaphore")," ( ",(0,n.kt)("em",{parentName:"p"},"semaphore")," : string { , ",(0,n.kt)("em",{parentName:"p"},"tickCount")," : integer } ) : boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"semaphore"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Semaphore to test and set")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"tickCount"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Maximum waiting time")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"false: semaphore has been successfully set, true: semaphore was already set")))),(0,n.kt)("h4",{id:"description-12"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"semaphore")," command returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," and does nothing if ",(0,n.kt)("em",{parentName:"p"},"semaphore")," already exists, or creates ",(0,n.kt)("em",{parentName:"p"},"semaphore")," and returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," if it does not exist. "),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"A ",(0,n.kt)("strong",{parentName:"p"},"semaphore")," is a flag shared among processes. A semaphore simply exists or does not exist. The methods that each process is running can test for the existence of a semaphore. A semaphore can only be removed by the process that created it. By creating and testing semaphores, methods can communicate between processes. You do not use semaphores to protect data access (this is automatically done by the Qodly Server), you use semaphores to prevent several processes from performing the same operation at the same time.")),(0,n.kt)("p",null,"Only one process at a time can create a semaphore. If ",(0,n.kt)("inlineCode",{parentName:"p"},"semaphore")," returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),", it means that the semaphore did not exist, but it also means that the ",(0,n.kt)("em",{parentName:"p"},"semaphore")," has been set for the process in which the call has been made."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"semaphore")," returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," if the ",(0,n.kt)("em",{parentName:"p"},"semaphore")," was not set. It also returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," if the semaphore is already set by the same process in which the call has been made."),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"semaphore")," name is limited to 255 characters. If you pass a longer string, the semaphore will be tested with the truncated string. Keep in mind that semaphore names are case-sensitive."),(0,n.kt)("p",null,"The optional parameter ",(0,n.kt)("em",{parentName:"p"},"tickCount")," allows you to specify a waiting time (in ticks) if ",(0,n.kt)("em",{parentName:"p"},"semaphore")," is already set. In this case, the function will wait either for the semaphore to be freed or the waiting time to expire before returning ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),"."),(0,n.kt)("h4",{id:"example-1-1"},"Example 1"),(0,n.kt)("p",null,"Here is typical code for using a semaphore:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'while(semaphore("MySemaphore",300))\n    \nend\n  // place code protected by semaphore here\nclearSemaphore("MySemaphore")\n')),(0,n.kt)("h4",{id:"example-2-1"},"Example 2"),(0,n.kt)("p",null,"This method allows you to not execute a method when a semaphore is present; the method alerts the calling method with an error code and plain text."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"// calling code\ndeclare -> result : object\nresult = semaphore_proof\n// result.code: error code\n// result.message: error text\n")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'  // Protective structure using semaphores\n var result : object\n \n \n  // Start of method\n var L_MyError : integer\n L_MyError=1\n \n var t_Sema : string\n t_Sema="tictac"\n \n if(semaphore(t_Sema,300))\n  // We expected 300 ticks but the semaphore\n  // was not released by the one that placed it:\n  // we end up here\n    L_MyError=-1\n \n else\n \n  // This method is only run by one process at a time\n  // We placed the semaphore as we entered\n  // so we\'re the only ones that can remove it\n \n  // Do something\n    ...\n  // Then finish by removing the semaphore\n    clearSemaphore(t_Sema)\n end\n \n var t_Message : string\n if(L_MyError==-1)\n    t_Message="The semaphore "+t_Sema+" has blocked access to the rest of the code"\n else\n    t_Message="OK"\n end\n \n result={code : L_MyError, message : t_Message)\n  // The calling method receives an error code and an explanation in plain text\n')),(0,n.kt)("h4",{id:"see-also-8"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#clearsemaphore"},(0,n.kt)("inlineCode",{parentName:"a"},"clearSemaphore")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/language/SignalClass"},(0,n.kt)("inlineCode",{parentName:"a"},"Signal")," class")),(0,n.kt)("h2",{id:"testsemaphore"},"testSemaphore"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"testSemaphore")," ( ",(0,n.kt)("em",{parentName:"p"},"semaphore")," : string ) : boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"semaphore"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Semaphore to test")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"false: semaphore does not exist, true: semaphore exists")))),(0,n.kt)("h4",{id:"description-13"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"testSemaphore")," command tests for the existence of ",(0,n.kt)("em",{parentName:"p"},"semaphore"),". "),(0,n.kt)("p",null,"The difference between the ",(0,n.kt)("inlineCode",{parentName:"p"},"semaphore")," and the ",(0,n.kt)("inlineCode",{parentName:"p"},"testSemaphore")," functions is that ",(0,n.kt)("inlineCode",{parentName:"p"},"testSemaphore")," does not create the semaphore if it does not exist. If the semaphore exists, the command returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),". Otherwise, it returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,n.kt)("h4",{id:"see-also-9"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#clearsemaphore"},(0,n.kt)("inlineCode",{parentName:"a"},"clearSemaphore")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#semaphore"},(0,n.kt)("inlineCode",{parentName:"a"},"semaphore")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"/docs/language/SignalClass"},(0,n.kt)("inlineCode",{parentName:"a"},"Signal")," class")))}k.isMDXComponent=!0}}]);