"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([["67280"],{71873:function(e,n,t){t.r(n),t.d(n,{metadata:()=>s,contentTitle:()=>l,default:()=>h,assets:()=>d,toc:()=>c,frontMatter:()=>a});var s=JSON.parse('{"id":"api/classFunctionsParameters","title":"Function Parameters","description":"Overview","source":"@site/versioned_docs/version-1.1.0/api/classFunctionsParameters.md","sourceDirName":"api","slug":"/api/classFunctionsParameters","permalink":"/docs/api/classFunctionsParameters","draft":false,"unlisted":false,"editUrl":"https://github.com/qodly/docs/issues/new?title=Comment%20on%20api%2FclassFunctionsParameters.md%20(1.1.0)&body=Share%20any%20feedback%20about%20this%20page%20%E2%80%94%20report%20issues%2C%20suggest%20improvements%2C%20or%20tell%20us%20what%E2%80%99s%20helpful.%0A%0AIf%20it%E2%80%99s%20an%20issue%3A%0A-%20What%E2%80%99s%20the%20issue%3F%20(e.g.%2C%20typo%2C%20incorrect%20information%2C%20unclear%20explanation)%0A-%20Where%20is%20it%3F%20(e.g.%2C%20section%20name%2C%20specific%20paragraph%2C%20or%20line)%0A%0AThank%20you%20for%20helping%20us%20improve!%20%F0%9F%9A%80%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20","tags":[],"version":"1.1.0","frontMatter":{"id":"classFunctionsParameters","title":"Function Parameters"},"sidebar":"Integrations","previous":{"title":"Overview","permalink":"/docs/api/classFunctionsOverview"},"next":{"title":"Function Calls","permalink":"/docs/api/classfunctionsFunctionCalls"}}'),r=t("85893"),i=t("50065");let a={id:"classFunctionsParameters",title:"Function Parameters"},l=void 0,d={},c=[{value:"Overview",id:"overview",level:2},{value:"General Rules",id:"general-rules",level:2},{value:"Scalar Value Parameter",id:"scalar-value-parameter",level:2},{value:"POST request",id:"post-request",level:4},{value:"GET request",id:"get-request",level:4},{value:"Example",id:"example",level:3},{value:"POST request",id:"post-request-1",level:4},{value:"GET request",id:"get-request-1",level:4},{value:"Response",id:"response",level:4},{value:"Fallback Behavior",id:"fallback-behavior",level:3},{value:"Entity Parameter",id:"entity-parameter",level:2},{value:"Parameter Specifications",id:"parameter-specifications",level:3},{value:"Example",id:"example-1",level:3},{value:"Fallback Behavior",id:"fallback-behavior-1",level:3},{value:"Entity selection Parameter",id:"entity-selection-parameter",level:2},{value:"Parameter Specifications",id:"parameter-specifications-1",level:3},{value:"Example",id:"example-2",level:3},{value:"Fallback Behavior",id:"fallback-behavior-2",level:3},{value:"GET request examples",id:"get-request-examples",level:2},{value:"Returning a document",id:"returning-a-document",level:3},{value:"Using an entity to download a PDF document",id:"using-an-entity-to-download-a-pdf-document",level:3}];function o(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"You can send parameters to data model functions through the REST API. The parameters are received in the declared parameters of the class functions on the server side."}),"\n",(0,r.jsx)(n.h2,{id:"general-rules",children:"General Rules"}),"\n",(0,r.jsx)(n.p,{children:"The following rules must be followed:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In functions called through POST requests, parameters must be passed ",(0,r.jsx)(n.strong,{children:"in the body of the POST request"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["In functions called through GET requests, parameters must be passed ",(0,r.jsx)(n.strong,{children:'in the URL with "?$params=" syntax'}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"JSON Format"}),": Parameters must be enclosed within a collection (JSON format)."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Supported Data Types"}),": All scalar data types supported in JSON collections can be passed as parameters, including strings, numbers, booleans, and dates."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Entities and Entity Selections as parameters"}),": Both individual entities and entity selections can be passed as parameters. The JSON object must contain specific attributes (",(0,r.jsx)(n.code,{children:"__DATACLASS"}),", ",(0,r.jsx)(n.code,{children:"__ENTITY"}),", ",(0,r.jsx)(n.code,{children:"__ENTITIES"}),", ",(0,r.jsx)(n.code,{children:"__DATASET"}),") to identify and assign data to the corresponding ORDA objects."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"scalar-value-parameter",children:"Scalar Value Parameter"}),"\n",(0,r.jsxs)(n.p,{children:["For scalar value parameters, simply enclose them in a collection in the body of the POST request. For instance, consider a ",(0,r.jsx)(n.code,{children:"Product"})," dataclass with a function ",(0,r.jsx)(n.code,{children:"calculateDiscount"})," that takes numeric parameters:"]}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:'All JSON data types are supported, including JSON pointers. Dates can be conveyed as strings adhering to ISO 8601 format (e.g., "2020-08-22T22:00:000Z").'})}),"\n",(0,r.jsxs)(n.p,{children:["For example, with a  dataclass function ",(0,r.jsx)(n.code,{children:"getCities()"})," receiving text parameters:"]}),"\n",(0,r.jsx)(n.h4,{id:"post-request",children:"POST request"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"/rest/City/getCities"})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Parameters in body:"}),' ["Aguada","Paris"]']}),"\n",(0,r.jsx)(n.h4,{id:"get-request",children:"GET request"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:'/rest/City/getCities?$params=\'["Aguada","Paris"]\''})}),"\n",(0,r.jsx)(n.h3,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Server-side Function Code:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qs",children:"exposed function calculateDiscount(price : number, discountRate : number) : number\n	var discountedPrice : number\n	discountedPrice = price*(1-discountRate)\n	return discountedPrice\n"})}),"\n",(0,r.jsx)(n.h4,{id:"post-request-1",children:"POST request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST {{ApiEndpoint}}/rest/Product/calculateDiscount\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Body of the request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:"[100, 0.15]\n"})}),"\n",(0,r.jsx)(n.h4,{id:"get-request-1",children:"GET request"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"GET {{ApiEndpoint}}/rest/Product/calculateDiscount?$params='[100,0.15]'` \n"})}),"\n",(0,r.jsx)(n.h4,{id:"response",children:"Response"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "result": 85\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fallback-behavior",children:"Fallback Behavior"}),"\n",(0,r.jsx)(n.p,{children:"If parameters are missing or invalid:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Missing Parameters"}),": If any parameters are missing, the function will return an error indicating the missing parameter."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Missing parameter \'price\'",\n      "componentSignature": "ds",\n      "errCode": 1001\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Invalid Parameters"}),": If parameters are of incorrect type or format, the function will return an error specifying the type mismatch or format issue."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Invalid parameter type for \'discountRate\'. Expected \'number\'.",\n      "componentSignature": "ds",\n      "errCode": 1002\n    }\n  ]\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"entity-parameter",children:"Entity Parameter"}),"\n",(0,r.jsxs)(n.p,{children:["When passing an entity as a parameter, the entity is referenced on the server through its key (",(0,r.jsx)(n.code,{children:"__KEY"})," property). If the key is omitted, a new entity is created in memory on the server."]}),"\n",(0,r.jsx)(n.p,{children:"Additionally, attribute values for the entity can be passed, automatically utilized for the entity on the server."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"Modified attribute values for an existing entity prompt automatic execution of the called ORDA data model function on the server. This enables result examination post-business rule application from the client application, facilitating informed decisions regarding entity saving on the server."})}),"\n",(0,r.jsx)(n.h3,{id:"parameter-specifications",children:"Parameter Specifications"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Requirement"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Attributes of the entity"}),(0,r.jsx)(n.td,{children:"mixed"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Values to modify."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__DATACLASS"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Mandatory"}),(0,r.jsx)(n.td,{children:"Indicates the Dataclass of the entity."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__ENTITY"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Mandatory"}),(0,r.jsx)(n.td,{children:"True to indicate that the parameter is an entity."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__KEY"}),(0,r.jsx)(n.td,{children:"Mixed"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Primary key of the entity. If not provided, a new entity is created on the server with the given attributes. If provided, the entity corresponding to the key is loaded on the server with the given attributes."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"example-1",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Server-side Function Code:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qs",children:"exposed function updateEmployee(employeeData : object) : boolean\n	var employee : cs.UsersEntity\n	var status : object\n\n	if (not(employeeData.__KEY = null))\n		employee = ds.Employee.get(employeeData.__KEY)\n	else\n		employee = ds.Employee.new()\n	end\n\n	employee.fromObject(employeeData)\n	status = employee.save()\n\n	return status.success\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST {{ApiEndpoint}}/rest/Employee/updateEmployee\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Body of the request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__DATACLASS": "Employee",\n  "__ENTITY": true,\n  "__KEY": 1,\n  "firstName": "John",\n  "lastName": "Doe",\n  "salary": 75000\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "result": true\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fallback-behavior-1",children:"Fallback Behavior"}),"\n",(0,r.jsx)(n.p,{children:"If the key or required attributes are missing:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Missing Key"}),": If the ",(0,r.jsx)(n.code,{children:"__KEY"})," is missing, a new entity is created with the provided attributes."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Invalid Key"}),": If the ",(0,r.jsx)(n.code,{children:"__KEY"})," is invalid or not found, the function will return an error indicating the entity could not be found."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Entity with key \'1\' not found",\n      "componentSignature": "ds",\n      "errCode": 1003\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Missing Attributes"}),": If required attributes are missing, the function will return an error specifying the missing attributes."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Missing required attribute \'lastName\'",\n      "componentSignature": "ds",\n      "errCode": 1004\n    }\n  ]\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Empty Attribute Values"}),": If attribute values are provided but empty or null, the function will return an error specifying the attributes with empty values."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Empty or null value provided for attribute \'firstName\'. Please provide a valid value.",\n      "componentSignature": "ds",\n      "errCode": 1011\n    }\n  ]\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"entity-selection-parameter",children:"Entity selection Parameter"}),"\n",(0,r.jsxs)(n.p,{children:["Before passing an entity selection as a parameter, you need to define it using ",(0,r.jsx)(n.code,{children:"$method=entityset"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"parameter-specifications-1",children:"Parameter Specifications"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Property"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Requirement"}),(0,r.jsx)(n.th,{children:"Description"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Attributes of the entity"}),(0,r.jsx)(n.td,{children:"mixed"}),(0,r.jsx)(n.td,{children:"Optional"}),(0,r.jsx)(n.td,{children:"Values to modify."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__DATASET"}),(0,r.jsx)(n.td,{children:"String"}),(0,r.jsx)(n.td,{children:"Mandatory"}),(0,r.jsx)(n.td,{children:"entitySetID (ID) of the entity selection"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"__ENTITIES"}),(0,r.jsx)(n.td,{children:"Boolean"}),(0,r.jsx)(n.td,{children:"Mandatory"}),(0,r.jsx)(n.td,{children:"True to indicate that the parameter is an entity selection."})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"example-2",children:"Example"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Server-side Function Code:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qs",children:"exposed function applyDiscount(productSelection : object, discount : number) : boolean\n	var products : cs.ProductSelection\n	var product : cs.ProductEntity\n\n	products = ds.Product.getEntitySelection(productSelection.__DATASET)\n	forEach (product, products)\n		product.price = product.price*(1-discount/100)\n		product.save()\n	end\n	return true\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"POST {{ApiEndpoint}}/rest/Product/applyDiscount\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Body of the request:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'[\n  {\n    "__ENTITIES": true,\n    "__DATASET": "9B9C053A111E4A288E9C1E48965FE671"\n  },\n  10\n]\n'})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Response:"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "result": true\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"fallback-behavior-2",children:"Fallback Behavior"}),"\n",(0,r.jsx)(n.p,{children:"If the entity selection or discount is missing or invalid:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Missing Entity Selection"}),": If the ",(0,r.jsx)(n.code,{children:"__DATASET"})," is missing, the function will return an error indicating the entity selection parameter is missing."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Missing parameter \'__DATASET\'",\n      "componentSignature": "ds",\n      "errCode": 1005\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Invalid Entity Selection"}),": If the ",(0,r.jsx)(n.code,{children:"__DATASET"})," is invalid or not found, the function will return an error indicating the entity selection could not be found."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Entity selection with ID \'9B9C053A111E4A288E9C1E48965FE671\' not found",\n      "componentSignature": "ds",\n      "errCode": 1006\n    }\n  ]\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Missing Discount"}),": If the discount parameter is missing, the function will use a default discount value."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "result": true,\n  "message": "No discount provided, default discount of 10% applied"\n}\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Invalid Discount"}),": If the discount parameter is invalid, the function will return an error specifying the issue."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "__ERROR": [\n    {\n      "message": "Invalid discount value. Expected \'number\', received \'string\'",\n      "componentSignature": "ds",\n      "errCode": 1007\n    }\n  ]\n}\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"get-request-examples",children:"GET request examples"}),"\n",(0,r.jsx)(n.h3,{id:"returning-a-document",children:"Returning a document"}),"\n",(0,r.jsxs)(n.p,{children:["You want to propose a link to download the user manual for a selected product with several formats available. You write a ",(0,r.jsx)(n.code,{children:"getUserManual()"})," function of the Products dataclass. You return an object of the ",(0,r.jsxs)(n.a,{href:"/docs/language/OutgoingMessageClass",children:[(0,r.jsx)(n.code,{children:"OutgoingMessage"})," class"]}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qs",children:'// Product dataclass\nexposed onHTTPGet function getUserManual(productId : integer, type : string) : 4D.OutgoingMessage\n  \nvar vfile : 4D.File\nvar response = 4D.OutgoingMessage.new()\nvar doc = "/SOURCES/Shared/User manuals/product_" + string(productId)\n\nswitch \n  : (type == "pdf")\n    vfile = file(doc+".pdf")\n    response.setBody(vfile.getContent()) // This is binary content \n    response.setHeader("Content-Type", "application/pdf")\n      \n  : (type == "jpeg")\n    vfile = file(doc+".jpeg")\n    response.setBody(vfile.getContent()) // This is binary content \n    response.setHeader("Content-Type", "image/jpeg")\nend \n  \nreturn response\n\n'})}),"\n",(0,r.jsx)(n.p,{children:"You can call the function using a request like:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:"{{ApiEndpoint}}/rest/Products/getUserManual?$params='[1,\"pdf\"]'"})]}),"\n",(0,r.jsx)(n.h3,{id:"using-an-entity-to-download-a-pdf-document",children:"Using an entity to download a PDF document"}),"\n",(0,r.jsx)(n.p,{children:"Same example as above but you want to pass an entity as parameter to the datastore function."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-qs",children:'// Product dataclass\nexposed onHTTPGet function getUserManual(product : cs.ProductEntity) : 4D.OutgoingMessage\n  \n  var vfile : 4D.File\n  var response = 4D.OutgoingMessage.new()\n  \n  vfile = file("/SOURCES/Shared/User manuals/"+product.name+".pdf")\n  response.setBody(vfile.getContent())\n  response.setHeader("Content-Type", "application/pdf")\n  \n  return response\n'})}),"\n",(0,r.jsx)(n.p,{children:"You can call the function using this request:"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"GET"})," ",(0,r.jsx)(n.code,{children:'{{ApiEndpoint}}/rest/Product/getUserManual?$params=\'[{"__DATACLASS":"Product","__ENTITY":true,"__KEY":41}]\''})]})]})}function h(e={}){let{wrapper:n}={...(0,i.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},50065:function(e,n,t){t.d(n,{Z:function(){return l},a:function(){return a}});var s=t(67294);let r={},i=s.createContext(r);function a(e){let n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);