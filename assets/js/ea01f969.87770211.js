"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[6321],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>m});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(a),h=i,m=p["".concat(l,".").concat(h)]||p[h]||c[h]||r;return a?n.createElement(m,o(o({ref:t},d),{},{components:a})):n.createElement(m,o({ref:t},d))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,o=new Array(r);o[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[p]="string"==typeof e?e:i,o[1]=s;for(var u=2;u<r;u++)o[u]=a[u];return n.createElement.apply(null,o)}return n.createElement.apply(null,a)}h.displayName="MDXCreateElement"},8781:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>r,metadata:()=>s,toc:()=>u});var n=a(7462),i=(a(7294),a(3905));const r={id:"attributes",title:"Attributes"},o=void 0,s={unversionedId:"studio/model/attributes",id:"studio/model/attributes",title:"Attributes",description:"An attribute is an object that stores information or represents a value in the datastore class. Once you create a datastore class, you can add attributes to it. To learn how to create the different types of attributes, refer to the chapter in the User Guide manual.",source:"@site/docs/studio/model/attributes.md",sourceDirName:"studio/model",slug:"/studio/model/attributes",permalink:"/docs/studio/model/attributes",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/studio/model/attributes.md",tags:[],version:"current",frontMatter:{id:"attributes",title:"Attributes"},sidebar:"Studio",previous:{title:"Datastore Classes",permalink:"/docs/studio/model/datastore-classes"},next:{title:"Webform Editor Overview",permalink:"/docs/studio/design-webforms/create-webform"}},l={},u=[{value:"Computed attributes",id:"computed-attributes",level:2},{value:"Overview",id:"overview",level:3},{value:"How to define computed attributes",id:"how-to-define-computed-attributes",level:3},{value:"Alias attributes",id:"alias-attributes",level:2},{value:"Overview",id:"overview-1",level:3},{value:"How to define alias attributes",id:"how-to-define-alias-attributes",level:3},{value:"<code>alias &lt;attributeName&gt; &lt;targetPath&gt;</code>",id:"alias-attributename-targetpath",level:3},{value:"Syntax",id:"syntax",level:4},{value:"Using alias attributes",id:"using-alias-attributes",level:3},{value:"Alias properties",id:"alias-properties",level:3},{value:"Examples",id:"examples",level:3}],d={toc:u};function p(e){let{components:t,...r}=e;return(0,i.kt)("wrapper",(0,n.Z)({},d,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"An attribute is an object that stores information or represents a value in the datastore class. Once you create a datastore class, you can add attributes to it. To learn how to create the different types of attributes, refer to the chapter in the User Guide manual."),(0,i.kt)("p",null,"By default, the datastore class is created with an attribute of type Longint named \u201cID,\u201d which is defined as its primary key."),(0,i.kt)("p",null,"You can modify a few of the attribute\u2019s properties when you select it in the datastore class:"),(0,i.kt)("p",null,"Delete: Deletes the attribute from the datastore class.\nScope: Modifies the scope\u2014public, private (), public on server (), or protected () of the attribute. A public attribute can be used from anywhere. A private attribute can only be used inside the datastore class. A protected attribute can be used from datastore classes as well as from extended datastore classes.\nName: Attribute name that you can change by double-clicking on it to render the area enterable.\nPrimary Key: Defines the attribute as the primary key for the datastore class.\nNote: Refer to the Modifying the Primary Key section in the Datastore Classes section.\nType Icon: Displays the datastore entity type as an icon.\nType: Attribute type that you can change by double-clicking on it to render the area enterable.\nAttribute Categories",(0,i.kt)("br",{parentName:"p"}),"\n","There are five categories of attributes in Wakanda:"),(0,i.kt)("p",null,"Scalar/Storage: Scalar/storage attributes allow you to store information in the datastore class.\nRelation: A relation attribute is relationship between two datastore classes that can be either N->1 or 1->N. From those two types, you can then create an N<->N relationship between three datastore classes.\nCalculated: A calculated attribute does not store information; instead, it determines its value based on other values from the same entity or from other entities, attributes or datastore class methods. When a calculated attribute is referenced, the underlying \u201ccalculation\u201d is evaluated to determine the value. You can also assign values to other attributes in the datastore class during data entry. For example, if you have an enterable \u201cfullName\u201d attribute, you can assign the values entered in the \u201cfullName\u201d attribute into two separate attributes, like \u201cfirstName\u201d and \u201clastName.\u201d\nAlias: An alias attribute is built upon a relation attribute. Once an N -> 1 Relation Attribute is defined, any of the attributes within the \u201cparent\u201d datastore class can be directly referenced as attributes within the \u201cchild\u201d datastore class. The result is what appears to be de-normalized data without the overhead of duplicating information. Alias attributes can reference any available attributes further up the relational tree. An alias attribute may reference either a scalar attribute or a relation attribute.\nInherited: Attributes inherited from an extended datastore class. For example, if we extend a Person datastore class and name the derived datastore class Student, the attributes from the Person datastore class are the inherited ones in the new datastore class.\nCreating a Scalar Attribute",(0,i.kt)("br",{parentName:"p"}),"\n","When you add an attribute to your datastore class, a name is entered by default that you can edit it. Attribute names are case-sensitive: \u201cfirstName\u201d and \u201cfirstNAME\u201d are not equal."),(0,i.kt)("p",null,"If you enter a space, it will be replaced by an underscore. The attribute name must be unique and start with a letter, and can contain only numbers and letters. You can also include accented and non-Roman letters. For more information, please refer to the Naming Conventions section."),(0,i.kt)("p",null,"The attribute type list appears contains datastore classes and collections (in bold) as well as predefined data types and relation attributes:"),(0,i.kt)("p",null,"Note: If the attribute types in the datastore class are hidden, they will reappear so that you can select one from the list for the new attribute."),(0,i.kt)("p",null,"You can rename an attribute by double-clicking on its name in the datastore class. For more information, refer to the Renaming an Attribute section below."),(0,i.kt)("p",null,"If you create a calculated attribute, the  icon appears to the left of the type icon."),(0,i.kt)("p",null,"If you type in a value that is not a datastore class or datastore entity name, the panel will display  for the type icon and the text entered for the data type in red:"),(0,i.kt)("p",null,"An error message will also be displayed in the Datastore Classes area if you click on the datastore class:"),(0,i.kt)("p",null,"Scalar Attribute Types",(0,i.kt)("br",{parentName:"p"}),"\n","Modified in v11\nWakanda manages the following data types (which are null by default until a value is entered):"),(0,i.kt)("p",null,'Data Type\tIcon\tDescription\tValue Range\nblob\t\tA "binary large object" containing binary data.\nbool\t\tA Boolean value: either true or false.\nbyte\t\tA sequence of 8 bits.\ndate\t\tIf the Date only property is selected for this attribute type, the date value will include only the "MM/DD/YYYY" format (e.g., "10/05/2010"). Otherwise, the date value including the time, stored in UTC. The date is expressed in the following format: YYYY-MM-DDTHH:MM:ss.SSSZ (e.g., "2010-10-05T23:00:00.000Z" for October 5, 2010 in the Central European Timezone). SSS, which represent the milliseconds, which can be between 0 to 999, has been added to the date in the Dev Branch.\nduration\t\tA duration between two dates\nimage\t\tA reference to an image file or an actual image.\nlong\t\tA whole number, greater than or equal to a standard number\t-2,147,483,648 to 2,147,483,647\nlong64\t\tA whole number, greater than or equal to a standard number\t-9,223,372,036,854,775,808 to +9,223,372,036,854,775,807\nnumber\t\tA numeric value, corresponding either to a Real, and Integer or Long Integer.\t\xb11.7e\xb1308 (real), -32,768 to 32,767 (integer), -2^31 to (2^31)-1 (long)\nstring\t\tA sequence of characters.\nuuid\t\tUniversally Unique Identifier: a 16 bytes (128 bits) number containing 32 hexadecimal characters\nword\t\tA 16-bit signed integer\t-32767 to 32768'),(0,i.kt)("p",null,'Added in v10\nobject\t\tA pure JavaScript object containing any kind of property/value pairs, including arrays. This data type can be indexed. Functions and recursive references are not supported\tExample:\n{x:2,y:"blue",z:{a:1, b:2}, v:',"[3,4,5]","}\nAttribute Properties",(0,i.kt)("br",{parentName:"p"}),"\n","Properties help you to define your application\u2019s business rules that will be automatically applied at the server level. For example, if you define an attribute like \u201cUnique,\u201d Wakanda returns an error if the user tries to save the datastore entity with a value that is not unique into that attribute, and the entity will not be saved."),(0,i.kt)("p",null,"Wakanda manages the attribute\u2019s properties when it is published to the Web. You can overwrite certain properties, like an attribute\u2019s display formats in a widget on your Page."),(0,i.kt)("p",null,"The Properties tab allows you to modify the attribute\u2019s properties, which are different depending on its type. The Properties tab below displays the properties for an attribute of type String:"),(0,i.kt)("p",null,"You can modify the attribute\u2019s name and type by double-clicking on it in the panel."),(0,i.kt)("p",null,"All the attribute types have the following properties:"),(0,i.kt)("p",null,"Attribute type: Can be \u201cScalar\u201d or \u201cCalculated.\u201d When you select \u201cCalculated,\u201d you are defining this attribute as a calculated attribute; therefore, you can execute code for the following events:\nOn Get: When the attribute is retrieved from the server.\nOn Set: When the attribute is set on the server.\nOn Query: When the attribute is queried.\nOn Sort: When the attribute is sorted.\nIndex Kind: Defines the type of index for the attribute: B-tree, Cluster, Keywords, or Automatic. If you select an Index Kind, the attribute name will be displayed in bold.\nNone: By default, there is no Index Kind specified.\nB-tree: Standard B-Tree type index. This multipurpose index type meets most indexing requirements.\nCluster: B-Tree type index using clusters. This architecture is more efficient when the index does not contain a large number of keys, i.e., when the same values occur frequently in the data.\nKeywords: This index is only available for attributes of type String, and is intended to facilitate fast searching of individual words inside of these attributes.\nAutomatic: Wakanda automatically selects an index according to the attribute type.\nScope: Defines the scope of the attribute: public, private (), public on server (), or protected (). A public attribute can be used from anywhere. A private attribute can only be used by code called from inside the datastore class, including calculated attribute events, datastore class methods, and events. A public on server attribute can only be accessed from the server. A protected attribute can be used from datastore classes as well as from derived datastore classes. By default, the scope is public. You can also modify this property in the datastore class by clicking to the left of the attribute name:"),(0,i.kt)("p",null,"Mandatory: Specifies that the attribute is mandatory and cannot be null.\nIdentifying: A field to help better identify a datastore entity when searching relation attributes. The identifying property allows you to more easily identify an attribute in some of the Wakanda widgets. The name of the attribute (in this example, city) is in italics:"),(0,i.kt)("p",null,"Notes: Notes that you can store with your attribute for private use.\nProperties for String Attributes",(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type String, you can set the following properties in addition to the common attributes (attribute type, not null, identifying, index kind, and scope):"),(0,i.kt)("p",null,'Text as BLOB: Text will be stored externally as a BLOB.\nAutocomplete: Displays a list of possible values based on previously entered values for the same attribute during data entry of a Text Input widget if you have selected the Autocomplete property for it as well. When you select the With included widgets property for the Auto Form, the autocomplete feature is also available and can be activated by selected this property. For example, if you enter \u201cAb\u201d in a first name attribute, all the first names in the datastore class that start with \u201cAb\u201d will appear in a list for you to select from. Refer to the Properties tab paragraph in the Text Input chapter for an example of this feature.\nUnique: Verifies that the value entered be unique. If not, an error is returned.\nMulti Line: Select this option so that the attribute by default will appear as a multi-line Text Input widget when you create a Text Input widget for the attribute (*not yet implemented).\nLimiting Length:  Limits the length of the text entered in the attribute. If you define the limiting length to be 10, any longer text entered will be truncated to contain 10 characters.\nLength: The length of the attribute.\nMin Length: Minimum length allowed for the attribute. If the text entered is shorter than the value defined for this property, an error is returned.\nMax Length: Maximum length allowed for the attribute. If the text entered is longer than the value defined for this property, an error is returned.\nPattern: A RegEx to help ensure proper data entry.\nDefault Format:\nPresentation: Select "Text" to display the Format property.\nLocale: The locale for the region to format the data in the attribute. Please refer to Locale Formatting for more information.\nFormat: Default display format for this attribute in all the widgets defined in the same project. Please refer to the Display Formats for Attributes section for more information.\nProperties for Number, Long, and Long64 Attributes',(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type Number, Long, and Long64, you can set the following properties in addition to the others for all attributes (attribute type, not null, identifying, index kind, and scope):"),(0,i.kt)("p",null,"Autosequence: A sequence number that Wakanda automatically generates for each new datastore entity.\nUnique: Verifies that the value entered be unique. If not, an error is returned.\nMin Value: Minimum value allowed for the attribute. If the value entered is less than this property, an error is returned.\nMax Value: Minimum value allowed for the attribute. If the value entered is more than this property, an error is returned.\nDefault Value: Default value for the attribute.\nDefault Format:\nPresentation: Text, Slider, or Text and Slider.\nLocale: The locale for the region to format the data in the attribute. Refer to Locale Formatting for more information.\nFormat: Default display format for the text presentation. Refer to the \u201cDisplay Formats for Attributes\u201d section for more information.\nSlider Min: Minimum value for the Slider widget (when you select \u201cslider\u201d or \u201ctext and slider\u201d). (not implemented)\nSlider Max: Maximum value for the Slider widget (when you select \u201cslider\u201d or \u201ctext and slider\u201d). (not implemented)\nSlider Step: Steps in the values defined for the Slider widget (when you select \u201cslider\u201d or \u201ctext and slider\u201d). (not implemented)\nProperties for Date Attributes",(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type Date, you can set the following properties in addition to the others for all attributes (attribute type, not null, identifying, index kind, and scope):"),(0,i.kt)("p",null,'Date only: If unchecked, the date is represented as a standard JS date with the timezone and time in "YYYY-MM-DDTHH:MM:SSZ" format. If checked, the date is represented without the timezone and time (hour, minutes, and seconds). In this case, you can send the date in the format that it is returned to you: dd!mm!yyyy (e.g., 05!10!2013) or in typical JS format in which the timezone and time (hours, minutes, and seconds) will be removed and therefore disregarded.\nDefault Format:\nPresentation: Text only.',(0,i.kt)("br",{parentName:"p"}),"\n","Locale: The locale for the region to format the data in the attribute. Please refer to Locale Formatting for more information.\nFormat: Default display format. Please refer to the Display Formats for Attributes section for more information.\nProperties for Image and BLOB attributes",(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type Image and Boolean, there is one additional property:"),(0,i.kt)("p",null,"Cache duration: This property allows you to define how long (expressed in seconds) an Image or BLOB is cached client-side."),(0,i.kt)("p",null,"Properties for UUID Attributes",(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type UUID (universally unique identifier), you can set the following property in addition to the others for all attributes (attribute type, not null, identifying, index kind, and scope):"),(0,i.kt)("p",null,"Autogenerate: Automatically generates a UUID by default. If you do not select this option, you must generate a UUID in your code or else the attribute will not be valid.\nProperties for Object attributes",(0,i.kt)("br",{parentName:"p"}),"\n","Added in v10\nFor attributes of type Object, you can set the Scope and Index kind properties."),(0,i.kt)("p",null,'The Index kind property allows you to define the type of index to use for the Object attribute, which can either be "None" or "All paths". With the "All paths" index type, all the paths in each object will be indexed.'),(0,i.kt)("p",null,"Properties for all other attributes",(0,i.kt)("br",{parentName:"p"}),"\n","For attributes of type Duration, Word, Byte, and Boolean, there are no additional properties apart from those listed above: attribute type, not null, identifying, index kind, and scope."),(0,i.kt)("p",null,"Properties for a 1->N Relation Attribute",(0,i.kt)("br",{parentName:"p"}),"\n","The following properties are specific to 1->N relation attributes:"),(0,i.kt)("p",null,"Index kind: Type of index (None, B-tree, Cluster, and Automatic)\nComposition: Generates an array for the related entities instead of a datastore entity collection. By default, this option is not selected.\nReverse Path: This option must be selected for a 1->N relation attribute.\nScope: The scope property is the same as for storage attributes.\nDisplay Formats for Attributes",(0,i.kt)("br",{parentName:"p"}),"\n","Display formats are \u201ctemplates\u201d used to represent data visually on your Page. They do not affect the way the data is stored internally. These display formats are automatically used by some of the widgets, like Auto Forms, Grids, and Text Inputs."),(0,i.kt)("p",null,"Formats can be applied to attributes of type String, Number (Long, Long64, and Number), and Date."),(0,i.kt)("p",null,"You can transform text values by entering one of the following formats:"),(0,i.kt)("p",null,"Format\tDescription\nU\tUppercase (e.g., \u201cWILLIAM JONES\u201d)\nl\tLowercase (e.g., \u201cwilliam jones\u201d)\nC\tCapitalize first word (e.g., \u201cWilliam jones\u201d)\nc\tCapitalize each word    (e.g., \u201cWilliam Jones\u201d)\nFor strings, like a telephone number, you can include characters that will be used for the data entered. For example, if you have \u201c(###) ###-####\u201d for a US telephone number, when the user enters in 4085551212, it will be formatted as \u201c(408) 555-1212\u201d."),(0,i.kt)("p",null,"For numbers, each placeholder character has a different effect on the display of leading or trailing zeros. A leading zero is a zero that starts a number before the decimal point; a trailing zero is a zero that ends a number after the decimal point. Suppose you use the format ##0 to display three digits. If the user enters nothing in the field, the field displays 0. If the user enters 26, the field displays 26."),(0,i.kt)("p",null,"The table below explains the effect of each placeholder on leading and trailing zeros:"),(0,i.kt)("p",null,"Placeholder\tEffect for leading or trailing zero"),(0,i.kt)("h1",{id:"displays-nothing"},"Displays nothing"),(0,i.kt)("p",null,"0\tDisplays 0\nNote: Wakanda uses the \u201c,\u201d to delimit thousands and \u201c.\u201d as the decimal point for formatting numbers; however, when the value is displayed via the web browser, it will appear with the thousands separator and decimal point defined by the browser."),(0,i.kt)("p",null,"For percentages, enter \u201c0%\u201d."),(0,i.kt)("p",null,"For dates: the following formats are available:"),(0,i.kt)("p",null,"d - day of month (no leading zero)\ndd - day of month (two digit)\no - day of the year (no leading zeros)\noo - day of the year (three digit)\nD - day name short\nDD - day name long\nm - month of year (no leading zero)\nmm - month of year (two digit)\nM - month name short\nMM - month name long\ny - year (two digit)\nyy - year (four digit)\nFor example, to create a date that appears as \u201cMarch 1, 2011,\u201d you would enter \u201cMM d, yy\u201d in the date attribute\u2019s format field."),(0,i.kt)("p",null,"For attributes of type Date, the Format field has a drop-down list that appears, assisting you in entering the appropriate date format:"),(0,i.kt)("p",null,"For attributes of type String, you will see the following drop-down menu:"),(0,i.kt)("p",null,"Locale Formatting",(0,i.kt)("br",{parentName:"p"}),"\n","By defining the Locale for an attribute, the browser's language will be automatically detected client-side and data for that attribute will be displayed in the locale's format."),(0,i.kt)("p",null,"Attribute permissions",(0,i.kt)("br",{parentName:"p"}),"\n","In this area, you can define the permissions for an attribute:"),(0,i.kt)("p",null,"You select a group from the dropdown menu to give them permissions to perform any of the following actions on a specific attribute:"),(0,i.kt)("p",null,"Read: Read the attribute's value.\nCreate: Add a value to the attribute when creating an entity.\nUpdate: Update the attribute's value.\nNote: For the moment, these permissions are applicable only to REST requests.\nAttribute Events",(0,i.kt)("br",{parentName:"p"}),"\n","You can execute the following events for all attributes:"),(0,i.kt)("p",null,"init: Executes when a new datastore entity is created after the entity's init event.\nload: Executes the first time the attribute is accessed after the datastore entity is loaded. If the attribute is not accessed, this event is not executed.\nset: Executes after an attribute\u2019s value is set. In server-side code, this executes when the value is set. In client-side code, this event executes for each attribute that was modified when the datastore entity is saved or validated, or when the method serverRefresh is called.\nvalidate: Executes just before the datastore entity's validate event executes and can fail the validation if needed.\nsave: Executes just before the datastore entity's save event executes and can stop the save if necessary.\nremove: Executes just before the datastore entity's remove event and can stop the deletion if necessary.\nNote: For more information regarding the attribute events, refer to Attribute Events."),(0,i.kt)("p",null,"When you click the  icon next to an event, you will be prompted to indicate in which file your JavaScript code for this event will be saved:"),(0,i.kt)("p",null,"Depending on the event you decided to create, the following code appears:"),(0,i.kt)("p",null,"model.Company.revenues.events.validate = function(event) {\n// Add your code here;\n};\nTo modify the script for an event, click on the  icon to go directly to the code in the JavaScript file you specified. To delete a specific event, you must delete the code you wrote in the JavaScript file that you indicated."),(0,i.kt)("p",null,"Event parameter",(0,i.kt)("br",{parentName:"p"}),"\n","The listener function accepts a single event object as parameter. When the function is called, the parameter is filled with several properties that allow you to write generic code:"),(0,i.kt)("h2",{id:"computed-attributes"},"Computed attributes"),(0,i.kt)("h3",{id:"overview"},"Overview"),(0,i.kt)("p",null,"A computed attribute is a dataclass attribute with a data type that masks a calculation."),(0,i.kt)("p",null,"At the very minimum, a computed attribute requires a ",(0,i.kt)("inlineCode",{parentName:"p"},"get")," function that describes how its value will be calculated. When a ",(0,i.kt)("em",{parentName:"p"},"getter")," function is supplied for an attribute, ORDA does not create the underlying storage space in the datastore but instead substitutes the function's code each time the attribute is accessed. If the attribute is not accessed, the code never executes."),(0,i.kt)("p",null,"A computed attribute can also implement a ",(0,i.kt)("inlineCode",{parentName:"p"},"set")," function, which executes whenever a value is assigned to the attribute. The ",(0,i.kt)("em",{parentName:"p"},"setter")," function describes what to do with the assigned value, usually redirecting it to one or more storage attributes or in some cases other entities."),(0,i.kt)("p",null,"Just like storage attributes, computed attributes may be included in ",(0,i.kt)("strong",{parentName:"p"},"queries"),". By default, when a computed attribute is used in a ORDA query, the attribute is calculated once per entity examined. In some cases this is sufficient. However for better performance, especially in client/server, computed attributes can implement a ",(0,i.kt)("inlineCode",{parentName:"p"},"query")," function that relies on actual dataclass attributes and benefits from their indexes."),(0,i.kt)("p",null,"Similarly, computed attributes can be included in ",(0,i.kt)("strong",{parentName:"p"},"sorts"),". When a computed attribute is used in a ORDA sort, the attribute is calculated once per entity examined. Just like in queries, computed attributes can implement an ",(0,i.kt)("inlineCode",{parentName:"p"},"orderBy")," function that substitutes other attributes during the sort, thus increasing performance. "),(0,i.kt)("h3",{id:"how-to-define-computed-attributes"},"How to define computed attributes"),(0,i.kt)("p",null,"You create a computed attribute by defining a ",(0,i.kt)("inlineCode",{parentName:"p"},"get")," accessor in the ",(0,i.kt)("a",{parentName:"p",href:"#entity-class"},(0,i.kt)("strong",{parentName:"a"},"entity class"))," of the dataclass. The computed attribute will be automatically available in the dataclass attributes and in the entity attributes."),(0,i.kt)("p",null,"Other computed attribute functions (",(0,i.kt)("inlineCode",{parentName:"p"},"set"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"query"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"orderBy"),") can also be defined in the entity class. They are optional."),(0,i.kt)("p",null,"Within computed attribute functions, ",(0,i.kt)("inlineCode",{parentName:"p"},"this")," designates the entity. Computed attributes can be used and handled as any dataclass attribute, i.e. they will be processed by ",(0,i.kt)("a",{parentName:"p",href:"../language/EntityClass.md"},"entity class")," or ",(0,i.kt)("a",{parentName:"p",href:"../language/EntitySelectionClass.md"},"entity selection class")," functions. "),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"ORDA computed attributes are not ",(0,i.kt)("a",{parentName:"p",href:"#exposed-vs-non-exposed-functions"},(0,i.kt)("strong",{parentName:"a"},"exposed"))," by default. You expose a computed attribute by adding the ",(0,i.kt)("inlineCode",{parentName:"p"},"exposed")," keyword to the ",(0,i.kt)("strong",{parentName:"p"},"get function")," definition.")),(0,i.kt)("h2",{id:"alias-attributes"},"Alias attributes"),(0,i.kt)("h3",{id:"overview-1"},"Overview"),(0,i.kt)("p",null,"An ",(0,i.kt)("strong",{parentName:"p"},"alias")," attribute is built above another attribute of the data model, named ",(0,i.kt)("strong",{parentName:"p"},"target")," attribute. The target attribute can belong to a related dataclass (available through any number of relation levels) or to the same dataclass. An alias attribute stores no data, but the path to its target attribute. You can define as many alias attributes as you want in a dataclass. "),(0,i.kt)("p",null,"Alias attributes are particularly useful to handle N to N relations. They bring more readability and simplicity in the code and in queries by allowing to rely on business concepts instead of implementation details."),(0,i.kt)("h3",{id:"how-to-define-alias-attributes"},"How to define alias attributes"),(0,i.kt)("p",null,"You create an alias attribute in a dataclass by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"alias")," keyword in the ",(0,i.kt)("a",{parentName:"p",href:"#entity-class"},(0,i.kt)("strong",{parentName:"a"},"entity class"))," of the dataclass. "),(0,i.kt)("h3",{id:"alias-attributename-targetpath"},(0,i.kt)("inlineCode",{parentName:"h3"},"alias <attributeName> <targetPath>")),(0,i.kt)("h4",{id:"syntax"},"Syntax"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"{exposed} alias <attributeName> <targetPath>\n")),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"attributeName")," must comply with ",(0,i.kt)("a",{parentName:"p",href:"../language/basics/lang-identifiers.md#object-properties"},"standard rules for property names"),". "),(0,i.kt)("p",null,(0,i.kt)("em",{parentName:"p"},"targetPath"),' is an attribute path containing one or more levels, such as "employee.company.name". If the target attribute belongs to the same dataclass, ',(0,i.kt)("em",{parentName:"p"},"targetPath")," is the attribute name. "),(0,i.kt)("p",null,"An alias can be used as a part of a path of another alias. "),(0,i.kt)("p",null,"A ",(0,i.kt)("a",{parentName:"p",href:"#computed-attributes"},"computed attribute"),' can be used in an alias path, but only as the last level of the path, otherwise, an error is returned. For example, if "fullName" is a computed attribute, an alias with path "employee.fullName" is valid. '),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"ORDA alias attributes are ",(0,i.kt)("strong",{parentName:"p"},"not exposed")," by default. You must add the ",(0,i.kt)("a",{parentName:"p",href:"#exposed-vs-non-exposed-functions"},(0,i.kt)("inlineCode",{parentName:"a"},"exposed"))," keyword before the ",(0,i.kt)("inlineCode",{parentName:"p"},"alias")," keyword if you want the alias to be available from the Web.")),(0,i.kt)("h3",{id:"using-alias-attributes"},"Using alias attributes"),(0,i.kt)("p",null,"Alias attributes are read-only (except when based upon a scalar attribute of the same dataclass, see the last example below). They can be used instead of their target attribute path in class functions such as:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"dataClass.query()"),", ",(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.query()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entity.toobject()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.toCollection()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.extract()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.orderBy()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.orderByFormula()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.average()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.count()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.distinct()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.sum()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.min()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entitySelection.max()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entity.diff()")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"entity.touchedAttributes()"))),(0,i.kt)("h3",{id:"alias-properties"},"Alias properties"),(0,i.kt)("p",null,"Alias attribute ",(0,i.kt)("a",{parentName:"p",href:"../language/DataClassClass.md#attributename"},(0,i.kt)("inlineCode",{parentName:"a"},"kind")),' is "alias".  '),(0,i.kt)("p",null,"An alias attribute inherits its data ",(0,i.kt)("a",{parentName:"p",href:"../language/DataClassClass.md#attributename"},(0,i.kt)("inlineCode",{parentName:"a"},"type"))," property from the target attribute: "),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"if the target attribute ",(0,i.kt)("a",{parentName:"li",href:"../language/DataClassClass.md#attributename"},(0,i.kt)("inlineCode",{parentName:"a"},"kind")),' is "storage", the alias data type is of the same type,'),(0,i.kt)("li",{parentName:"ul"},"if the target attribute ",(0,i.kt)("a",{parentName:"li",href:"../language/DataClassClass.md#attributename"},(0,i.kt)("inlineCode",{parentName:"a"},"kind")),' is "relatedEntity" or "relatedEntities", the alias data type is of the ',(0,i.kt)("inlineCode",{parentName:"li"},"4D.Entity")," or ",(0,i.kt)("inlineCode",{parentName:"li"},"4D.EntitySelection"),' type ("',(0,i.kt)("em",{parentName:"li"},"classname"),'Entity" or "',(0,i.kt)("em",{parentName:"li"},"classname"),'Selection"). ')),(0,i.kt)("p",null,"Alias attributes based upon relations have a specific ",(0,i.kt)("a",{parentName:"p",href:"../language/DataClassClass.md#attributename"},(0,i.kt)("inlineCode",{parentName:"a"},"path"))," property, containing the path of their target attributes. Alias attributes based upon attributes of the same dataclass have the same properties as their target attributes (and no ",(0,i.kt)("inlineCode",{parentName:"p"},"path")," property). "),(0,i.kt)("h3",{id:"examples"},"Examples"),(0,i.kt)("p",null,"Considering the following model:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"alias",src:a(6246).Z,width:"607",height:"140"})),(0,i.kt)("p",null,"In the Teacher dataclass, an alias attribute returns all students of a teacher:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},"// cs.TeacherEntity class\n\nextends Entity\n\nalias students courses.student //relatedEntities \n")),(0,i.kt)("p",null,"In the Student dataclass, an alias attribute returns all teachers of a student:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},"// cs.StudentEntity class\n\nextends Entity\n\nalias teachers courses.teacher //relatedEntities \n")),(0,i.kt)("p",null,"In the Course dataclass:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},'an alias attribute returns another label for the "name" attribute'),(0,i.kt)("li",{parentName:"ul"},"an alias attribute returns the teacher name"),(0,i.kt)("li",{parentName:"ul"},"an alias attribute returns the student name")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},"// cs.CourseEntity class\n\nextends Entity\n\nexposed alias courseName name //scalar \nexposed alias teacherName teacher.name //scalar value\nexposed alias studentName student.name //scalar value\n\n")),(0,i.kt)("p",null,"You can then execute the following queries:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},'// Find course named "Archaeology"\nds.Course.query("courseName == :1","Archaeology")\n\n// Find courses given by the professor Smith\nds.Course.query("teacherName == :1","Smith")\n\n// Find courses where Student "Martin" assists\nds.Course.query("studentName == :1","Martin")\n\n// Find students who have M. Smith as teacher \nds.Student.query("teachers.name == :1","Smith")\n\n// Find teachers who have M. Martin as student\nds.Teacher.query("students.name == :1","Martin")\n// Note that this very simple query string processes a complex \n// query including a double join, as you can see in the queryPlan:   \n// "Join on Table : Course  :  Teacher.ID = Course.teacherID,    \n//  subquery:[ Join on Table : Student  :  Course.studentID = Student.ID,\n//  subquery:[ Student.name === Martin]]"\n')),(0,i.kt)("p",null,"You can also edit the value of the ",(0,i.kt)("em",{parentName:"p"},"courseName")," alias:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},'// Rename a course using its alias attribute\narch=ds.Course.query("courseName == :1","Archaeology")\narch.courseName="Archaeology II"\narch.save() //courseName and name are "Archaeology II"\n')))}p.isMDXComponent=!0},6246:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/alias1-13c85b8cdbb3adbc0f1a1ea25d7db1df.png"}}]);