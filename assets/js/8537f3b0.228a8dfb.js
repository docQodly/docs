"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[4250],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},l=Object.keys(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},d=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},m="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},c=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,l=e.originalType,s=e.parentName,d=i(e,["components","mdxType","originalType","parentName"]),m=p(a),c=n,k=m["".concat(s,".").concat(c)]||m[c]||h[c]||l;return a?r.createElement(k,o(o({ref:t},d),{},{components:a})):r.createElement(k,o({ref:t},d))}));function k(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var l=a.length,o=new Array(l);o[0]=c;var i={};for(var s in t)hasOwnProperty.call(t,s)&&(i[s]=t[s]);i.originalType=e,i[m]="string"==typeof e?e:n,o[1]=i;for(var p=2;p<l;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}c.displayName="MDXCreateElement"},70770:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>l,metadata:()=>i,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const l={id:"debug",title:"Debug"},o=void 0,i={unversionedId:"language/debug",id:"language/debug",title:"Debug",description:"These commands allow you to control the execution of your code.",source:"@site/docs/language/debug.md",sourceDirName:"language",slug:"/language/debug",permalink:"/docs/language/debug",draft:!1,editUrl:"https://github.com/qodly/docs/edit/main/docs/language/debug.md",tags:[],version:"current",frontMatter:{id:"debug",title:"Debug"},sidebar:"Develop",previous:{title:"Date and Time",permalink:"/docs/language/dateandtime"},next:{title:"Email",permalink:"/docs/language/EmailObjectClass"}},s={},p=[{value:"Commands",id:"commands",level:3},{value:"abort",id:"abort",level:2},{value:"Description",id:"description",level:4},{value:"See also",id:"see-also",level:4},{value:"assert",id:"assert",level:2},{value:"Description",id:"description-1",level:4},{value:"Example 1",id:"example-1",level:4},{value:"Example 2",id:"example-2",level:4},{value:"See also",id:"see-also-1",level:4},{value:"asserted",id:"asserted",level:2},{value:"Description",id:"description-2",level:4},{value:"Example",id:"example",level:4},{value:"See also",id:"see-also-2",level:4},{value:"callChain",id:"callchain",level:2},{value:"Description",id:"description-3",level:4},{value:"Example",id:"example-3",level:4},{value:"currentMethodName",id:"currentmethodname",level:2},{value:"Description",id:"description-4",level:4},{value:"getAssertEnabled",id:"getassertenabled",level:2},{value:"Description",id:"description-5",level:4},{value:"See also",id:"see-also-3",level:4},{value:"lastErrors",id:"lasterrors",level:2},{value:"Description",id:"description-6",level:4},{value:"See also",id:"see-also-4",level:4},{value:"methodCalledOnError",id:"methodcalledonerror",level:2},{value:"Description",id:"description-7",level:4},{value:"Example",id:"example-4",level:4},{value:"See also",id:"see-also-5",level:4},{value:"onErrCall",id:"onerrcall",level:2},{value:"Description",id:"description-8",level:4},{value:"Example 1",id:"example-1-1",level:4},{value:"Example 2",id:"example-2-1",level:4},{value:"See also",id:"see-also-6",level:4},{value:"setAssertEnabled",id:"setassertenabled",level:2},{value:"Description",id:"description-9",level:4},{value:"Example",id:"example-5",level:4},{value:"See also",id:"see-also-7",level:4},{value:"throw",id:"throw",level:2},{value:"Description",id:"description-10",level:4},{value:"Examples",id:"examples",level:4},{value:"See also",id:"see-also-8",level:4},{value:"trace",id:"trace",level:2},{value:"Description",id:"description-11",level:4}],d={toc:p};function m(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,"These commands allow you to control the execution of your code. "),(0,n.kt)("h3",{id:"commands"},"Commands"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null}))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#abort"},(0,n.kt)("strong",{parentName:"a"},"abort")),"\xa0","\xa0","\xa0","\xa0","stops the execution of the error-handling method and returns")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#assert"},(0,n.kt)("strong",{parentName:"a"},"assert"),"( ",(0,n.kt)("em",{parentName:"a"},"boolExpression")," : boolean )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"assert"),"( ",(0,n.kt)("em",{parentName:"a"},"boolExpression")," : boolean, ",(0,n.kt)("em",{parentName:"a"},"msg")," : string )"),"\xa0","\xa0","\xa0","\xa0","evaluates the ",(0,n.kt)("em",{parentName:"td"},"boolExpression")," assertion passed in parameter and, if it returns ",(0,n.kt)("inlineCode",{parentName:"td"},"false"),", stops the code execution with an error message")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#asserted"},(0,n.kt)("strong",{parentName:"a"},"asserted"),"( ",(0,n.kt)("em",{parentName:"a"},"boolExpression")," : boolean ) : boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"asserted"),"( ",(0,n.kt)("em",{parentName:"a"},"boolExpression")," : boolean, ",(0,n.kt)("em",{parentName:"a"},"msg")," : string ) : boolean"),"\xa0","\xa0","\xa0","\xa0","returns the result of the evaluation of the ",(0,n.kt)("em",{parentName:"td"},"boolExpression")," parameter. If ",(0,n.kt)("em",{parentName:"td"},"boolExpression")," is ",(0,n.kt)("inlineCode",{parentName:"td"},"false")," and if assertions ",(0,n.kt)("a",{parentName:"td",href:"#setassertenabled"},"are enabled"),", the error -10518 is generated")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#callchain"},(0,n.kt)("strong",{parentName:"a"},"callChain")," : collection"),"\xa0","\xa0","\xa0","\xa0","returns a collection of objects describing each step of the method call chain within the current process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#currentmethodname"},(0,n.kt)("strong",{parentName:"a"},"currentMethodName")," : string"),"\xa0","\xa0","\xa0","\xa0","returns the method name where it has been invoked")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#getassertenabled"},(0,n.kt)("strong",{parentName:"a"},"getAssertEnabled")," : boolean"),"\xa0","\xa0","\xa0","\xa0","returns ",(0,n.kt)("inlineCode",{parentName:"td"},"true")," or ",(0,n.kt)("inlineCode",{parentName:"td"},"false")," according to whether or not assertions are enabled in the current process")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#lasterrors"},(0,n.kt)("strong",{parentName:"a"},"lastErrors")," : collection"),"\xa0","\xa0","\xa0","\xa0","returns the current stack of errors of the Qodly application as a collection of error objects, or ",(0,n.kt)("inlineCode",{parentName:"td"},"null")," if no error occurred")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#methodCalledOnError"},(0,n.kt)("strong",{parentName:"a"},"methodCalledOnError"),"( { ",(0,n.kt)("em",{parentName:"a"},"scope")," : integer } ) : string"),"\xa0","\xa0","\xa0","\xa0","returns the name of the method installed by ",(0,n.kt)("a",{parentName:"td",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," for the current process or the defined ",(0,n.kt)("em",{parentName:"td"},"scope"))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#onerrcall"},(0,n.kt)("strong",{parentName:"a"},"onErrCall"),"( ",(0,n.kt)("em",{parentName:"a"},"errorMethod")," : string )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"onErrCall"),"( ",(0,n.kt)("em",{parentName:"a"},"errorMethod")," : string , ",(0,n.kt)("em",{parentName:"a"},"scope")," : integer )"),"\xa0","\xa0","\xa0","\xa0","installs the project method, whose name you pass in ",(0,n.kt)("em",{parentName:"td"},"errorMethod"),", as the method for catching (trapping) errors for the defined execution context in the current project")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#setassertenabled"},(0,n.kt)("strong",{parentName:"a"},"setAssertEnabled"),"(assertions : boolean { , /* } )"),"\xa0","\xa0","\xa0","\xa0","can be used to disable or re-enable any assertions inserted into the Qodly code of the application")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#throw"},(0,n.kt)("strong",{parentName:"a"},"throw"),"( ",(0,n.kt)("em",{parentName:"a"},"errorCode")," : integer {, ",(0,n.kt)("em",{parentName:"a"},"description")," : string } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"throw"),"( ",(0,n.kt)("em",{parentName:"a"},"errorObj")," : object )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"a"},"throw"),"()"),"\xa0","\xa0","\xa0","\xa0","creates an error that will be thrown immediately or when the calling code returns to its caller (deferred mode)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"#trace"},(0,n.kt)("strong",{parentName:"a"},"trace")," "),"\xa0","\xa0","\xa0","\xa0","to debug your code during the development of an application")))),(0,n.kt)("h2",{id:"abort"},"abort"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"abort")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:null},"Does not require any parameters")))),(0,n.kt)("h4",{id:"description"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"abort")," command stops the execution of the error-handling method and returns. This command must be used from within an error-handling project method installed using ",(0,n.kt)("inlineCode",{parentName:"p"},"onErrCall"),"."),(0,n.kt)("p",null,"When you use an error-handling project method to catch errors, Qodly neither displays its standard error dialog box nor interrupts the execution of your code. Instead, Qodly calls your error-handling method (that you can see as an exception handler), and resumes the execution to the next line of code in the method that triggered the error."),(0,n.kt)("p",null,"There are errors you can treat programmatically; for example, during an import operation, if you catch a database engine duplicated value error, you can \u201ccover\u201d the error and pursue the import. However, there are errors that you cannot process and errors that you should not \u201ccover.\u201d In these cases, you need to stop the execution by calling ",(0,n.kt)("inlineCode",{parentName:"p"},"abort")," from within the error-handling project method."),(0,n.kt)("h4",{id:"see-also"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))),(0,n.kt)("h2",{id:"assert"},"assert"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"assert"),"( ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," : boolean )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"assert"),"( ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," : boolean, ",(0,n.kt)("em",{parentName:"p"},"msg")," : string )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"boolExpression"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Boolean expression")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"msg"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Text of error message")))),(0,n.kt)("h4",{id:"description-1"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"assert")," command evaluates the ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," assertion passed in parameter and, if it returns ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),", stops the code execution with an error message."),(0,n.kt)("p",null,"If ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," is ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),", nothing happens. If it is ",(0,n.kt)("inlineCode",{parentName:"p"},"false"),', the command triggers the error -10518 and displays by default the text of the assertion preceded by the message "Assert failed:". You can intercept this error via a method installed using the ',(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," command, in order, for example, to provide info for a log file."),(0,n.kt)("p",null,"Optionally, you can pass a ",(0,n.kt)("em",{parentName:"p"},"msg")," parameter to display a custom error message instead of the text of the assertion. "),(0,n.kt)("p",null,"It is possible to globally enable or disable all the assertions of the application (for example according to the type of version) via the ",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"setAssertEnabled"))," command. "),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"An assertion is an instruction inserted in the code that is responsible for detecting any anomalies during its execution. The principle consists in verifying that an expression is true at a given moment and, should the opposite occur, to cause an exception. Assertions are above all used to detect cases that should usually not ever occur. They are mainly used to detect programming bugs. For more information about assertions in programming, please refer to the ",(0,n.kt)("a",{parentName:"p",href:"http://en.wikipedia.org/wiki/Assertion_(computing)"},"article concerning them on Wikipedia"))),(0,n.kt)("h4",{id:"example-1"},"Example 1"),(0,n.kt)("p",null,"Before carrying out operations on an entity, the developer wants to make sure that it is actually loaded in read/write mode:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"}," var employee : cs.EmployeeEntity\n var status : Object\n employee = ds.Employee.get(717)\n status = employee.lock() \n assert(not(status.success))\n  // triggers error -10518 if entity cannot be locked\n")),(0,n.kt)("h4",{id:"example-2"},"Example 2"),(0,n.kt)("p",null,"An assertion can allow parameters passed to a project method to be tested in order to detect aberrant values. In this example, a custom warning message is used."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'  // Method that returns the number of a client according to its name passed in parameter\n declare (vName : string) // Name of client\n assert(vName != "","Search for a blank client name")\n  // A blank name in this case is an aberrant value\n  // If the assertion is false, the following error is thrown:\n  // "Assert failed: Search for a blank client name"\n')),(0,n.kt)("h4",{id:"see-also-1"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#asserted"},(0,n.kt)("inlineCode",{parentName:"a"},"asserted")),(0,n.kt)("br",null),(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},".onErrCall()")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"setAssertEnabled"))),(0,n.kt)("h2",{id:"asserted"},"asserted"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"asserted"),"( ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," : boolean ) : boolean",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"asserted"),"( ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," : boolean, ",(0,n.kt)("em",{parentName:"p"},"msg")," : string ) : boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"boolExpression"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Boolean expression")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"msg"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Text of error message")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"result"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Result of evaluation of boolExpression")))),(0,n.kt)("h4",{id:"description-2"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"asserted")," command returns the result of the evaluation of the ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," parameter. If ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," is ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," and if assertions ",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},"are enabled"),", the error -10518 is generated, exactly as for the ",(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert"))," command. If the assertions are disabled, ",(0,n.kt)("inlineCode",{parentName:"p"},"asserted")," returns the result of the expression that was passed without triggering an error."),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"asserted")," has an operation similar to that of the ",(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert"))," command, with one difference in that it returns a value which is the result of the evaluation of the ",(0,n.kt)("em",{parentName:"p"},"boolExpression")," parameter. It therefore allows the use of an assertion during the evaluation of a condition (see the example). For more information about the operation of assertions and the parameters of this command, please refer to the description of the ",(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert"))," command."),(0,n.kt)("h4",{id:"example"},"Example"),(0,n.kt)("p",null,"Insertion of an assertion in the evaluation of an expression:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"}," var employee : cs.EmployeeEntity\n var status : Object\n employee = ds.Employee.get(717)\n status = employee.lock() \n if(asserted(not(status.success)))\n  // triggers error -10518 if entity cannot be locked\n end\n")),(0,n.kt)("h4",{id:"see-also-2"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert")),(0,n.kt)("br",null),(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},".onErrCall()")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"setAssertEnabled"))),(0,n.kt)("h2",{id:"callchain"},"callChain"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"callChain")," : collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"collection"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Collection of objects describing the call chain within a process")))),(0,n.kt)("h4",{id:"description-3"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"callChain")," command returns a collection of objects describing each step of the method call chain within the current process. "),(0,n.kt)("p",null,"It provides the same information as the ",(0,n.kt)("em",{parentName:"p"},"debugger"),". It has the added benefit of being able to be executed from any environment."),(0,n.kt)("p",null,"The command facilitates debugging by enabling the identification of the method called, the component that called it, and the line number where the call was made. Each object in the returned collection contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Property"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"),(0,n.kt)("th",{parentName:"tr",align:null},"Example"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"database"),(0,n.kt)("td",{parentName:"tr",align:null},"text"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of the database calling the method"),(0,n.kt)("td",{parentName:"tr",align:null},'"database":"contactInfo"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"line"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:null},"Line number of call to the method"),(0,n.kt)("td",{parentName:"tr",align:null},'"line":6')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"name"),(0,n.kt)("td",{parentName:"tr",align:null},"text"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of the called method"),(0,n.kt)("td",{parentName:"tr",align:null},'"name":"moreThanAverage"')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"type"),(0,n.kt)("td",{parentName:"tr",align:null},"text"),(0,n.kt)("td",{parentName:"tr",align:null},"Type of the method:",(0,n.kt)("li",null,'"projectMethod" (method)'),(0,n.kt)("li",null,'"executeFormula"'),(0,n.kt)("li",null,'"classFunction"')),(0,n.kt)("td",{parentName:"tr",align:null},'"type":"classFunction"')))),(0,n.kt)("h4",{id:"example-3"},"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"\nvar currentCallChain : collection\ncurrentCallChain = callChain()\n\n")),(0,n.kt)("h2",{id:"currentmethodname"},"currentMethodName"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"currentMethodName")," : string"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"Result"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Calling method name")))),(0,n.kt)("h4",{id:"description-4"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"currentMethodName")," command returns the method name where it has been invoked. This command is useful for debugging generic methods."),(0,n.kt)("p",null,"According to the calling method type, the returned string can be as follows:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Calling Method"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Returned string"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Project Method"),(0,n.kt)("td",{parentName:"tr",align:"left"},"MethodName")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Table Form Method"),(0,n.kt)("td",{parentName:"tr",align:"left"},"[TableName]",".FormName")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Class Constructor"),(0,n.kt)("td",{parentName:"tr",align:"left"},"ClassName:constructor")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},"Class Function"),(0,n.kt)("td",{parentName:"tr",align:"left"},"ClassName.FunctionName")))),(0,n.kt)("p",null,"This command cannot be called from within a Qodly formula."),(0,n.kt)("h2",{id:"getassertenabled"},"getAssertEnabled"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"getAssertEnabled")," : boolean"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"result"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"true = assertions are enabled, false = assertions are disabled")))),(0,n.kt)("h4",{id:"description-5"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"getAssertEnabled")," command returns ",(0,n.kt)("inlineCode",{parentName:"p"},"true")," or ",(0,n.kt)("inlineCode",{parentName:"p"},"false")," according to whether or not assertions are enabled in the current process."),(0,n.kt)("p",null,"For more information about assertions, please refer to the description of the ",(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert"))," command. "),(0,n.kt)("p",null,"By default, assertions are enabled but they may have been disabled using the ",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"setAssertEnabled"))," command."),(0,n.kt)("h4",{id:"see-also-3"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},".assert")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#setassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"setAssertEnabled"))),(0,n.kt)("h2",{id:"lasterrors"},"lastErrors"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"lastErrors")," : collection"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"result"),(0,n.kt)("td",{parentName:"tr",align:null},"collection"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Collection of error objects")))),(0,n.kt)("h4",{id:"description-6"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"lastErrors")," command returns the current stack of errors of the Qodly application as a collection of error objects, or ",(0,n.kt)("inlineCode",{parentName:"p"},"null")," if no error occurred."),(0,n.kt)("p",null,"Each error object contains the following properties:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Property"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"errCode"),(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:null},"Error code")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"message"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Description of the error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"componentSignature"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Signature of the internal component which returned the error")))),(0,n.kt)("p",null,"This command must be called from an error-handling method installed by the ",(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," command."),(0,n.kt)("h4",{id:"see-also-4"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))),(0,n.kt)("h2",{id:"methodcalledonerror"},"methodCalledOnError"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"methodCalledOnError"),"( { ",(0,n.kt)("em",{parentName:"p"},"scope")," : integer } ) : string"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"scope"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Scope of the error method")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"result"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,n.kt)("td",{parentName:"tr",align:null},"Name of method called on error")))),(0,n.kt)("h4",{id:"description-7"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"methodCalledOnError")," command returns the name of the method installed by ",(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," for the current process or the defined ",(0,n.kt)("em",{parentName:"p"},"scope"),"."),(0,n.kt)("p",null,"In the ",(0,n.kt)("em",{parentName:"p"},"scope")," parameter, pass the execution context for which you want to get the name of the error handler method. You can use one of the following constants:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Constant"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek errors from components"),(0,n.kt)("td",{parentName:"tr",align:null},"2"),(0,n.kt)("td",{parentName:"tr",align:null},"Errors that occurred in components")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek global"),(0,n.kt)("td",{parentName:"tr",align:null},"1"),(0,n.kt)("td",{parentName:"tr",align:null},"Errors that occurred in the global execution context of the project")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek local"),(0,n.kt)("td",{parentName:"tr",align:null},"0"),(0,n.kt)("td",{parentName:"tr",align:null},"Errors that occurred in the local execution context (default if ",(0,n.kt)("em",{parentName:"td"},"scope")," parameter is omitted)")))),(0,n.kt)("p",null,"If no method has been installed for the ",(0,n.kt)("em",{parentName:"p"},"scope"),', an empty string ("") is returned.'),(0,n.kt)("h4",{id:"example-4"},"Example"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},' var methCurrent, refs : string\n methCurrent = methodCalledOnError\n onErrCall("NewMethod")\n  //If the file cannot be opened, an error is generated\n refs = jsonParse(file("/PACKAGE/Project/Sources/Shared/assets/files/i18n.json").getText())\n  //Reinstallation of previous method\n onErrCall(methCurrent)\n')),(0,n.kt)("h4",{id:"see-also-5"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},".onErrCall()"))),(0,n.kt)("h2",{id:"onerrcall"},"onErrCall"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"onErrCall"),"( ",(0,n.kt)("em",{parentName:"p"},"errorMethod")," : string )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"onErrCall"),"( ",(0,n.kt)("em",{parentName:"p"},"errorMethod")," : string , ",(0,n.kt)("em",{parentName:"p"},"scope")," : integer )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"errorMethod"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Parameters used to build the error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"scope"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Scope for the error method")))),(0,n.kt)("h4",{id:"description-8"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"onErrCall")," command installs the project method, whose name you pass in ",(0,n.kt)("em",{parentName:"p"},"errorMethod"),", as the method for catching (trapping) errors for the defined execution context in the current project. This method is called the ",(0,n.kt)("a",{parentName:"p",href:"/docs/language/basics/lang-errors#installing-an-error-handling-method"},(0,n.kt)("strong",{parentName:"a"},"error-handling method")),". "),(0,n.kt)("p",null,"The ",(0,n.kt)("em",{parentName:"p"},"scope")," of the command designates the execution context from where an error will trigger the call of the ",(0,n.kt)("em",{parentName:"p"},"errorMethod"),". By default, if the ",(0,n.kt)("em",{parentName:"p"},"scope")," parameter is omitted, the scope of the command is the local execution context, i.e. the current process. You can pass one of the following constants in the ",(0,n.kt)("em",{parentName:"p"},"scope")," parameter:"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Constant"),(0,n.kt)("th",{parentName:"tr",align:null},"Value"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek errors from components"),(0,n.kt)("td",{parentName:"tr",align:null},"2"),(0,n.kt)("td",{parentName:"tr",align:null},"Only errors generated from the components installed in the application will call ",(0,n.kt)("em",{parentName:"td"},"errorMethod"),". Note that, if an error-handling method is defined in a component, it is called in case of error in the component, and the ",(0,n.kt)("inlineCode",{parentName:"td"},"ek errors from components")," error handler set in the host application is not called.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek global"),(0,n.kt)("td",{parentName:"tr",align:null},"1"),(0,n.kt)("td",{parentName:"tr",align:null},"All errors that occurred in the application, whatever the process (except components), will call ",(0,n.kt)("em",{parentName:"td"},"errorMethod"),". Note that, if a ",(0,n.kt)("inlineCode",{parentName:"td"},"ek local error handler")," is also defined for a process, the ",(0,n.kt)("inlineCode",{parentName:"td"},"ek global error handler")," is not called. This principle allows you to define a generic error-handling method that will catch all errors, while local error-handling methods can be set for some specific processes.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"ek local"),(0,n.kt)("td",{parentName:"tr",align:null},"0"),(0,n.kt)("td",{parentName:"tr",align:null},"(default if ",(0,n.kt)("em",{parentName:"td"},"scope")," parameter is omitted) Only errors that occurred in the current process will call ",(0,n.kt)("em",{parentName:"td"},"errorMethod"),". You can have one error-handling method per process at a time, but you can have different error-handling methods for several processes.")))),(0,n.kt)("p",null,"To stop the trapping of errors, call ",(0,n.kt)("inlineCode",{parentName:"p"},"onErrCall")," again with the desired ",(0,n.kt)("em",{parentName:"p"},"scope")," parameter (if any) and pass an empty string in ",(0,n.kt)("em",{parentName:"p"},"errorMethod"),". "),(0,n.kt)("p",null,"You can use the ",(0,n.kt)("a",{parentName:"p",href:"#lasterrors"},(0,n.kt)("inlineCode",{parentName:"a"},"lastErrors"))," and ",(0,n.kt)("a",{parentName:"p",href:"#callchain"},(0,n.kt)("inlineCode",{parentName:"a"},"callChain")),' commands to obtain the error sequence (i.e., the error "stack") at the origin of the interruption (see also ',(0,n.kt)("a",{parentName:"p",href:"/docs/language/basics/lang-errors#handling-errors-within-the-method"},"Handling errors within the method"),")."),(0,n.kt)("p",null,"The error-handling method should manage the error in an appropriate way or present an error message to the user. Errors can be generated by the Qodly database engine (e.g. saving an entity causes the violation of a rule), the Qodly environment (e.g. have enough memory for loading a blob)..."),(0,n.kt)("p",null,"The ",(0,n.kt)("a",{parentName:"p",href:"#abort"},(0,n.kt)("inlineCode",{parentName:"a"},"abort"))," command can be used to terminate processing. If you don't call ",(0,n.kt)("inlineCode",{parentName:"p"},"abort")," in the error-handling method, Qodly returns to the interrupted method and continues to execute the method. Use the ",(0,n.kt)("inlineCode",{parentName:"p"},"abort")," command when an error cannot be recovered."),(0,n.kt)("p",null,"If an error occurs in the error-handling method itself, Qodly takes over error handling. Therefore, you should make sure that the error-handling method cannot generate an error. Also, you cannot use ",(0,n.kt)("inlineCode",{parentName:"p"},"onErrCall")," inside the error-handling method."),(0,n.kt)("h4",{id:"example-1-1"},"Example 1"),(0,n.kt)("p",null,"You want to install a global error handler:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'\nonErrCall("myGlobalErrorHandler",ek global)\n\n')),(0,n.kt)("h4",{id:"example-2-1"},"Example 2"),(0,n.kt)("p",null,"Here is a simple error-handling system:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'\n// installing the error handling method\n onErrCall("errorMethod")\n //... executing code\n onErrCall("") //giving control back to Qodly\n\n')),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'// errorMethod project method  \nvar errNum : integer\nvar message : string\nerrNum = lastErrors[0].errCode\nif(errNum  !=  1006) //this is not a user interruption\n   message = "Error "+string(errNum)+" occurred ("+lastErrors[0].message+").")\nend\n')),(0,n.kt)("h4",{id:"see-also-6"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/docs/language/WebFormClass#seterror"},(0,n.kt)("inlineCode",{parentName:"a"},".setError()"))),(0,n.kt)("h2",{id:"setassertenabled"},"setAssertEnabled"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"setAssertEnabled"),"(assertions : boolean { , /* } )"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"assertions"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"true = enable assertions, false = disable assertions")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"*"),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"If omitted = command applies to all the processes (existing or created subsequently), if passed = command applies to current process only")))),(0,n.kt)("h4",{id:"description-9"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"setAssertEnabled")," command can be used to disable or re-enable any assertions inserted into the Qodly code of the application."),(0,n.kt)("p",null,"For more information about assertions, please refer to the description of the ",(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},"assert"))," command. "),(0,n.kt)("p",null,"By default, assertions added in the program are enabled. This command is useful when you want to disable them since their evaluation can sometimes be costly in terms of execution time and you may also want them to be hidden from the final user of the application. Typically, the ",(0,n.kt)("inlineCode",{parentName:"p"},"setAssertEnabled"),' command could be used in the in order to enable or disable assertions according to whether the application is in "Test" mode or in "Production" mode. '),(0,n.kt)("p",null,"By default, the ",(0,n.kt)("inlineCode",{parentName:"p"},"setAssertEnabled")," command affects all the processes of the application. To restrict the effect of the command to the current process only, you can pass the ",(0,n.kt)("inlineCode",{parentName:"p"},"*")," parameter."),(0,n.kt)("p",null,"Please note that when assertions are disabled, expressions passed to ",(0,n.kt)("inlineCode",{parentName:"p"},"assert")," commands are no longer evaluated. The lines of code that call this command no longer have any effect on the operation of the application, neither in terms of behavior, nor in terms of performance."),(0,n.kt)("h4",{id:"example-5"},"Example"),(0,n.kt)("p",null,"Disabling assertions:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"}," setAssertEnabled(false)\n assert(TestMethod) // TestMethod will not be called since assertions are disabled\n")),(0,n.kt)("h4",{id:"see-also-7"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"#assert"},(0,n.kt)("inlineCode",{parentName:"a"},".assert")),(0,n.kt)("br",null),"\n",(0,n.kt)("a",{parentName:"p",href:"#getassertenabled"},(0,n.kt)("inlineCode",{parentName:"a"},"getAssertEnabled"))),(0,n.kt)("h2",{id:"throw"},"throw"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"throw"),"( ",(0,n.kt)("em",{parentName:"p"},"errorCode")," : integer {, ",(0,n.kt)("em",{parentName:"p"},"description")," : string } )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"throw"),"( ",(0,n.kt)("em",{parentName:"p"},"errorObj")," : object )",(0,n.kt)("br",null),(0,n.kt)("strong",{parentName:"p"},"throw"),"()"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"errorCode"),(0,n.kt)("td",{parentName:"tr",align:null},"integer"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Error code")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"description"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Description of the error")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"errorObj"),(0,n.kt)("td",{parentName:"tr",align:null},"object"),(0,n.kt)("td",{parentName:"tr",align:"center"},"->"),(0,n.kt)("td",{parentName:"tr",align:null},"Object containing properties to build the error")))),(0,n.kt)("h4",{id:"description-10"},"Description"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"throw")," command creates an error that will be thrown immediately or when the calling code returns to its caller (deferred mode)."),(0,n.kt)("p",null,"When you encounter a situation in your code where an error condition arises, you can use the ",(0,n.kt)("inlineCode",{parentName:"p"},"throw")," command to explicitly throw an error and provide a specific error message or error number. This can be useful for signaling exceptional conditions or invalid inputs."),(0,n.kt)("p",null,"Errors thrown using the ",(0,n.kt)("inlineCode",{parentName:"p"},"throw")," command are managed by the Qodly runtime as any normal error: the standard error dialog is displayed unless an interception method has been installed using the ",(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," command."),(0,n.kt)("p",null,"The command supports three syntaxes:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"throw(errorCode{, description})\n")),(0,n.kt)("p",null,"It specifies the error code and an optional description text, the error is thrown immediately. If no ",(0,n.kt)("em",{parentName:"p"},"description")," is provided, it is filled with:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Error code errorCode: (host) in the host application")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"Error code errorCode: (C00x) in a component"))),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"throw(errorObj)\n")),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"errorObj"),' object allows for more detailed error information and control over error handling. It can contain the following properties, as well as any custom property that you can refer to using placeholders within the "message" property:'),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Property"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"componentSignature"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Four latin letters signature to uniquely identify the source of the error. If the ",(0,n.kt)("em",{parentName:"td"},"componentSignature"),' is not provided, the command uses "host" for the host database, and "C001", "C002"... for the components.')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"errCode"),(0,n.kt)("td",{parentName:"tr",align:null},"number"),(0,n.kt)("td",{parentName:"tr",align:null},"Error code. If the ",(0,n.kt)("em",{parentName:"td"},"errCode")," is not provided, the command uses -1.")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"message"),(0,n.kt)("td",{parentName:"tr",align:null},"string"),(0,n.kt)("td",{parentName:"tr",align:null},"Description of the error. The ",(0,n.kt)("em",{parentName:"td"},"message")," may contain placeholders that will be replaced by custom properties added to the ",(0,n.kt)("em",{parentName:"td"},"errorObj")," object. Each placeholder must be specified using braces ",(0,n.kt)("inlineCode",{parentName:"td"},"{}")," enclosing the name of the property to be used. If the ",(0,n.kt)("em",{parentName:"td"},"message")," is not provided or is an empty string, the command will look for a description in the current application xliff files with a resname built as follows: ERR",(0,n.kt)("em",{parentName:"td"},"{componentSignature}"),'{errCode}".')),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"deferred"),(0,n.kt)("td",{parentName:"tr",align:null},"boolean"),(0,n.kt)("td",{parentName:"tr",align:null},"True if the error should be deferred when the current method returns. Default value is false.")))),(0,n.kt)("p",null,"When you use this syntax, the ",(0,n.kt)("em",{parentName:"p"},"errorObj")," object is returned in ",(0,n.kt)("a",{parentName:"p",href:"#lasterrors"},(0,n.kt)("inlineCode",{parentName:"a"},"lastErrors")),"."),(0,n.kt)("admonition",{type:"note"},(0,n.kt)("p",{parentName:"admonition"},"It is possible to call the command several times in the same project method to generate several errors. You can use the deferred option to send all errors at once.")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},"throw()\n")),(0,n.kt)("p",null,"It throws all current errors in ",(0,n.kt)("strong",{parentName:"p"},"deferred mode"),", meaning they will be added to a stack and handled when the calling method returns. This is typically done from within an ",(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," callback. When an error occurs, it is added to the error stack and the ",(0,n.kt)("a",{parentName:"p",href:"#onerrcall"},(0,n.kt)("inlineCode",{parentName:"a"},"onErrCall"))," method is called at the end of the current method. The ",(0,n.kt)("a",{parentName:"p",href:"#lasterrors"},(0,n.kt)("inlineCode",{parentName:"a"},"lastErrors"))," function returns the stack of errors."),(0,n.kt)("h4",{id:"examples"},"Examples"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'var code : integer\nvar description : string\ncode = 50042 //Custom code\ndescription = "This is a custom error"\nthrow(code,description) //Throws an error with message "This is a custom error" and errCode = 50042\n')),(0,n.kt)("p",null,"Other possibilities:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-qs"},'throw({errCode: 1, message: "This an error"}) //Throws an error with errCode = 1 and message "This an error"\nthrow({errCode: 1}) //Throws an error with errCode = 1 and message "Error code: 1 (host)"\nthrow({message: "This an error"}) //Throws an error with errCode = -1 and message "This is my error"\nthrow({message: "This is my error", deferred: true}) //Throws an error with message "This is my error" and errCode = -1 in deferred mode\n')),(0,n.kt)("h4",{id:"see-also-8"},"See also"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/docs/language/WebFormClass#seterror"},(0,n.kt)("inlineCode",{parentName:"a"},".setError()"))),(0,n.kt)("h2",{id:"trace"},"trace"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"trace")," "),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,n.kt)("th",{parentName:"tr",align:null},"Type"),(0,n.kt)("th",{parentName:"tr",align:"center"}),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:null}),(0,n.kt)("td",{parentName:"tr",align:"center"}),(0,n.kt)("td",{parentName:"tr",align:null})))),(0,n.kt)("h4",{id:"description-11"},"Description"),(0,n.kt)("p",null,"You use ",(0,n.kt)("inlineCode",{parentName:"p"},"trace")," to debug your code during the development of an application. "),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"trace")," command turns on the Qodly debugger for the current process. The Debugger is displayed before the next line of code is executed, and continues to be displayed for each line of code that is executed. "),(0,n.kt)("p",null,"A valid ",(0,n.kt)("a",{parentName:"p",href:"/docs/studio/debugging#starting-a-debug-session"},"debug session")," must be launched for a ",(0,n.kt)("inlineCode",{parentName:"p"},"trace")," call to open the debugger. Otherwise, the ",(0,n.kt)("inlineCode",{parentName:"p"},"trace")," command is ignored."))}m.isMDXComponent=!0}}]);