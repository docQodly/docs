"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[4613],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>y});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},m="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=p(n),c=i,y=m["".concat(s,".").concat(c)]||m[c]||u[c]||r;return n?a.createElement(y,o(o({ref:t},d),{},{components:n})):a.createElement(y,o({ref:t},d))}));function y(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=c;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[m]="string"==typeof e?e:i,o[1]=l;for(var p=2;p<r;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},52203:(e,t,n)=>{n.d(t,{ZP:()=>r});var a=n(67294),i=n(86010);const r={List:function(e){let{children:t,align:n="start",justifyContent:r="start"}=e;return a.createElement("div",{className:(0,i.Z)("flex flex-col lg:flex-row flex-wrap",{"items-start":"start"===n,"items-center":"center"===n,"items-end":"end"===n},{"justify-start":"start"===r,"justify-center":"center"===r,"justify-end":"end"===r,"justify-between":"between"===r,"justify-around":"around"===r,"justify-evenly":"evenly"===r})},t)},Item:function(e){let{children:t,width:n}=e;const r=(e=>{const t="undefined"!=typeof window&&window.matchMedia(e),[n,i]=(0,a.useState)(t.matches);return(0,a.useEffect)((()=>(t.onchange=e=>i(e.matches),()=>t.onchange=null))),n})("(max-width: 1024px)");return a.createElement("div",{className:(0,i.Z)({"flex-1":!n}),style:r?{}:{width:n}},t)}}},2852:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>o,default:()=>m,frontMatter:()=>r,metadata:()=>l,toc:()=>p});var a=n(87462),i=(n(67294),n(3905));n(52203);const r={id:"dataclassManipulation",title:"Data Manipulation"},o=void 0,l={unversionedId:"api/dataclassManipulation",id:"api/dataclassManipulation",title:"Data Manipulation",description:"Data Querying",source:"@site/docs/api/dataManipulation.md",sourceDirName:"api",slug:"/api/dataclassManipulation",permalink:"/docs/api/dataclassManipulation",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/api/dataManipulation.md",tags:[],version:"current",frontMatter:{id:"dataclassManipulation",title:"Data Manipulation"},sidebar:"API",previous:{title:"Endpoints and Data Access",permalink:"/docs/api/dataclassEndpoints"},next:{title:"$asArray",permalink:"/docs/api/$asArray"}},s={},p=[{value:"Data Querying",id:"data-querying",level:2},{value:"Simple Queries",id:"simple-queries",level:3},{value:"Sorting Data",id:"sorting-data",level:3},{value:"Pagination in Data Queries",id:"pagination-in-data-queries",level:3},{value:"Entity Manipulation",id:"entity-manipulation",level:2},{value:"Creating and Updating Entities",id:"creating-and-updating-entities",level:3},{value:"Deleting Entities",id:"deleting-entities",level:3},{value:"Managing Entity Sets",id:"managing-entity-sets",level:2},{value:"Entity Set Creation",id:"entity-set-creation",level:3},{value:"Accessing an Entity Set",id:"accessing-an-entity-set",level:3},{value:"Modifying and Maintaining Entity Sets",id:"modifying-and-maintaining-entity-sets",level:3},{value:"Entity Set Expiry and Renewal",id:"entity-set-expiry-and-renewal",level:3},{value:"Deleting Entity Sets",id:"deleting-entity-sets",level:3},{value:"Combining Entity Sets",id:"combining-entity-sets",level:3},{value:"Data Aggregation",id:"data-aggregation",level:2},{value:"Image and BLOB Handling",id:"image-and-blob-handling",level:2},{value:"Viewing Images",id:"viewing-images",level:3},{value:"Storing BLOBs",id:"storing-blobs",level:3}],d={toc:p};function m(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"data-querying"},"Data Querying"),(0,i.kt)("h3",{id:"simple-queries"},"Simple Queries"),(0,i.kt)("p",null,"Queries can be executed using the ",(0,i.kt)("a",{parentName:"p",href:"./$filter"},(0,i.kt)("inlineCode",{parentName:"a"},"$filter"))," query parameter to specify conditions. For example, to retrieve persons by last name:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET {{ApiEndpoint}}/rest/Person/?$filter="lastName=Smith"\n')),(0,i.kt)("h3",{id:"sorting-data"},"Sorting Data"),(0,i.kt)("p",null,"Data can be ordered using the ",(0,i.kt)("a",{parentName:"p",href:"./$orderby"},(0,i.kt)("inlineCode",{parentName:"a"},"$orderby"))," parameter, which allows sorting by one or multiple attributes, and can also handle attributes of related entities:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET {{ApiEndpoint}}/rest/Employee/?$orderby="lastName asc, department.name desc"\n')),(0,i.kt)("h3",{id:"pagination-in-data-queries"},"Pagination in Data Queries"),(0,i.kt)("p",null,"Pagination is managed through ",(0,i.kt)("a",{parentName:"p",href:"./$skip"},(0,i.kt)("inlineCode",{parentName:"a"},"$skip"))," and ",(0,i.kt)("a",{parentName:"p",href:"./$top$limit"},(0,i.kt)("inlineCode",{parentName:"a"},"$top")," (or $limit)")," parameters to control the starting point and the number of records returned:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/?$top=10&$skip=20\n")),(0,i.kt)("h2",{id:"entity-manipulation"},"Entity Manipulation"),(0,i.kt)("h3",{id:"creating-and-updating-entities"},"Creating and Updating Entities"),(0,i.kt)("p",null,"Entities can be added or modified using the POST or PUT methods with ",(0,i.kt)("a",{parentName:"p",href:"./$method#methodupdate"},(0,i.kt)("inlineCode",{parentName:"a"},"$method=update")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"POST {{ApiEndpoint}}/rest/Employee?$method=update\n")),(0,i.kt)("h3",{id:"deleting-entities"},"Deleting Entities"),(0,i.kt)("p",null,"Entities can be removed by using the ",(0,i.kt)("inlineCode",{parentName:"p"},"DELETE")," method:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"DELETE {{ApiEndpoint}}/rest/Employee[123]\n")),(0,i.kt)("p",null,"Or the ",(0,i.kt)("a",{parentName:"p",href:"./$method#methoddelete"},(0,i.kt)("inlineCode",{parentName:"a"},"$method=delete"))," in a GET request:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee[123]?$method=delete\n")),(0,i.kt)("h2",{id:"managing-entity-sets"},"Managing Entity Sets"),(0,i.kt)("p",null,"Entity sets or selections are collections of entities accessed through REST and cached in the server. This approach enhances performance by avoiding repeated queries for the same data. "),(0,i.kt)("h3",{id:"entity-set-creation"},"Entity Set Creation"),(0,i.kt)("p",null,"Entity sets, which are cached selections of entities, are created with the ",(0,i.kt)("a",{parentName:"p",href:"./$method#methodentityset"},(0,i.kt)("inlineCode",{parentName:"a"},"$method=entityset"))," for enhanced performance and reduced data re-fetching:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee?$method=entityset\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"A new selection of entities is returned; however, you can also create a new entity set by calling ",(0,i.kt)("a",{parentName:"p",href:"./$method#methodentityset"},"$method=entityset")," at the end of the REST request.")),(0,i.kt)("h3",{id:"accessing-an-entity-set"},"Accessing an Entity Set"),(0,i.kt)("p",null,"To retrieve a stored entity set:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/$entityset/{{entitySetID}}\n")),(0,i.kt)("h3",{id:"modifying-and-maintaining-entity-sets"},"Modifying and Maintaining Entity Sets"),(0,i.kt)("p",null,"Modifications to entity attributes within a set are dynamically updated. If the modified attribute affects the original query result, the entity remains in the set unless removed or the query is rerun:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"PATCH {{ApiEndpoint}}/rest/Employee/$entityset/{{entitySetID}}[123]\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"Updating attributes within an entity set affects only the stored data and does not alter the original query criteria. An entity will remain part of the set unless it is explicitly removed or the set is re-queried, even if changes to its attributes mean it no longer matches the initial query criteria. Deletions are immediately reflected, removing the entity from the set permanently.")),(0,i.kt)("h3",{id:"entity-set-expiry-and-renewal"},"Entity Set Expiry and Renewal"),(0,i.kt)("p",null,"Entity sets have a default expiration of two hours, adjustable with ",(0,i.kt)("a",{parentName:"p",href:"./$timeout"},(0,i.kt)("inlineCode",{parentName:"a"},"$timeout")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/$entityset/{{entitySetID}}?$timeout=7200\n")),(0,i.kt)("admonition",{type:"tip"},(0,i.kt)("p",{parentName:"admonition"},"Each time an entity set is accessed, its expiration timer is reset to the specified timeout value, whether it's the default setting or a custom duration defined by ",(0,i.kt)("a",{parentName:"p",href:"./$timeout"},(0,i.kt)("inlineCode",{parentName:"a"},"$timeout")),".")),(0,i.kt)("h3",{id:"deleting-entity-sets"},"Deleting Entity Sets"),(0,i.kt)("p",null,"An entity set could be removed from cache with ",(0,i.kt)("a",{parentName:"p",href:"./$method#methodrelease"},(0,i.kt)("inlineCode",{parentName:"a"},"$method=release")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/$entityset/{{entitySetID}}?$method=release\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"If an entity set is accessed after it has been removed or expired, it will be automatically recreated with a new default expiration of 10 minutes. This process refreshes the set, potentially updating its contents based on the latest data available.")),(0,i.kt)("h3",{id:"combining-entity-sets"},"Combining Entity Sets"),(0,i.kt)("p",null,"You can merge two previously created entity sets using logical operators. This functionality allows for the combination, intersection, or differentiation of entity sets based on specified conditions:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-plaintext"},"GET {{ApiEndpoint}}/rest/Employee/$entityset/{{entitySetID1}}?$logicOperator...&$otherCollection={{entitySetID2}}\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"This operation enables you to manipulate the resulting dataset by merging both sets, extracting common elements, or identifying unique records in either set.")),(0,i.kt)("h2",{id:"data-aggregation"},"Data Aggregation"),(0,i.kt)("p",null,"Use ",(0,i.kt)("a",{parentName:"p",href:"./$compute"},(0,i.kt)("inlineCode",{parentName:"a"},"$compute"))," to perform aggregate functions like average, count, min, max, or sum on a specific attribute. The syntax is straightforward, for example:"),(0,i.kt)("p",null,"Aggregative computations (average, count, min, max, sum) can be executed on specific attributes using ",(0,i.kt)("a",{parentName:"p",href:"./$compute"},(0,i.kt)("inlineCode",{parentName:"a"},"$compute")),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/salary?$compute=max\n")),(0,i.kt)("p",null,"To fetch all aggregate values in one request:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee/salary?$compute=$all\n")),(0,i.kt)("h2",{id:"image-and-blob-handling"},"Image and BLOB Handling"),(0,i.kt)("h3",{id:"viewing-images"},"Viewing Images"),(0,i.kt)("p",null,"To access images at their best resolution, incorporating format and version control:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Employee(1)/photo?$imageformat=best&$version=1&$expand=photo\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For detailed information on image formats, see the ",(0,i.kt)("a",{parentName:"p",href:"./$imageformat"},"$imageformat")," section. For details on the version parameter, please refer to ",(0,i.kt)("a",{parentName:"p",href:"./$version"},"$version"),".")),(0,i.kt)("h3",{id:"storing-blobs"},"Storing BLOBs"),(0,i.kt)("p",null,"For saving BLOB data to disk while ensuring the data is transferred in binary format:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET {{ApiEndpoint}}/rest/Company(11)/blobAtt?$binary=true&$expand=blobAtt\n")),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"For additional details on image formats, please consult the sections on ",(0,i.kt)("a",{parentName:"p",href:"./$binary"},(0,i.kt)("inlineCode",{parentName:"a"},"$binary=true"))," and ",(0,i.kt)("a",{parentName:"p",href:"./$expand"},(0,i.kt)("inlineCode",{parentName:"a"},"$expand")),".")))}m.isMDXComponent=!0}}]);