"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[6694],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>g});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),d=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=d(e.components);return a.createElement(l.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),c=d(n),m=i,g=c["".concat(l,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(g,s(s({ref:t},p),{},{components:n})):a.createElement(g,s({ref:t},p))}));function g(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,s=new Array(r);s[0]=m;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[c]="string"==typeof e?e:i,s[1]=o;for(var d=2;d<r;d++)s[d]=n[d];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},52203:(e,t,n)=>{n.d(t,{ZP:()=>r});var a=n(67294),i=n(86010);const r={List:function(e){let{children:t,align:n="start",justifyContent:r="start"}=e;return a.createElement("div",{className:(0,i.Z)("flex flex-col lg:flex-row flex-wrap",{"items-start":"start"===n,"items-center":"center"===n,"items-end":"end"===n},{"justify-start":"start"===r,"justify-center":"center"===r,"justify-end":"end"===r,"justify-between":"between"===r,"justify-around":"around"===r,"justify-evenly":"evenly"===r})},t)},Item:function(e){let{children:t,width:n}=e;const r=(e=>{const t="undefined"!=typeof window&&window.matchMedia(e),[n,i]=(0,a.useState)(t.matches);return(0,a.useEffect)((()=>(t.onchange=e=>i(e.matches),()=>t.onchange=null))),n})("(max-width: 1024px)");return a.createElement("div",{className:(0,i.Z)({"flex-1":!n}),style:r?{}:{width:n}},t)}}},21223:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var a=n(87462),i=(n(67294),n(3905)),r=n(52203);const s={id:"rolesPrivilegesOverview",title:"Roles and Privileges"},o=void 0,l={unversionedId:"studio/roles/rolesPrivilegesOverview",id:"studio/roles/rolesPrivilegesOverview",title:"Roles and Privileges",description:"In the realm of data security and access control, Qodly introduces a robust system of Roles and Privileges. These two fundamental concepts are at the heart of enforcing data access restrictions within the application. By understanding the Roles and Privileges, you can ensure that each user accesses only the data pertinent to their designated role.",source:"@site/docs/studio/roles/rolesPrivilegesOverview.md",sourceDirName:"studio/roles",slug:"/studio/roles/rolesPrivilegesOverview",permalink:"/docs/studio/roles/rolesPrivilegesOverview",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/studio/roles/rolesPrivilegesOverview.md",tags:[],version:"current",frontMatter:{id:"rolesPrivilegesOverview",title:"Roles and Privileges"},sidebar:"Develop",previous:{title:"Access Control Mechanisms",permalink:"/docs/studio/roles/accessControlMechanisms"},next:{title:"Datastore Permissions",permalink:"/docs/studio/roles/datastorePermissions"}},d={},p=[{value:"Roles: Defining User Profiles",id:"roles-defining-user-profiles",level:2},{value:"Understanding Roles",id:"understanding-roles",level:3},{value:"Role Hierarchy",id:"role-hierarchy",level:3},{value:"Adding Roles",id:"adding-roles",level:3},{value:"Privileges: Enabling Controlled Access",id:"privileges-enabling-controlled-access",level:2},{value:"Understanding Privileges",id:"understanding-privileges",level:3},{value:"Adding Privileges",id:"adding-privileges",level:3},{value:"Interplay Between Roles and Privileges",id:"interplay-between-roles-and-privileges",level:2},{value:"Assigning Roles",id:"assigning-roles",level:2},{value:"Retrieving Current Session Information",id:"retrieving-current-session-information",level:2},{value:"Roles and privileges JSON Representation",id:"roles-and-privileges-json-representation",level:2}],c={toc:p};function u(e){let{components:t,...s}=e;return(0,i.kt)("wrapper",(0,a.Z)({},c,s,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"In the realm of data security and access control, Qodly introduces a robust system of ",(0,i.kt)("strong",{parentName:"p"},"Roles and Privileges"),". These two fundamental concepts are at the heart of enforcing data access restrictions within the application. By understanding the ",(0,i.kt)("strong",{parentName:"p"},"Roles and Privileges"),", you can ensure that each user accesses only the data pertinent to their designated role. "),(0,i.kt)("h2",{id:"roles-defining-user-profiles"},"Roles: Defining User Profiles"),(0,i.kt)("h3",{id:"understanding-roles"},"Understanding Roles"),(0,i.kt)("p",null,"Roles play a pivotal role in defining distinct user profiles within Qodly. Each role corresponds to a specific set of responsibilities, privileges, and access levels. "),(0,i.kt)("admonition",{title:"Example",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In a backoffice travel agency solution, roles like ",(0,i.kt)("inlineCode",{parentName:"p"},"Agent"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Content Manager"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"Sales Manager")," define distinct user profiles, each with specific actions and operations.")),(0,i.kt)("h3",{id:"role-hierarchy"},"Role Hierarchy"),(0,i.kt)("p",null,"Roles are hierarchically structured, allowing for the establishment of an organized and layered access control system. This hierarchy ensures that higher-level roles encompass the ",(0,i.kt)("strong",{parentName:"p"},"privileges")," of lower-level roles, creating a seamless and efficient method of managing user access. This hierarchical access control enhances the granularity of access management, facilitating a streamlined and systematic approach."),(0,i.kt)("h3",{id:"adding-roles"},"Adding Roles"),(0,i.kt)("p",null,"To add a role, follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open the ",(0,i.kt)("inlineCode",{parentName:"li"},"Explorer")," Panel."),(0,i.kt)("li",{parentName:"ol"},"Navigate to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles and Privileges")," section."),(0,i.kt)("li",{parentName:"ol"},"Click on the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles")," tab to access role management."),(0,i.kt)("li",{parentName:"ol"},"To create a new role, click on the ",(0,i.kt)("inlineCode",{parentName:"li"},"Add new role")," card.")),(0,i.kt)("img",{src:n(25641).Z,style:{borderRadius:"6px"}}),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("admonition",{title:"Example",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In a backoffice travel agency solution, you can customize unique roles such as ",(0,i.kt)("inlineCode",{parentName:"p"},"Agent"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"Content Manager"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"Sales Manager")," to perfectly align with your specific application needs:"),(0,i.kt)("table",{parentName:"admonition"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Roles"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Agent"),(0,i.kt)("td",{parentName:"tr",align:null},"Reserves and customizes travel packages for clients.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Content Manager"),(0,i.kt)("td",{parentName:"tr",align:null},"Manages website content, including creating and updating travel packages.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"Sales Manager"),(0,i.kt)("td",{parentName:"tr",align:null},"Manages customer bookings, views sales reports, and generates invoices."))))),(0,i.kt)("h2",{id:"privileges-enabling-controlled-access"},"Privileges: Enabling Controlled Access"),(0,i.kt)("h3",{id:"understanding-privileges"},"Understanding Privileges"),(0,i.kt)("p",null,"Privileges are the building blocks of access control. They define the specific technical capabilities and actions that users of different roles can perform. By assigning privileges to roles, you determine the extent of a user's access to data and functionalities. "),(0,i.kt)("h3",{id:"adding-privileges"},"Adding Privileges"),(0,i.kt)("p",null,"To add a privilege, follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Open the ",(0,i.kt)("inlineCode",{parentName:"li"},"Explorer")," Panel."),(0,i.kt)("li",{parentName:"ol"},"Navigate to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles and Privileges")," section."),(0,i.kt)("li",{parentName:"ol"},"Click on the ",(0,i.kt)("inlineCode",{parentName:"li"},"Privileges")," tab to access privileges management."),(0,i.kt)("li",{parentName:"ol"},"Click on the ",(0,i.kt)("inlineCode",{parentName:"li"},"+")," button to create a new privilege.")),(0,i.kt)("img",{src:n(80875).Z,style:{borderRadius:"6px"}}),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("admonition",{title:"Example",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In a backoffice travel agency solution, you can customize distinct privileges like ",(0,i.kt)("inlineCode",{parentName:"p"},"ManageReports"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"ManageBookings"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"ManageContent"),' to align with the capabilities and actions assigned to each role."'),(0,i.kt)("table",{parentName:"admonition"},(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Privileges"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ManageReports"),(0,i.kt)("td",{parentName:"tr",align:null},"Access to sales reports and statistical data.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ManageBookings"),(0,i.kt)("td",{parentName:"tr",align:null},"Manage customer bookings, verify reservations, and generate invoices.")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"ManageContent"),(0,i.kt)("td",{parentName:"tr",align:null},"Access and manage the travel agency's online content."))))),(0,i.kt)("h2",{id:"interplay-between-roles-and-privileges"},"Interplay Between Roles and Privileges"),(0,i.kt)("p",null,"Achieving the optimal synchronization of roles and privileges ensures seamless task execution for users while maintaining robust data security. "),(0,i.kt)("p",null,"To assign one or multiple privileges to a role, follow these steps:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Navigate to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles")," tab within the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles and Privileges")," section."),(0,i.kt)("li",{parentName:"ol"},"Select the desired role (e.g., ",(0,i.kt)("inlineCode",{parentName:"li"},"Sales Manager"),")."),(0,i.kt)("li",{parentName:"ol"},"Locate the privileges side section on the far right."),(0,i.kt)("li",{parentName:"ol"},"In this section, you'll find a comprehensive list of available privileges."),(0,i.kt)("li",{parentName:"ol"},"To assign a privilege, click the ",(0,i.kt)("inlineCode",{parentName:"li"},"+")," icon."),(0,i.kt)("li",{parentName:"ol"},"To remove a privilege, simply click the ",(0,i.kt)("inlineCode",{parentName:"li"},"-")," icon.")),(0,i.kt)("img",{src:n(45895).Z,style:{borderRadius:"6px"}}),(0,i.kt)("br",null),(0,i.kt)("br",null),(0,i.kt)("admonition",{title:"Example",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"For instance, a ",(0,i.kt)("inlineCode",{parentName:"p"},"Sales Manager")," role might possess privileges like ",(0,i.kt)("inlineCode",{parentName:"p"},"ManageBookings")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"ViewReports"),", granting them the ability to analyze booking trends and monitor revenue for informed decision-making. Similarly, a ",(0,i.kt)("inlineCode",{parentName:"p"},"Content Manager")," role could receive the privilege ",(0,i.kt)("inlineCode",{parentName:"p"},"ManageContent"),".")),(0,i.kt)("h2",{id:"assigning-roles"},"Assigning Roles"),(0,i.kt)("p",null,"Through the ",(0,i.kt)("strong",{parentName:"p"},"Qodly Management Console")," of your application, you can seamlessly integrate roles for users across various environments, be it ",(0,i.kt)("inlineCode",{parentName:"p"},"development"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"staging"),", or ",(0,i.kt)("inlineCode",{parentName:"p"},"production")," \u2013 each with its own tailored configuration. "),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"It's important to note that roles added in the development environment may not necessarily align with those in the production environment for example.")),(0,i.kt)("p",null,"For instance, in the ",(0,i.kt)("inlineCode",{parentName:"p"},"development")," environment:"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"Go to the ",(0,i.kt)("inlineCode",{parentName:"li"},"Teams")," tab to see a list of available users, each linked to their respective roles."),(0,i.kt)("li",{parentName:"ol"},"Click the ",(0,i.kt)("inlineCode",{parentName:"li"},"Add User")," button in the upper-right corner to add a new user."),(0,i.kt)("li",{parentName:"ol"},"Complete the form that appears with the necessary user data."),(0,i.kt)("li",{parentName:"ol"},"Find a dropdown menu labeled ",(0,i.kt)("inlineCode",{parentName:"li"},"Profile")," towards the end of the form, displaying roles added from Qodly Studio under the ",(0,i.kt)("inlineCode",{parentName:"li"},"Roles and Privileges")," section."),(0,i.kt)("li",{parentName:"ol"},"Select and assign the appropriate role to the new user from the list, providing specific privileges associated with that role.")),(0,i.kt)("img",{src:n(5401).Z,style:{borderRadius:"6px"}}),(0,i.kt)("p",null,"The impact of these role assignments goes beyond mere user administration. As you mold your application, these roles exert a direct influence on the user journey. "),(0,i.kt)("admonition",{type:"info"},(0,i.kt)("p",{parentName:"admonition"},"View management restrictions are just the initial step, subsequent stages will involve extending these limitations to various other aspects of interaction.")),(0,i.kt)("h2",{id:"retrieving-current-session-information"},"Retrieving Current Session Information"),(0,i.kt)("p",null,"In Qodly, user information in the current session is available via ",(0,i.kt)("inlineCode",{parentName:"p"},"cs.Qodly.Users")," class. This allows you to retrieve essential user details, such as their ",(0,i.kt)("inlineCode",{parentName:"p"},"email"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"role"),", ",(0,i.kt)("inlineCode",{parentName:"p"},"first name"),", and ",(0,i.kt)("inlineCode",{parentName:"p"},"last name"),". Use the code below:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},"exposed Function loadSessionUserInfo()\n    var userCS : cs.Qodly.Users\n    \n    userCS = cs.Qodly.Users.new()\n\n    use(session.storage)\n        session.storage.currentUser = userCS.getCurrentUser()\n    end\n\n    ds.User.linkAccount()\n")),(0,i.kt)("p",null,"By utilizing the ",(0,i.kt)("inlineCode",{parentName:"p"},"loadSessionUserInfo()")," function, fetch and store user data for session-wide access."),(0,i.kt)("p",null,"On the other hand, the ",(0,i.kt)("inlineCode",{parentName:"p"},"linkAccount()")," function links sessions and profiles, allowing extended data storage. This enhances profiles with varied information such as images, preferences, and historical data."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-qs"},'exposed function linkAccount()\n    if(session.storage.currentUser!=null)\n        user = this.query("email = :1", session.storage.currentUser.email).first()\n        if(user == null)\n            user = ds.User.new()\n            user.email = session.storage.currentUser.email\n            user.save()\n        end\n    end\n')),(0,i.kt)("p",null,"For more detailed information, refer to the ",(0,i.kt)("a",{parentName:"p",href:"/docs/language/SessionClass"},"Sessions")," and ",(0,i.kt)("a",{parentName:"p",href:"/docs/language/UsersClass"},"Users")," sections."),(0,i.kt)("h2",{id:"roles-and-privileges-json-representation"},"Roles and privileges JSON Representation"),(0,i.kt)("p",null,"In Qodly Studio, the Roles and privileges possesses a JSON representation that is useful for troubleshooting or to copy/paste selected parts."),(0,i.kt)(r.ZP.List,{align:"center",justifyContent:"between"},(0,i.kt)(r.ZP.Item,{width:"50%"},"This representation can be accessed through a text editor by selecting the ",(0,i.kt)("code",null,"Roles and privileges")," in the ",(0,i.kt)("code",null,"Explorer")," and choosing ",(0,i.kt)("code",null,"Open With")," a ",(0,i.kt)("code",null,"Text Editor"),"."),(0,i.kt)(r.ZP.Item,{width:"45%"},(0,i.kt)("img",{alt:"json",src:n(95735).Z,style:{borderRadius:"6px"}}))),(0,i.kt)("br",null),(0,i.kt)("p",null,"You can view, copy, or edit the JSON representation. "),(0,i.kt)("admonition",{type:"warning"},(0,i.kt)("p",{parentName:"admonition"},"It is essential to exercise caution when editing the JSON representation, as the syntax check does not validate whether attribute names match the expected ones or if there are issues with the attribute names.")))}u.isMDXComponent=!0},45895:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/InterplayBetweenRoles_and_Privileges-644cf1aa5c2697f78d79c0c87d9c6269.png"},80875:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/addPrivilege-1f5afccda7ad4f91aefd6f2151a0f498.png"},25641:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/addRole-e6c56951c72af2cfd27b06f1c3c9e3d2.png"},5401:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/addingRolesviaCloud-384c02adcceae0a5c81e0a3eb08d7ef8.png"},95735:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/openastext-cee31b8dc55799b8fd127e5f3a1adee1.png"}}]);