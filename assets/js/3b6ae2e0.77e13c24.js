"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[8929],{3905:(e,t,r)=>{r.d(t,{Zo:()=>m,kt:()=>h});var i=r(67294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,i,n=function(e,t){if(null==e)return{};var r,i,n={},a=Object.keys(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var p=i.createContext({}),l=function(e){var t=i.useContext(p),r=t;return e&&(r="function"==typeof e?e(t):o(o({},t),e)),r},m=function(e){var t=l(e.components);return i.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},d=i.forwardRef((function(e,t){var r=e.components,n=e.mdxType,a=e.originalType,p=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),c=l(r),d=n,h=c["".concat(p,".").concat(d)]||c[d]||u[d]||a;return r?i.createElement(h,o(o({ref:t},m),{},{components:r})):i.createElement(h,o({ref:t},m))}));function h(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var a=r.length,o=new Array(a);o[0]=d;var s={};for(var p in t)hasOwnProperty.call(t,p)&&(s[p]=t[p]);s.originalType=e,s[c]="string"==typeof e?e:n,o[1]=s;for(var l=2;l<a;l++)o[l]=r[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,r)}d.displayName="MDXCreateElement"},43557:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>l});var i=r(87462),n=(r(67294),r(3905));const a={id:"$version",title:"$version"},o=void 0,s={unversionedId:"api/$version",id:"api/$version",title:"$version",description:"Functionality",source:"@site/docs/api/$version.md",sourceDirName:"api",slug:"/api/$version",permalink:"/docs/api/$version",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/api/$version.md",tags:[],version:"current",frontMatter:{id:"$version",title:"$version"},sidebar:"API",previous:{title:"$top/$limit",permalink:"/docs/api/$top$limit"},next:{title:"Overview",permalink:"/docs/api/classFunctionsOverview"}},p={},l=[{value:"Functionality",id:"functionality",level:2},{value:"Definition",id:"definition",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Detailed Behavior",id:"detailed-behavior",level:2},{value:"Ensuring Correct Image Retrieval",id:"ensuring-correct-image-retrieval",level:3},{value:"Server-Modified Version Value",id:"server-modified-version-value",level:3},{value:"Combining with Other Parameters",id:"combining-with-other-parameters",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Retrieving an Image with a Specific Version",id:"retrieving-an-image-with-a-specific-version",level:3},{value:"Best Practices",id:"best-practices",level:2}],m={toc:l};function c(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,i.Z)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"functionality"},"Functionality"),(0,n.kt)("h3",{id:"definition"},"Definition"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"$version")," parameter is used to specify the version number of an image returned by the server. This helps bypass the browser's cache, ensuring that the most recent version of the image is retrieved."),(0,n.kt)("h3",{id:"syntax"},"Syntax"),(0,n.kt)("p",null,"To retrieve a specific version of an image, use the following syntax:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"GET /rest/{{dataClass}}({{id}})/{{imageAttribute}}?$version={{versionNumber}}&$imageformat={{imageFormat}}&$expand={{imageAttribute}}\n")),(0,n.kt)("h2",{id:"detailed-behavior"},"Detailed Behavior"),(0,n.kt)("h3",{id:"ensuring-correct-image-retrieval"},"Ensuring Correct Image Retrieval"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"$version")," parameter helps to avoid issues with browser caching by specifying the version number of the image. When the version number is included in the request, the server ensures that the latest version of the image is returned, even if the image has been updated."),(0,n.kt)("h3",{id:"server-modified-version-value"},"Server-Modified Version Value"),(0,n.kt)("p",null,"The server modifies the value of the image's version parameter whenever the image is updated. This ensures that clients always receive the most up-to-date version of the image."),(0,n.kt)("h2",{id:"combining-with-other-parameters"},"Combining with Other Parameters"),(0,n.kt)("p",null,"The ",(0,n.kt)("inlineCode",{parentName:"p"},"$version")," parameter can be combined with other parameters to manage image versioning effectively:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$imageformat"),": Define the image format while specifying the version to ensure you retrieve the correct version in the desired format.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$expand"),": Expand the image attribute fully while specifying the version to ensure you retrieve the correct version of the image.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$filter"),": Narrow down the dataset before retrieving the image with the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$orderby"),": Sort the dataset before retrieving the image with the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$top/$limit")," and ",(0,n.kt)("strong",{parentName:"p"},"$skip"),": Navigate through the dataset and limit the number of records before retrieving the image with the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$attributes"),": Specify which attributes to include in the response along with the image of the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$method=entityset"),": Create an entity set while specifying the image version to ensure the correct version of the image is included.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$savedfilter"),": Apply a saved filter to the dataset before retrieving the image with the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$savedorderby"),": Apply a saved sorting order to the dataset before retrieving the image with the specified version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$lock"),": Lock or unlock entities while specifying the version of the image to ensure the operation applies to the correct version.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"$distinct"),": Retrieve distinct values from the dataset before specifying the image version to ensure the correct version of distinct images."))),(0,n.kt)("h2",{id:"use-cases"},"Use Cases"),(0,n.kt)("h3",{id:"retrieving-an-image-with-a-specific-version"},"Retrieving an Image with a Specific Version"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Request:")),(0,n.kt)("p",null,"To retrieve an image in JPEG format with a version number of 3, use the following request:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"GET /rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo\n")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"Response:")),(0,n.kt)("p",null,"The server returns the image in JPEG format with the specified version."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-json"},'{\n    "photo": {\n        "__KEY": "1",\n        "__STAMP": 3,\n        "uri": "/rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo",\n        "__deferred": {\n            "uri": "/rest/Employee(1)/photo?$imageformat=jpeg&$version=3&$expand=photo"\n        }\n    }\n}\n')),(0,n.kt)("admonition",{title:"Retrieving an Updated Image Version",type:"tip"},(0,n.kt)("p",{parentName:"admonition"},"If the image has been updated and the version number has changed, use the new version number in the request to ensure you retrieve the latest image:"),(0,n.kt)("pre",{parentName:"admonition"},(0,n.kt)("code",{parentName:"pre"},"GET /rest/Employee(1)/photo?$imageformat=jpeg&$version=4&$expand=photo\n"))),(0,n.kt)("h2",{id:"best-practices"},"Best Practices"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Always Use $version:")," To avoid caching issues, always use the ",(0,n.kt)("inlineCode",{parentName:"p"},"$version")," parameter when retrieving images.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Combine with $imageformat and $expand:")," For optimal results, combine ",(0,n.kt)("inlineCode",{parentName:"p"},"$version")," with ",(0,n.kt)("inlineCode",{parentName:"p"},"$imageformat")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"$expand")," to specify the desired image format and ensure the full image is retrieved.")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"Monitor Version Changes:")," Keep track of version changes to ensure that clients are always retrieving the most recent version of the image."))))}c.isMDXComponent=!0}}]);