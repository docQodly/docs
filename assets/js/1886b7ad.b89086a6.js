"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[7427],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>c});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),p=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):l(l({},t),e)),a},m=function(e){var t=p(e.components);return n.createElement(o.Provider,{value:t},e.children)},d="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},k=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=s(e,["components","mdxType","originalType","parentName"]),d=p(a),k=r,c=d["".concat(o,".").concat(k)]||d[k]||u[k]||i;return a?n.createElement(c,l(l({ref:t},m),{},{components:a})):n.createElement(c,l({ref:t},m))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,l=new Array(i);l[0]=k;var s={};for(var o in t)hasOwnProperty.call(t,o)&&(s[o]=t[o]);s.originalType=e,s[d]="string"==typeof e?e:r,l[1]=s;for(var p=2;p<i;p++)l[p]=a[p];return n.createElement.apply(null,l)}return n.createElement.apply(null,a)}k.displayName="MDXCreateElement"},60119:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>p});var n=a(87462),r=(a(67294),a(3905));const i={id:"SessionClass",title:"Session"},l=void 0,s={unversionedId:"language/SessionClass",id:"language/SessionClass",title:"Session",description:"Session objects are returned by the Session command. The Session object is automatically created and maintained by the Qodly web server to control the session of a web client (e.g. a browser). This object provides the web developer with an interface to the user session, allowing to manage privileges, store contextual data, share information between processes, and launch session-related preemptive processes.",source:"@site/docs/language/SessionClass.md",sourceDirName:"language",slug:"/language/SessionClass",permalink:"/docs/language/SessionClass",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/language/SessionClass.md",tags:[],version:"current",frontMatter:{id:"SessionClass",title:"Session"},sidebar:"Develop",previous:{title:"Process",permalink:"/docs/language/process"},next:{title:"Signal",permalink:"/docs/language/SignalClass"}},o={},p=[{value:"Commands",id:"commands",level:3},{value:"Functions and properties",id:"functions-and-properties",level:3},{value:"session",id:"session",level:2},{value:"Description",id:"description",level:4},{value:".clearPrivileges()",id:"clearprivileges",level:2},{value:"Description",id:"description-1",level:4},{value:"Example",id:"example",level:4},{value:".expirationDate",id:"expirationdate",level:2},{value:"Description",id:"description-2",level:4},{value:"Example",id:"example-1",level:4},{value:".hasPrivilege()",id:"hasprivilege",level:2},{value:"Description",id:"description-3",level:4},{value:"Example",id:"example-2",level:4},{value:".idleTimeout",id:"idletimeout",level:2},{value:"Description",id:"description-4",level:4},{value:"Example",id:"example-3",level:4},{value:".isGuest()",id:"isguest",level:2},{value:"Description",id:"description-5",level:4},{value:"Example",id:"example-4",level:4},{value:".setPrivileges()",id:"setprivileges",level:2},{value:"Description",id:"description-6",level:4},{value:"Example",id:"example-5",level:4},{value:".storage",id:"storage",level:2},{value:"Description",id:"description-7",level:4},{value:"Example",id:"example-6",level:4},{value:".userName",id:"username",level:2},{value:"Description",id:"description-8",level:4}],m={toc:p};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Session objects are returned by the ",(0,r.kt)("a",{parentName:"p",href:"#session"},(0,r.kt)("inlineCode",{parentName:"a"},"Session"))," command. The Session object is automatically created and maintained by the Qodly web server to control the session of a web client (e.g. a browser). This object provides the web developer with an interface to the user session, allowing to manage privileges, store contextual data, share information between processes, and launch session-related preemptive processes."),(0,r.kt)("h3",{id:"commands"},"Commands"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#session"},(0,r.kt)("strong",{parentName:"a"},"session")," : 4D.Session"),"\xa0","\xa0","\xa0","\xa0","returns the ",(0,r.kt)("inlineCode",{parentName:"td"},"Session")," object corresponding to the current scalable user web session")))),(0,r.kt)("h3",{id:"functions-and-properties"},"Functions and properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null}))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#clearprivileges"},(0,r.kt)("strong",{parentName:"a"},".clearPrivileges"),"()"),"\xa0","\xa0","\xa0","\xa0","removes all the privileges associated to the session")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#expirationdate"},(0,r.kt)("strong",{parentName:"a"},".expirationDate")," : string"),"\xa0","\xa0","\xa0","\xa0","the expiration date and time of the session cookie")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#hasprivilege"},(0,r.kt)("strong",{parentName:"a"},".hasPrivilege"),"( ",(0,r.kt)("em",{parentName:"a"},"privilege")," : string ) : boolean"),"\xa0","\xa0","\xa0","\xa0","returns true if the privilege is associated to the session, and false otherwise")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#idletimeout"},(0,r.kt)("strong",{parentName:"a"},".idleTimeout")," : integer"),"\xa0","\xa0","\xa0","\xa0","the inactivity session timeout (in minutes), after which the session is automatically closed by Qodly")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#isguest"},(0,r.kt)("strong",{parentName:"a"},".isGuest"),"() : boolean"),"\xa0","\xa0","\xa0","\xa0","returns ",(0,r.kt)("inlineCode",{parentName:"td"},"true")," if the session is a Guest session (i.e. it has no privileges)")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#setprivileges"},(0,r.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"a"},"privilege")," : string )",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"a"},"privileges")," : collection )",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"a"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"a"},"settings")," : object )"),"\xa0","\xa0","\xa0","\xa0","associates the privilege(s) and/or role(s) defined in the parameter to the session")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#storage"},(0,r.kt)("strong",{parentName:"a"},".storage")," : object"),"\xa0","\xa0","\xa0","\xa0","a shared object that can be used to store information available to all requests of the web client")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("a",{parentName:"td",href:"#username"},(0,r.kt)("strong",{parentName:"a"},".userName")," : string"),"\xa0","\xa0","\xa0","\xa0","the user name associated to the session")))),(0,r.kt)("h2",{id:"session"},"session"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"session")," : 4D.Session"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Result"),(0,r.kt)("td",{parentName:"tr",align:null},"4D.Session"),(0,r.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,r.kt)("td",{parentName:"tr",align:null},"Session object")))),(0,r.kt)("h4",{id:"description"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"session")," command returns the ",(0,r.kt)("inlineCode",{parentName:"p"},"Session")," object corresponding to the current scalable user web session."),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Session")," object is available from any web processes in ORDA ",(0,r.kt)("a",{parentName:"p",href:"/docs/orda/data-model"},"Data Model Class functions")," called with REST requests."),(0,r.kt)("h2",{id:"clearprivileges"},".clearPrivileges()"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".clearPrivileges"),"()"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:null}),(0,r.kt)("td",{parentName:"tr",align:"center"}),(0,r.kt)("td",{parentName:"tr",align:null},"Does not require any parameters")))),(0,r.kt)("h4",{id:"description-1"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".clearPrivileges()")," function removes all the privileges associated to the session. As a result, the session automatically becomes a Guest session."),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},"//Invalidate a session\nvar isGuest : boolean  \n\nsession.clearPrivileges()\nisGuest=session.isGuest() //isGuest is True\n")),(0,r.kt)("h2",{id:"expirationdate"},".expirationDate"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".expirationDate")," : string"),(0,r.kt)("h4",{id:"description-2"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".expirationDate")," property contains the expiration date and time of the session cookie. The value is expressed as text in the ISO 8601 format: ",(0,r.kt)("inlineCode",{parentName:"p"},"YYYY-MM-DDTHH:MM:SS.mmmZ"),"."),(0,r.kt)("p",null,"This property is ",(0,r.kt)("strong",{parentName:"p"},"read-only"),". It is automatically recomputed if the ",(0,r.kt)("a",{parentName:"p",href:"#idletimeout"},(0,r.kt)("inlineCode",{parentName:"a"},".idleTimeout"))," property value is modified."),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},'var expiration : string\nexpiration=session.expirationDate //eg "2021-11-05T17:10:42Z"\n')),(0,r.kt)("h2",{id:"hasprivilege"},".hasPrivilege()"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".hasPrivilege"),"( ",(0,r.kt)("em",{parentName:"p"},"privilege")," : string ) : boolean"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"privilege"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,r.kt)("td",{parentName:"tr",align:null},"Name of the privilege to verify")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Result"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,r.kt)("td",{parentName:"tr",align:null},"True if session has ",(0,r.kt)("em",{parentName:"td"},"privilege"),", false otherwise")))),(0,r.kt)("h4",{id:"description-3"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".hasPrivilege()")," function returns true if the privilege is associated to the session, and false otherwise."),(0,r.kt)("h4",{id:"example-2"},"Example"),(0,r.kt)("p",null,'You want to check if the "WebAdmin" privilege is associated to the session:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},'if (session.hasPrivilege("WebAdmin"))\n    //Access is granted, do nothing\nelse\n    //Display an authentication page\n\nend\n')),(0,r.kt)("h2",{id:"idletimeout"},".idleTimeout"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".idleTimeout")," : integer"),(0,r.kt)("h4",{id:"description-4"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".idleTimeout")," property contains the inactivity session timeout (in minutes), after which the session is automatically closed by Qodly."),(0,r.kt)("p",null,"If this property is not set, the default value is 60 (1h)."),(0,r.kt)("p",null,"When this property is set, the ",(0,r.kt)("a",{parentName:"p",href:"#expirationdate"},(0,r.kt)("inlineCode",{parentName:"a"},".expirationDate"))," property is updated accordingly."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"The value cannot be less than 60: if a lower value is set, the timeout is raised up to 60.")),(0,r.kt)("p",null,"This property is ",(0,r.kt)("strong",{parentName:"p"},"read write"),"."),(0,r.kt)("h4",{id:"example-3"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},"if (session.isGuest())\n        // A Guest session will close after 60 minutes of inactivity\n    session.idleTimeout=60\nelse\n        // Other sessions will close after 120 minutes of inactivity\n    session.idleTimeout=120\nend\n\n")),(0,r.kt)("h2",{id:"isguest"},".isGuest()"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".isGuest"),"() : boolean"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Result"),(0,r.kt)("td",{parentName:"tr",align:null},"boolean"),(0,r.kt)("td",{parentName:"tr",align:"center"},"<-"),(0,r.kt)("td",{parentName:"tr",align:null},"True if session is a Guest one, false otherwise")))),(0,r.kt)("h4",{id:"description-5"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".isGuest()")," function returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if the session is a Guest session (i.e. it has no privileges)."),(0,r.kt)("h4",{id:"example-4"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},"if (session.isGuest())\n    //Do something for Guest user\nend\n")),(0,r.kt)("h2",{id:"setprivileges"},".setPrivileges()"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"p"},"privilege")," : string )",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"p"},"privileges")," : collection )",(0,r.kt)("br",null),(0,r.kt)("strong",{parentName:"p"},".setPrivileges"),"( ",(0,r.kt)("em",{parentName:"p"},"settings")," : object )"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Parameter"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"privilege"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:"center"},"->"),(0,r.kt)("td",{parentName:"tr",align:null},"Privilege name")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"privileges"),(0,r.kt)("td",{parentName:"tr",align:null},"collection"),(0,r.kt)("td",{parentName:"tr",align:"center"},"->"),(0,r.kt)("td",{parentName:"tr",align:null},"Collection of privilege names")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"settings"),(0,r.kt)("td",{parentName:"tr",align:null},"Object"),(0,r.kt)("td",{parentName:"tr",align:"center"},"->"),(0,r.kt)("td",{parentName:"tr",align:null},'object with a "privileges" property (string or collection)')))),(0,r.kt)("h4",{id:"description-6"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".setPrivileges()")," function associates the privilege(s) and/or role(s) defined in the parameter to the session."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In the ",(0,r.kt)("em",{parentName:"p"},"privilege")," parameter, pass a string containing a privilege name (or several comma-separated privilege names).")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In the ",(0,r.kt)("em",{parentName:"p"},"privileges")," parameter, pass a collection of strings containing privilege names.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"In the ",(0,r.kt)("em",{parentName:"p"},"settings")," parameter, pass an object containing the following properties:"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Property"),(0,r.kt)("th",{parentName:"tr",align:null},"Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"privileges"),(0,r.kt)("td",{parentName:"tr",align:null},"string or collection"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("li",null,"String containing a privilege name, or"),(0,r.kt)("li",null,"Collection of strings containing privilege names"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"roles"),(0,r.kt)("td",{parentName:"tr",align:null},"string or collection"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("li",null,"String containing a role, or"),(0,r.kt)("li",null,"Collection of strings containing roles"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"userName"),(0,r.kt)("td",{parentName:"tr",align:null},"string"),(0,r.kt)("td",{parentName:"tr",align:null},"User name to associate to the session (optional)")))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For more information, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"/docs/studio/roles/rolesPrivilegesOverview"},(0,r.kt)("strong",{parentName:"a"},"Privileges"))," section.")),(0,r.kt)("p",null,"If the ",(0,r.kt)("inlineCode",{parentName:"p"},"privileges")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"roles")," property contains a name that is not declared, it is ignored."),(0,r.kt)("p",null,"By default when no privilege or role is associated to the session, the session is a ",(0,r.kt)("a",{parentName:"p",href:"#isguest"},"Guest session"),"."),(0,r.kt)("p",null,"The ",(0,r.kt)("a",{parentName:"p",href:"#username"},(0,r.kt)("inlineCode",{parentName:"a"},"userName"))," property is available at session object level (read-only)."),(0,r.kt)("h4",{id:"example-5"},"Example"),(0,r.kt)("p",null,'In a custom authentication method, you set the "WebAdmin" privilege to the user:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},'var userOK : boolean\n\n... //Authenticate the user\n\nif (userOK) //The user has been approved\n  var info : object\n  info=newObject\n  info.privileges=newCollection("WebAdmin")\n  session.setPrivileges(info)\nend\n\n')),(0,r.kt)("h2",{id:"storage"},".storage"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".storage")," : object"),(0,r.kt)("h4",{id:"description-7"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".storage")," property contains a shared object that can be used to store information available to all requests of the web client."),(0,r.kt)("p",null,"When a ",(0,r.kt)("inlineCode",{parentName:"p"},"session")," object is created, the ",(0,r.kt)("inlineCode",{parentName:"p"},".storage")," property is empty. Since it is a shared object, this property will be available in the ",(0,r.kt)("inlineCode",{parentName:"p"},"storage")," object of the server."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Like the ",(0,r.kt)("inlineCode",{parentName:"p"},"storage")," object of the server, the ",(0,r.kt)("inlineCode",{parentName:"p"},".storage"),' property is always "single": adding a shared object or a shared collection to ',(0,r.kt)("inlineCode",{parentName:"p"},".storage")," does not create a shared group.")),(0,r.kt)("p",null,"This property is ",(0,r.kt)("strong",{parentName:"p"},"read only")," itself but it returns a read-write object."),(0,r.kt)("h4",{id:"example-6"},"Example"),(0,r.kt)("p",null,"You want to store the client IP in the ",(0,r.kt)("inlineCode",{parentName:"p"},".storage")," property:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-qs"},'if (session.storage.clientIP=null) //first access\n    use (session.storage)\n        session.storage.clientIP=newSharedObject("value", clientIP)\n    end\nend\n\n')),(0,r.kt)("h2",{id:"username"},".userName"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},".userName")," : string"),(0,r.kt)("h4",{id:"description-8"},"Description"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},".userName")," property contains the user name associated to the session. You can use it to identify the user within your code."),(0,r.kt)("p",null,"This property is an empty string by default. It can be set using the ",(0,r.kt)("inlineCode",{parentName:"p"},"privileges")," property of the ",(0,r.kt)("a",{parentName:"p",href:"#setprivileges"},(0,r.kt)("inlineCode",{parentName:"a"},"setPrivileges()"))," function."),(0,r.kt)("p",null,"This property is ",(0,r.kt)("strong",{parentName:"p"},"read only"),"."))}d.isMDXComponent=!0}}]);