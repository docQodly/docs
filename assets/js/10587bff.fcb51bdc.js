"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[2409],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>g});var a=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,o=function(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var p=a.createContext({}),d=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=d(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),c=d(n),m=o,g=c["".concat(p,".").concat(m)]||c[m]||u[m]||r;return n?a.createElement(g,i(i({ref:t},s),{},{components:n})):a.createElement(g,i({ref:t},s))}));function g(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,i=new Array(r);i[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:o,i[1]=l;for(var d=2;d<r;d++)i[d]=n[d];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},52203:(e,t,n)=>{n.d(t,{ZP:()=>r});var a=n(67294),o=n(86010);const r={List:function(e){let{children:t,align:n="start",justifyContent:r="start"}=e;return a.createElement("div",{className:(0,o.Z)("flex flex-col lg:flex-row flex-wrap",{"items-start":"start"===n,"items-center":"center"===n,"items-end":"end"===n},{"justify-start":"start"===r,"justify-center":"center"===r,"justify-end":"end"===r,"justify-between":"between"===r,"justify-around":"around"===r,"justify-evenly":"evenly"===r})},t)},Item:function(e){let{children:t,width:n}=e;const r=(e=>{const t="undefined"!=typeof window&&window.matchMedia(e),[n,o]=(0,a.useState)(t.matches);return(0,a.useEffect)((()=>(t.onchange=e=>o(e.matches),()=>t.onchange=null))),n})("(max-width: 1024px)");return a.createElement("div",{className:(0,o.Z)({"flex-1":!n}),style:r?{}:{width:n}},t)}}},9072:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>i,metadata:()=>p,toc:()=>s});var a=n(87462),o=(n(67294),n(3905)),r=n(52203);const i={id:"setup",title:"Project Setup"},l=void 0,p={unversionedId:"customComponent/setup",id:"customComponent/setup",title:"Project Setup",description:"Qodly's API simplifies the creation of Custom Components using React through its dedicated CLI tool, @qodly/cli. This API streamlines the initiation of the React project, allowing developers to build and share reusable custom components within the Qodly community, providing a user-friendly integration into Pages through a straightforward drag-and-drop mechanism.",source:"@site/docs/customComponent/setup.md",sourceDirName:"customComponent",slug:"/customComponent/setup",permalink:"/docs/customComponent/setup",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/customComponent/setup.md",tags:[],version:"current",frontMatter:{id:"setup",title:"Project Setup"},sidebar:"ReactComponent",previous:{title:"Overview",permalink:"/docs/customComponent/overview"},next:{title:"Project Structure",permalink:"/docs/customComponent/structure"}},d={},s=[{value:"Initial Setup",id:"initial-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Project Initialization",id:"project-initialization",level:3},{value:"Installing Dependencies",id:"installing-dependencies",level:3},{value:"Configuring Environment",id:"configuring-environment",level:2},{value:"Run a Cloud Instance",id:"run-a-cloud-instance",level:3},{value:"Run a 4D Instance",id:"run-a-4d-instance",level:3},{value:"Dependencies Overview",id:"dependencies-overview",level:2},{value:"Production Dependencies",id:"production-dependencies",level:3},{value:"Development Dependencies",id:"development-dependencies",level:3},{value:"Development Workflow",id:"development-workflow",level:2},{value:"Running the Development Server",id:"running-the-development-server",level:3},{value:"Building the Project",id:"building-the-project",level:3},{value:"Generating a New Component",id:"generating-a-new-component",level:2}],c={toc:s};function u(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,a.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Qodly's API simplifies the creation of ",(0,o.kt)("strong",{parentName:"p"},"Custom Components")," using ",(0,o.kt)("strong",{parentName:"p"},"React")," through its dedicated CLI tool, ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@qodly/cli"},(0,o.kt)("strong",{parentName:"a"},"@qodly/cli")),". This API streamlines the initiation of the ",(0,o.kt)("strong",{parentName:"p"},"React")," project, allowing developers to build and share reusable custom components within the Qodly community, providing a user-friendly integration into Pages through a straightforward drag-and-drop mechanism."),(0,o.kt)("h2",{id:"initial-setup"},"Initial Setup"),(0,o.kt)("h3",{id:"prerequisites"},"Prerequisites"),(0,o.kt)("p",null,"Before setting up your React project, make sure your development environment meets the following prerequisites:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://nodejs.org/en/"},"Node.js")," version 20 or above."),(0,o.kt)("li",{parentName:"ul"},"npm version 10 or above.")),(0,o.kt)("h3",{id:"project-initialization"},"Project Initialization"),(0,o.kt)("p",null,"Open your terminal and execute the following command to initiate a new project:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npx @qodly/cli init\n")),(0,o.kt)("p",null,"This command utilizes the ",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@qodly/cli"},"Qodly CLI")," tool to set up the initial project structure."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},'Follow the prompts to name your project, e.g., "qodly-example".')),(0,o.kt)("h3",{id:"installing-dependencies"},"Installing Dependencies"),(0,o.kt)("p",null,'Navigate to the generated project folder (e.g., "qodly-example") using the terminal:'),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"cd /folderPath/qodly-example\n")),(0,o.kt)("p",null,"Then install the necessary npm dependencies:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm i\n")),(0,o.kt)("h2",{id:"configuring-environment"},"Configuring Environment"),(0,o.kt)("p",null,"To ensure the smooth operation of the Standalone Page Editor, you can choose between running a Cloud instance or a 4D instance. Each setup has specific requirements for setting up and running your development environment."),(0,o.kt)("h3",{id:"run-a-cloud-instance"},"Run a Cloud Instance"),(0,o.kt)("p",null,"To utilize a Cloud instance of the Qodly platform, it's essential to configure environment variables that allow your custom components to communicate securely:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"API_KEY: Bound to the Administration port, crucial for accessing administrative features securely.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"PROXY_SERVER: Specifies the API endpoint, critical for connecting your application to the backend services."))),(0,o.kt)("p",null,"These variables should be set within environment configuration files located at the root of your project, adjacent to package.json. Here's how to do it:"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Create Environment Files"),": Depending on your deployment stage, you might have ",(0,o.kt)("inlineCode",{parentName:"p"},".env.development")," for development settings and ",(0,o.kt)("inlineCode",{parentName:"p"},".env.production")," for production settings."),(0,o.kt)("img",{src:n(89493).Z,style:{borderRadius:"6px"}})),(0,o.kt)("li",{parentName:"ol"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("strong",{parentName:"p"},"Add Variables to the Files"),":"),(0,o.kt)("pre",{parentName:"li"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"API_SECURE= true\nAPI_KEY=<your_api_key>\nPROXY_SERVER=<your_proxy_server>\n")))),(0,o.kt)("p",null,"Ensure to keep your API_KEY secure and never expose it in client-side code where unauthorized users could access it."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)(r.ZP.List,{align:"center",justifyContent:"between"},(0,o.kt)(r.ZP.Item,{width:"55%"},'Ensure the API_KEY is of type "Administration" to access administrative features securely. This key should never be exposed in client-side code to prevent unauthorized access.'),(0,o.kt)(r.ZP.Item,{width:"40%"},(0,o.kt)("img",{src:n(35533).Z,style:{borderRadius:"6px"}})))),(0,o.kt)("h3",{id:"run-a-4d-instance"},"Run a 4D Instance"),(0,o.kt)("p",null,"To operate a 4D instance effectively, you need to run a 4D Web Server alongside your React project. Failing to do so can lead to connection issues that prevent the Page Editor from functioning correctly."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"If the 4D Web Server is not running, you might encounter the following error in your terminal:"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"[vite] http proxy error: /rest/$catalog/$all\nError: connect ECONNREFUSED 127.0.0.1:7443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1595:16)\n")),(0,o.kt)("p",{parentName:"admonition"},"This error indicates that your local server setup is trying to connect to a 4D instance at 127.0.0.1:7443 but cannot establish a connection, resulting in the Standalone Page Editor not loading.")),(0,o.kt)("h2",{id:"dependencies-overview"},"Dependencies Overview"),(0,o.kt)("h3",{id:"production-dependencies"},"Production Dependencies"),(0,o.kt)("p",null,"Below is an overview of the production dependencies listed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," file:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Dependency"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@ws-ui/webform-editor")),(0,o.kt)("td",{parentName:"tr",align:null},"Provides the Page Editor functionality for Qodly, allowing developers to create and edit Pages.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"react")),(0,o.kt)("td",{parentName:"tr",align:null},"A JavaScript library for building user interfaces, used in the project for creating custom components.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"react-dom")),(0,o.kt)("td",{parentName:"tr",align:null},"ReactDOM provides DOM-specific methods for React, enabling interaction with the DOM and rendering components.")))),(0,o.kt)("h3",{id:"development-dependencies"},"Development Dependencies"),(0,o.kt)("p",null,"Below is an overview of the development dependencies listed in the ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json")," file:"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Dependency"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@qodly/cli")),(0,o.kt)("td",{parentName:"tr",align:null},"Command-line interface tool for ",(0,o.kt)("a",{parentName:"td",href:"#project-initialization"},"initializing")," and managing Qodly projects.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@types/react")),(0,o.kt)("td",{parentName:"tr",align:null},"TypeScript type definitions for React, providing type information for React when using TypeScript.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@types/react-dom")),(0,o.kt)("td",{parentName:"tr",align:null},"TypeScript type definitions for ReactDOM, providing type information for ReactDOM when using TypeScript.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@typescript-eslint/eslint-plugin")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint plugin for TypeScript, identifying and reporting patterns found in TypeScript code.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@typescript-eslint/parser")),(0,o.kt)("td",{parentName:"tr",align:null},"TypeScript parser for ESLint, allowing ESLint to lint TypeScript code.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@vitejs/plugin-react-swc")),(0,o.kt)("td",{parentName:"tr",align:null},"Vite plugin for React with SWC, facilitating fast web development with React. SWC is a JavaScript/TypeScript compiler.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"@ws-ui/webform-editor-standalone")),(0,o.kt)("td",{parentName:"tr",align:null},"Standalone version of the Qodly Page editor, used for local development and testing.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"eslint")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint is a linter tool for identifying and reporting patterns found in ECMAScript/JavaScript code.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"eslint-config-prettier")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint configuration that turns off rules unnecessary or conflicting with Prettier.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"eslint-plugin-prettier")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint plugin for Prettier, allowing ESLint to run Prettier as an ESLint rule.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"eslint-plugin-react-hooks")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint plugin for React hooks, providing ESLint rules specific to React hooks.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"eslint-plugin-react-refresh")),(0,o.kt)("td",{parentName:"tr",align:null},"ESLint plugin for React refresh, offering ESLint rules related to the React refresh feature.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"typescript")),(0,o.kt)("td",{parentName:"tr",align:null},"TypeScript is a superset of JavaScript that adds static typing to the language.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"vite")),(0,o.kt)("td",{parentName:"tr",align:null},"Vite is a fast web development build tool supporting modern JavaScript and React. Used for local development and builds.")))),(0,o.kt)("h2",{id:"development-workflow"},"Development Workflow"),(0,o.kt)("h3",{id:"running-the-development-server"},"Running the Development Server"),(0,o.kt)("p",null,"Launch Qodly Studio in local mode with only the ",(0,o.kt)("strong",{parentName:"p"},"Standalone Page Editor")," using the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run dev\n")),(0,o.kt)("p",null,"Used when actively developing your project. It provides a local environment where you can make changes and test components."),(0,o.kt)("p",null,"When you run npm run dev, it runs the server locally at:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"Local: http://localhost:5001/\n")),(0,o.kt)("p",null,"The project utilizes ",(0,o.kt)("strong",{parentName:"p"},"Vite")," for rapid development and efficient serving of the project in dev mode."),(0,o.kt)("h3",{id:"building-the-project"},"Building the Project"),(0,o.kt)("p",null,"Build your project for production using the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run build\n")),(0,o.kt)("p",null,"Used to generate a production-ready build of your entire project, the build process creates a compressed folder named ",(0,o.kt)("inlineCode",{parentName:"p"},"qodly_ID.zip")," with a uniquely generated ID."),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"The ID generated is established during the ",(0,o.kt)("a",{parentName:"p",href:"#project-initialization"},"initialization of a new project")," and remains consistent throughout the project's lifecycle. As a result, each execution of the build ensures that the ",(0,o.kt)("inlineCode",{parentName:"p"},"qodly_ID.zip")," folder contains the same generated ID.")),(0,o.kt)("p",null,"Locate this compressed folder in your project directory, ready for drag-and-drop onto the ",(0,o.kt)("a",{parentName:"p",href:"/docs/studio/pageLoaders/components/uploadCustomComponents"},"upload feature")," in Qodly Studio for installation."),(0,o.kt)("h2",{id:"generating-a-new-component"},"Generating a New Component"),(0,o.kt)("p",null,"Add a new component to your project with the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm run generate:component\n")),(0,o.kt)("p",null,"Follow the prompts to name the new component. "),(0,o.kt)("admonition",{type:"info"},(0,o.kt)("p",{parentName:"admonition"},"A project can contain multiple custom components, as in a custom ",(0,o.kt)("inlineCode",{parentName:"p"},"Chart")," project with various components contributing to the final custom ",(0,o.kt)("inlineCode",{parentName:"p"},"Chart"),".")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"generate:component")," command internally executes ",(0,o.kt)("inlineCode",{parentName:"p"},"qodly new component"),", which then generates the necessary files and folders for the component within the ",(0,o.kt)("inlineCode",{parentName:"p"},"components")," directory."),(0,o.kt)("admonition",{type:"danger"},(0,o.kt)("p",{parentName:"admonition"},"Custom components must use unique names to avoid conflicts with Qodly Studio's built-in components. If a custom component shares the same name as a built-in component, the custom component will take precedence when dragged and dropped onto the Page editor.")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"components")," directory serves as the repository for custom components:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"- components\n  - ExampleComponent\n      - ExampleComponent.build.tsx\n      - ExampleComponent.render.tsx\n      - ExampleComponent.settings.tsx\n      - ExampleComponent.config.tsx\n      - index.tsx\n")),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"While developers have the flexibility to implement their initial component in their preferred manner, adhering to the suggested structure is recommended")),(0,o.kt)("p",null,"Refer to the ",(0,o.kt)("a",{parentName:"p",href:"./structure#custom-component-repository"},"custom component structure")," section for detailed information."))}u.isMDXComponent=!0},35533:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/APIAdministration-5f2156202eea258dc7606ff2d215d592.png"},89493:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/envDevelopment-b0863d1f46703b637de2c3e5ae251e0b.png"}}]);