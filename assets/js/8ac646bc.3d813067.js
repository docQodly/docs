"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([["41387"],{46864:function(e,n,t){t.r(n),t.d(n,{metadata:()=>i,contentTitle:()=>c,default:()=>p,assets:()=>l,toc:()=>a,frontMatter:()=>d});var i=JSON.parse('{"id":"customComponent/setup","title":"Project Setup","description":"Qodly\'s API simplifies the creation of Custom Components using React through its dedicated CLI tool, @qodly/cli. This API streamlines the initiation of the React project, allowing developers to build and share reusable custom components within the Qodly community, providing a user-friendly integration into Pages through a straightforward drag-and-drop mechanism.","source":"@site/versioned_docs/version-1.1.0/customComponent/setup.md","sourceDirName":"customComponent","slug":"/customComponent/setup","permalink":"/docs/customComponent/setup","draft":false,"unlisted":false,"editUrl":"https://github.com/qodly/docs/issues/new?title=Comment%20on%20customComponent%2Fsetup.md%20(1.1.0)&body=Share%20any%20feedback%20about%20this%20page%20%E2%80%94%20report%20issues%2C%20suggest%20improvements%2C%20or%20tell%20us%20what%E2%80%99s%20helpful.%0A%0AIf%20it%E2%80%99s%20an%20issue%3A%0A-%20What%E2%80%99s%20the%20issue%3F%20(e.g.%2C%20typo%2C%20incorrect%20information%2C%20unclear%20explanation)%0A-%20Where%20is%20it%3F%20(e.g.%2C%20section%20name%2C%20specific%20paragraph%2C%20or%20line)%0A%0AThank%20you%20for%20helping%20us%20improve!%20%F0%9F%9A%80%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20","tags":[],"version":"1.1.0","frontMatter":{"id":"setup","title":"Project Setup"},"sidebar":"Integrations","previous":{"title":"Overview","permalink":"/docs/customComponent/overview"},"next":{"title":"Project Structure","permalink":"/docs/customComponent/structure"}}'),o=t("85893"),r=t("50065"),s=t("47354");let d={id:"setup",title:"Project Setup"},c=void 0,l={},a=[{value:"Initial Setup",id:"initial-setup",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Project Initialization",id:"project-initialization",level:3},{value:"Installing Dependencies",id:"installing-dependencies",level:3},{value:"Configuring Environment",id:"configuring-environment",level:2},{value:"Run a Cloud Instance",id:"run-a-cloud-instance",level:3},{value:"Run a 4D Instance",id:"run-a-4d-instance",level:3},{value:"Dependencies Overview",id:"dependencies-overview",level:2},{value:"Production Dependencies",id:"production-dependencies",level:3},{value:"Development Dependencies",id:"development-dependencies",level:3},{value:"Development Workflow",id:"development-workflow",level:2},{value:"Running the Development Server",id:"running-the-development-server",level:3},{value:"Building the Project",id:"building-the-project",level:3},{value:"Generating a New Component",id:"generating-a-new-component",level:2}];function h(e){let n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return!s.ZP&&u("Column",!1),!s.ZP.Item&&u("Column.Item",!0),!s.ZP.List&&u("Column.List",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Qodly's API simplifies the creation of ",(0,o.jsx)(n.strong,{children:"Custom Components"})," using ",(0,o.jsx)(n.strong,{children:"React"})," through its dedicated CLI tool, ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@qodly/cli",children:(0,o.jsx)(n.strong,{children:"@qodly/cli"})}),". This API streamlines the initiation of the ",(0,o.jsx)(n.strong,{children:"React"})," project, allowing developers to build and share reusable custom components within the Qodly community, providing a user-friendly integration into Pages through a straightforward drag-and-drop mechanism."]}),"\n",(0,o.jsx)(n.h2,{id:"initial-setup",children:"Initial Setup"}),"\n",(0,o.jsx)(n.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,o.jsx)(n.p,{children:"Before setting up your React project, make sure your development environment meets the following prerequisites:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://nodejs.org/en/",children:"Node.js"})," version 20 or above."]}),"\n",(0,o.jsx)(n.li,{children:"npm version 10 or above."}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"project-initialization",children:"Project Initialization"}),"\n",(0,o.jsx)(n.p,{children:"Open your terminal and execute the following command to initiate a new project:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npx @qodly/cli init\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This command utilizes the ",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@qodly/cli",children:"Qodly CLI"})," tool to set up the initial project structure."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:'Follow the prompts to name your project, e.g., "qodly-example".'})}),"\n",(0,o.jsx)(n.h3,{id:"installing-dependencies",children:"Installing Dependencies"}),"\n",(0,o.jsx)(n.p,{children:'Navigate to the generated project folder (e.g., "qodly-example") using the terminal:'}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd /folderPath/qodly-example\n"})}),"\n",(0,o.jsx)(n.p,{children:"Then install the necessary npm dependencies:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm i\n"})}),"\n",(0,o.jsx)(n.h2,{id:"configuring-environment",children:"Configuring Environment"}),"\n",(0,o.jsx)(n.p,{children:"To ensure the smooth operation of the Standalone Page Editor, you can choose between running a Cloud instance or a 4D instance. Each setup has specific requirements for setting up and running your development environment."}),"\n",(0,o.jsx)(n.h3,{id:"run-a-cloud-instance",children:"Run a Cloud Instance"}),"\n",(0,o.jsx)(n.p,{children:"To utilize a Cloud instance of the Qodly platform, it's essential to configure environment variables that allow your custom components to communicate securely:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"API_KEY: Bound to the Administration port, crucial for accessing administrative features securely."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"PROXY_SERVER: Specifies the API endpoint, critical for connecting your application to the backend services."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"These variables should be set within environment configuration files located at the root of your project, adjacent to package.json. Here's how to do it:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Create Environment Files"}),": Depending on your deployment stage, you might have ",(0,o.jsx)(n.code,{children:".env.development"})," for development settings and ",(0,o.jsx)(n.code,{children:".env.production"})," for production settings."]}),"\n"]}),"\n",(0,o.jsx)("img",{src:t(48972).Z,style:{borderRadius:"6px"}}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Add Variables to the Files"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"API_SECURE= true\nAPI_KEY=<your_api_key>\nPROXY_SERVER=<your_proxy_server>\n"})}),"\n",(0,o.jsx)(n.p,{children:"Ensure to keep your API_KEY secure and never expose it in client-side code where unauthorized users could access it."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(s.ZP.List,{align:"center",justifyContent:"between",children:[(0,o.jsx)(s.ZP.Item,{width:"55%",children:(0,o.jsx)(n.p,{children:'Ensure the API_KEY is of type "Administration" to access administrative features securely. This key should never be exposed in client-side code to prevent unauthorized access.'})}),(0,o.jsx)(s.ZP.Item,{width:"40%",children:(0,o.jsx)("img",{src:t(48570).Z,style:{borderRadius:"6px"}})})]})}),"\n",(0,o.jsx)(n.h3,{id:"run-a-4d-instance",children:"Run a 4D Instance"}),"\n",(0,o.jsx)(n.p,{children:"To operate a 4D instance effectively, you need to run a 4D Web Server alongside your React project. Failing to do so can lead to connection issues that prevent the Page Editor from functioning correctly."}),"\n",(0,o.jsxs)(n.admonition,{type:"info",children:[(0,o.jsx)(n.p,{children:"If the 4D Web Server is not running, you might encounter the following error in your terminal:"}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"[vite] http proxy error: /rest/$catalog/$all\nError: connect ECONNREFUSED 127.0.0.1:7443\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1595:16)\n"})}),(0,o.jsx)(n.p,{children:"This error indicates that your local server setup is trying to connect to a 4D instance at 127.0.0.1:7443 but cannot establish a connection, resulting in the Standalone Page Editor not loading."})]}),"\n",(0,o.jsx)(n.h2,{id:"dependencies-overview",children:"Dependencies Overview"}),"\n",(0,o.jsx)(n.h3,{id:"production-dependencies",children:"Production Dependencies"}),"\n",(0,o.jsxs)(n.p,{children:["Below is an overview of the production dependencies listed in the ",(0,o.jsx)(n.code,{children:"package.json"})," file:"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Dependency"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@ws-ui/webform-editor"})}),(0,o.jsx)(n.td,{children:"Provides the Page Editor functionality for Qodly, allowing developers to create and edit Pages."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"react"})}),(0,o.jsx)(n.td,{children:"A JavaScript library for building user interfaces, used in the project for creating custom components."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"react-dom"})}),(0,o.jsx)(n.td,{children:"ReactDOM provides DOM-specific methods for React, enabling interaction with the DOM and rendering components."})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"development-dependencies",children:"Development Dependencies"}),"\n",(0,o.jsxs)(n.p,{children:["Below is an overview of the development dependencies listed in the ",(0,o.jsx)(n.code,{children:"package.json"})," file:"]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Dependency"}),(0,o.jsx)(n.th,{children:"Description"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@qodly/cli"})}),(0,o.jsxs)(n.td,{children:["Command-line interface tool for ",(0,o.jsx)(n.a,{href:"#project-initialization",children:"initializing"})," and managing Qodly projects."]})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@types/react"})}),(0,o.jsx)(n.td,{children:"TypeScript type definitions for React, providing type information for React when using TypeScript."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@types/react-dom"})}),(0,o.jsx)(n.td,{children:"TypeScript type definitions for ReactDOM, providing type information for ReactDOM when using TypeScript."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@typescript-eslint/eslint-plugin"})}),(0,o.jsx)(n.td,{children:"ESLint plugin for TypeScript, identifying and reporting patterns found in TypeScript code."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@typescript-eslint/parser"})}),(0,o.jsx)(n.td,{children:"TypeScript parser for ESLint, allowing ESLint to lint TypeScript code."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@vitejs/plugin-react-swc"})}),(0,o.jsx)(n.td,{children:"Vite plugin for React with SWC, facilitating fast web development with React. SWC is a JavaScript/TypeScript compiler."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"@ws-ui/webform-editor-standalone"})}),(0,o.jsx)(n.td,{children:"Standalone version of the Qodly Page editor, used for local development and testing."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"eslint"})}),(0,o.jsx)(n.td,{children:"ESLint is a linter tool for identifying and reporting patterns found in ECMAScript/JavaScript code."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"eslint-config-prettier"})}),(0,o.jsx)(n.td,{children:"ESLint configuration that turns off rules unnecessary or conflicting with Prettier."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"eslint-plugin-prettier"})}),(0,o.jsx)(n.td,{children:"ESLint plugin for Prettier, allowing ESLint to run Prettier as an ESLint rule."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"eslint-plugin-react-hooks"})}),(0,o.jsx)(n.td,{children:"ESLint plugin for React hooks, providing ESLint rules specific to React hooks."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"eslint-plugin-react-refresh"})}),(0,o.jsx)(n.td,{children:"ESLint plugin for React refresh, offering ESLint rules related to the React refresh feature."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"typescript"})}),(0,o.jsx)(n.td,{children:"TypeScript is a superset of JavaScript that adds static typing to the language."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"vite"})}),(0,o.jsx)(n.td,{children:"Vite is a fast web development build tool supporting modern JavaScript and React. Used for local development and builds."})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"development-workflow",children:"Development Workflow"}),"\n",(0,o.jsx)(n.h3,{id:"running-the-development-server",children:"Running the Development Server"}),"\n",(0,o.jsxs)(n.p,{children:["Launch Qodly Studio in local mode with only the ",(0,o.jsx)(n.strong,{children:"Standalone Page Editor"})," using the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm run dev\n"})}),"\n",(0,o.jsx)(n.p,{children:"Used when actively developing your project. It provides a local environment where you can make changes and test components."}),"\n",(0,o.jsx)(n.p,{children:"When you run npm run dev, it runs the server locally at:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Local: http://localhost:5001/\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The project utilizes ",(0,o.jsx)(n.strong,{children:"Vite"})," for rapid development and efficient serving of the project in dev mode."]}),"\n",(0,o.jsx)(n.h3,{id:"building-the-project",children:"Building the Project"}),"\n",(0,o.jsx)(n.p,{children:"Build your project for production using the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm run build\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Used to generate a production-ready build of your entire project, the build process creates a compressed folder named ",(0,o.jsx)(n.code,{children:"qodly_ID.zip"})," with a uniquely generated ID."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["The ID generated is established during the ",(0,o.jsx)(n.a,{href:"#project-initialization",children:"initialization of a new project"})," and remains consistent throughout the project's lifecycle. As a result, each execution of the build ensures that the ",(0,o.jsx)(n.code,{children:"qodly_ID.zip"})," folder contains the same generated ID."]})}),"\n",(0,o.jsxs)(n.p,{children:["Locate this compressed folder in your project directory, ready for drag-and-drop onto the ",(0,o.jsx)(n.a,{href:"/docs/studio/pageLoaders/components/uploadCustomComponents",children:"upload feature"})," in Qodly Studio for installation."]}),"\n",(0,o.jsx)(n.h2,{id:"generating-a-new-component",children:"Generating a New Component"}),"\n",(0,o.jsx)(n.p,{children:"Add a new component to your project with the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm run generate:component\n"})}),"\n",(0,o.jsx)(n.p,{children:"Follow the prompts to name the new component."}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:["A project can contain multiple custom components, as in a custom ",(0,o.jsx)(n.code,{children:"Chart"})," project with various components contributing to the final custom ",(0,o.jsx)(n.code,{children:"Chart"}),"."]})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"generate:component"})," command internally executes ",(0,o.jsx)(n.code,{children:"qodly new component"}),", which then generates the necessary files and folders for the component within the ",(0,o.jsx)(n.code,{children:"components"})," directory."]}),"\n",(0,o.jsx)(n.admonition,{type:"danger",children:(0,o.jsx)(n.p,{children:"Custom components must use unique names to avoid conflicts with Qodly Studio's built-in components. If a custom component shares the same name as a built-in component, the custom component will take precedence when dragged and dropped onto the Page editor."})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"components"})," directory serves as the repository for custom components:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"- components\n  - ExampleComponent\n      - ExampleComponent.build.tsx\n      - ExampleComponent.render.tsx\n      - ExampleComponent.settings.tsx\n      - ExampleComponent.config.tsx\n      - index.tsx\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"While developers have the flexibility to implement their initial component in their preferred manner, adhering to the suggested structure is recommended"})}),"\n",(0,o.jsxs)(n.p,{children:["Refer to the ",(0,o.jsx)(n.a,{href:"./structure#custom-component-repository",children:"custom component structure"})," section for detailed information."]})]})}function p(e={}){let{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}function u(e,n){throw Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},48570:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/APIAdministration-5f2156202eea258dc7606ff2d215d592.png"},48972:function(e,n,t){t.d(n,{Z:function(){return i}});let i=t.p+"assets/images/envDevelopment-b0863d1f46703b637de2c3e5ae251e0b.png"},47354:function(e,n,t){t.d(n,{ZP:function(){return d}});var i=t(85893),o=t(67294),r=t(67026);let s=e=>{let n="undefined"!=typeof window&&window.matchMedia(e),[t,i]=(0,o.useState)(n.matches);return(0,o.useEffect)(()=>(n.onchange=e=>i(e.matches),()=>n.onchange=null)),t},d={List:function(e){let{children:n,align:t="start",justifyContent:o="start"}=e;return(0,i.jsx)("div",{className:(0,r.Z)("flex flex-col lg:flex-row flex-wrap",{"items-start":"start"===t,"items-center":"center"===t,"items-end":"end"===t},{"justify-start":"start"===o,"justify-center":"center"===o,"justify-end":"end"===o,"justify-between":"between"===o,"justify-around":"around"===o,"justify-evenly":"evenly"===o}),children:n})},Item:function(e){let{children:n,width:t}=e,o=s("(max-width: 1024px)");return(0,i.jsx)("div",{className:(0,r.Z)({"flex-1":!t}),style:o?{}:{width:t},children:n})}}},50065:function(e,n,t){t.d(n,{Z:function(){return d},a:function(){return s}});var i=t(67294);let o={},r=i.createContext(o);function s(e){let n=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);