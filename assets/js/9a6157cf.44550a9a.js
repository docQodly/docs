"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[4206],{3905:(e,t,n)=>{n.d(t,{Zo:()=>c,kt:()=>k});var r=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var o=r.createContext({}),p=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},c=function(e){var t=p(e.components);return r.createElement(o.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,i=e.mdxType,a=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),u=p(n),m=i,k=u["".concat(o,".").concat(m)]||u[m]||d[m]||a;return n?r.createElement(k,s(s({ref:t},c),{},{components:n})):r.createElement(k,s({ref:t},c))}));function k(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=n.length,s=new Array(a);s[0]=m;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l[u]="string"==typeof e?e:i,s[1]=l;for(var p=2;p<a;p++)s[p]=n[p];return r.createElement.apply(null,s)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},89551:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>l,toc:()=>p});var r=n(87462),i=(n(67294),n(3905));const a={id:"$distinct",title:"$distinct"},s=void 0,l={unversionedId:"api/$distinct",id:"api/$distinct",title:"$distinct",description:"Functionality",source:"@site/docs/api/$distinct.md",sourceDirName:"api",slug:"/api/$distinct",permalink:"/docs/api/$distinct",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/api/$distinct.md",tags:[],version:"current",frontMatter:{id:"$distinct",title:"$distinct"},sidebar:"API",previous:{title:"$compute",permalink:"/docs/api/$compute"},next:{title:"$entityset",permalink:"/docs/api/$entityset"}},o={},p=[{value:"Functionality",id:"functionality",level:2},{value:"Definition",id:"definition",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Combining with Other Parameters",id:"combining-with-other-parameters",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Retrieve Distinct Values for a String Attribute",id:"retrieve-distinct-values-for-a-string-attribute",level:3},{value:"Retrieve Distinct Values with Pagination",id:"retrieve-distinct-values-with-pagination",level:3},{value:"Retrieve Distinct Values for a Numerical Attribute",id:"retrieve-distinct-values-for-a-numerical-attribute",level:3},{value:"Retrieve Distinct Values for an Object Attribute&#39;s Property",id:"retrieve-distinct-values-for-an-object-attributes-property",level:3},{value:"Best Practices",id:"best-practices",level:2}],c={toc:p};function u(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,r.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h2",{id:"functionality"},"Functionality"),(0,i.kt)("h3",{id:"definition"},"Definition"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$distinct")," endpoint enables you to return a collection containing the distinct values for a query on a specific attribute. You can specify only one attribute in the dataclass for this operation. This parameter works best with attributes of type String, but it can also be used with any attribute type that can contain multiple values."),(0,i.kt)("h3",{id:"syntax"},"Syntax"),(0,i.kt)("p",null,"To retrieve distinct values for an attribute, use the following format:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET /rest/{{dataClass}}/{{attribute}}?$filter="{{filterExpression}}"&$distinct=true\n')),(0,i.kt)("p",null,"You can also use ",(0,i.kt)("inlineCode",{parentName:"p"},"$skip")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$top/$limit")," parameters to navigate the selection before it's placed in an array."),(0,i.kt)("h2",{id:"combining-with-other-parameters"},"Combining with Other Parameters"),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"$distinct")," parameter can be combined with other parameters to refine the query:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$filter"),": Narrow down the data set before retrieving distinct values.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$orderby"),": Sort the distinct values before returning them.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$top/$limit")," and ",(0,i.kt)("strong",{parentName:"p"},"$skip"),": Limit the number of distinct records and skip a certain number of distinct records.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$expand"),": Include related data along with distinct values.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$attributes"),": Specify which attributes to include in the response with distinct values.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"$method=entityset"),": Create an entity set based on distinct results and save it in the server's cache."))),(0,i.kt)("h2",{id:"use-cases"},"Use Cases"),(0,i.kt)("h3",{id:"retrieve-distinct-values-for-a-string-attribute"},"Retrieve Distinct Values for a String Attribute"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET /rest/Users/Name?$filter="Name=J@"&$distinct=true\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Response:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'[\n    "John",\n    "James"\n]\n')),(0,i.kt)("h3",{id:"retrieve-distinct-values-with-pagination"},"Retrieve Distinct Values with Pagination"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'GET /rest/Users/Name?$filter="Name=J*"&$distinct=true&$skip=1&$top=1\n')),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Response:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'[\n    "John"\n]\n')),(0,i.kt)("h3",{id:"retrieve-distinct-values-for-a-numerical-attribute"},"Retrieve Distinct Values for a Numerical Attribute"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET /rest/Employee/salary?$distinct=true\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Response:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},"[\n    50000,\n    60000,\n    70000\n]\n")),(0,i.kt)("h3",{id:"retrieve-distinct-values-for-an-object-attributes-property"},"Retrieve Distinct Values for an Object Attribute's Property"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Request:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},"GET /rest/Employee/address.city?$distinct=true\n")),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Response:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},'[\n    "New York",\n    "Los Angeles",\n    "Chicago"\n]\n')),(0,i.kt)("h2",{id:"best-practices"},"Best Practices"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Specify Only Necessary Filters:")," Use the ",(0,i.kt)("inlineCode",{parentName:"p"},"$filter")," parameter to limit the dataset to relevant entries, which helps in optimizing performance and reducing payload size.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Combine with Pagination:")," Use ",(0,i.kt)("inlineCode",{parentName:"p"},"$skip")," and ",(0,i.kt)("inlineCode",{parentName:"p"},"$top/$limit")," to manage large result sets effectively and implement pagination.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Handle Errors Gracefully:")," Implement proper error handling to manage cases where the distinct operation cannot be performed or data cannot be retrieved."))))}u.isMDXComponent=!0}}]);