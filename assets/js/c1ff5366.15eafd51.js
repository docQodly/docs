"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([[4151],{3905:(e,a,t)=>{t.d(a,{Zo:()=>d,kt:()=>y});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function o(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?o(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),m=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},d=function(e){var a=m(e.components);return n.createElement(s.Provider,{value:a},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),u=m(t),c=r,y=u["".concat(s,".").concat(c)]||u[c]||p[c]||o;return t?n.createElement(y,i(i({ref:a},d),{},{components:t})):n.createElement(y,i({ref:a},d))}));function y(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=t.length,i=new Array(o);i[0]=c;var l={};for(var s in a)hasOwnProperty.call(a,s)&&(l[s]=a[s]);l.originalType=e,l[u]="string"==typeof e?e:r,i[1]=l;for(var m=2;m<o;m++)i[m]=t[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},129:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>l,toc:()=>m});var n=t(7462),r=(t(7294),t(3905));const o={id:"lang-arrays",title:"Arrays"},i=void 0,l={unversionedId:"concepts/lang-arrays",id:"concepts/lang-arrays",title:"Arrays",description:"An array is an ordered series of variables of the same type. Each variable is called an element of the array. An array is given its size when it is created; you can then resize it as many times as needed by adding, inserting, or deleting elements, or by resizing the array using the same command used to create it. Array elements are numbered from 1 to N, where N is the size of the array. An array always has a special element zero.",source:"@site/docs/concepts/lang-arrays.md",sourceDirName:"concepts",slug:"/concepts/lang-arrays",permalink:"/docs/concepts/lang-arrays",draft:!1,editUrl:"https://github.com/docQodly/docs/edit/main/docs/concepts/lang-arrays.md",tags:[],version:"current",frontMatter:{id:"lang-arrays",title:"Arrays"},sidebar:"Guides",previous:{title:"Variables",permalink:"/docs/concepts/lang-variables"},next:{title:"Methods",permalink:"/docs/concepts/lang-methods"}},s={},m=[{value:"Creating Arrays",id:"creating-arrays",level:2},{value:"Assigning values in arrays",id:"assigning-values-in-arrays",level:2},{value:"Assigning an array to another array",id:"assigning-an-array-to-another-array",level:3},{value:"Using the element zero of an array",id:"using-the-element-zero-of-an-array",level:2},{value:"Two-dimensional Arrays",id:"two-dimensional-arrays",level:2},{value:"Arrays and Memory",id:"arrays-and-memory",level:2}],d={toc:m};function u(e){let{components:a,...t}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"An ",(0,r.kt)("strong",{parentName:"p"},"array")," is an ordered series of ",(0,r.kt)("strong",{parentName:"p"},"variables")," of the same type. Each variable is called an ",(0,r.kt)("strong",{parentName:"p"},"element")," of the array. An array is given its size when it is created; you can then resize it as many times as needed by adding, inserting, or deleting elements, or by resizing the array using the same command used to create it. Array elements are numbered from 1 to N, where N is the size of the array. An array always has a special ",(0,r.kt)("a",{parentName:"p",href:"#using-the-element-zero-of-an-array"},"element zero"),". "),(0,r.kt)("p",null,"Arrays are variables. Like any variable, an array has a local scope and follows the rules of the Qodly language, though with some unique differences. "),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"In most cases, it is recommended to use ",(0,r.kt)("strong",{parentName:"p"},"collections")," instead of ",(0,r.kt)("strong",{parentName:"p"},"arrays"),". Collections are more flexible and provide a wide range of dedicated methods. For more information, please refer to the ",(0,r.kt)("a",{parentName:"p",href:"Concepts/dt_collection.md"},"Collection")," section.")),(0,r.kt)("h2",{id:"creating-arrays"},"Creating Arrays"),(0,r.kt)("p",null,"You create an array with one of the array declaration commands. Each array declaration command can create or resize one-dimensional or two-dimensional arrays. For more information about two-dimensional arrays, see the ",(0,r.kt)("a",{parentName:"p",href:"#two-dimensional-arrays"},"two dimensional arrays")," section."),(0,r.kt)("p",null,"The following line of code creates (declares) an Integer array of 10 elements:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"}," ARRAY INTEGER(aiAnArray,10)\n")),(0,r.kt)("p",null,"Then, the following code resizes that same array to 20 elements:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"},"ARRAY INTEGER(aiAnArray,20)\n")),(0,r.kt)("p",null,"Then, the following code resizes that same array to no elements:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"},"ARRAY INTEGER(aiAnArray,0)\n")),(0,r.kt)("h2",{id:"assigning-values-in-arrays"},"Assigning values in arrays"),(0,r.kt)("p",null,"You reference the elements in an array by using curly braces ({\u2026}). A number is used within the braces to address a particular element; this number is called the element number. The following lines put five names into the array called ",(0,r.kt)("em",{parentName:"p"},"atNames")," and then write them in a text variable, separated by /:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"},' var vText : Text\n ARRAY TEXT(atNames;5)\n atNames{1}="Richard"\n atNames{2}="Sarah"\n atNames{3}="Sam"\n atNames{4}="Jane"\n atNames{5}="John"\n For(vlElem,1,5)\n    vText=String(vlElem)+" "+atNames{vlElem}+"/")\n End for\n')),(0,r.kt)("p",null,"Note the syntax atNames{vlElem}. Rather than specifying a numeric literal such as atNames{3}, you can use a numeric variable to indicate which element of an array you are addressing. Using the iteration provided by a loop structure (",(0,r.kt)("inlineCode",{parentName:"p"},"For...End for"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Repeat...Until")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"While...End while"),"), compact pieces of code can address all or part of the elements in an array."),(0,r.kt)("h3",{id:"assigning-an-array-to-another-array"},"Assigning an array to another array"),(0,r.kt)("p",null,"Unlike text or string variables, you cannot assign one array to another. To copy (assign) an array to another one, use ",(0,r.kt)("inlineCode",{parentName:"p"},"COPY ARRAY"),"."),(0,r.kt)("h2",{id:"using-the-element-zero-of-an-array"},"Using the element zero of an array"),(0,r.kt)("p",null,"An array always has an element zero. There is no restriction in using it with the language, except that it is not included in the array size. You can set or get the value of the element zero of an array:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"},'ARRAY TEXT(atName,2)\natName{0}="Array of names"\natName{1}="Smith" \natName{2}="Wesson" \n...\n')),(0,r.kt)("h2",{id:"two-dimensional-arrays"},"Two-dimensional Arrays"),(0,r.kt)("p",null,"Each of the array declaration commands can create or resize one-dimensional or two-dimensional arrays. Example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-4d"}," ARRAY TEXT(atTopics,100,50) // Creates a text array composed of 100 rows of 50 columns\n")),(0,r.kt)("p",null,"Two-dimensional arrays are essentially language objects; you can neither display nor print them."),(0,r.kt)("p",null,"In the previous example:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"atTopics")," is a two-dimensional array"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"atTopics{8}{5}")," is the 5th element (5th column...) of the 8th row"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"atTopics{20}")," is the 20th row and is itself a one-dimensional array"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Size of array(atTopics)")," returns 100, which is the number of rows"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Size of array(atTopics{17})")," returns 50, which the number of columns for the 17th row")),(0,r.kt)("p",null,"Rows of a two-dimensional arrays can be the same size or different sizes."),(0,r.kt)("h2",{id:"arrays-and-memory"},"Arrays and Memory"),(0,r.kt)("p",null,"Unlike the data you store in the database, an array is always held in memory in its entirety."),(0,r.kt)("p",null,"For example, if all US zip codes were entered in a ",(0,r.kt)("inlineCode",{parentName:"p"},"ZipCodes")," dataclass, it would contain about 100,000 entities. In addition, that dataclass would include several attributes: the zip code itself and the corresponding city, county, and state. If you select only the zip codes from California, the database engine creates the corresponding entity selection within the ZipCodes dataclass, and then loads the entities only when they are needed (i.e., when they are used, displayed or printed). In order words, you work with an ordered series of values (of the same type for each attribute) that is partially loaded from the datastore into the memory by the database engine of Qodly."),(0,r.kt)("p",null,"Doing the same thing with arrays would be prohibitive for the following reasons:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"In order to maintain the four information types (zip code, city, county, state), you would have to maintain four large arrays in memory."),(0,r.kt)("li",{parentName:"ul"},"Because an array is always held in memory in its entirety, you would have to keep all the zip codes information in memory throughout the whole working session, even though the data is not always in use."),(0,r.kt)("li",{parentName:"ul"},"Again, because an array is always held in memory in its entirety, each time the application is started and then quit, the four arrays would have to be loaded and then saved on the disk, even though the data is not used or modified during the working session.")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Conclusion:")," Arrays are intended to hold reasonable amounts of data for a short period of time. On the other hand, because arrays are held in memory, they are easy to handle and quick to manipulate."),(0,r.kt)("p",null,"However, in some circumstances, you may need to work with arrays holding hundreds or thousands of elements. The following table lists the formulas used to calculate the amount of memory used for each array type:"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Array Type"),(0,r.kt)("th",{parentName:"tr",align:null},"Formula for determining Memory Usage in Bytes"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Blob"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 12 + Sum of the size of each blob")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Boolean"),(0,r.kt)("td",{parentName:"tr",align:null},"(31+number of elements)\\8")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Date"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 6")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Integer"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Long Integer"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Object"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 8 + Sum of the size of each object")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Picture"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 8 + Sum of the size of each picture")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Real"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 8")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Text"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) ",(0,r.kt)("em",{parentName:"td"}," 20 + (Sum of the length of each text) ")," 2")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Time"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 4")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"Two-dimensional"),(0,r.kt)("td",{parentName:"tr",align:null},"(1+number of elements) * 16 + Sum of the size of each array")))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Notes:")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The size of a text in memory is calculated using this formula: ((Length + 1) * 2)"),(0,r.kt)("li",{parentName:"ul"},"A few additional bytes are required to keep track of the selected element, the number of elements, and the array itself.")))}u.isMDXComponent=!0}}]);