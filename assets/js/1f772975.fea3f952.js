"use strict";(self.webpackChunkqodly=self.webpackChunkqodly||[]).push([["3471"],{2375:function(e,t,n){n.r(t),n.d(t,{metadata:()=>i,contentTitle:()=>a,default:()=>o,assets:()=>d,toc:()=>c,frontMatter:()=>l});var i=JSON.parse('{"id":"api/$savedfilter","title":"$savedfilter","description":"Functionality","source":"@site/versioned_docs/version-1.0.0/api/$savedfilter.md","sourceDirName":"api","slug":"/api/$savedfilter","permalink":"/docs/api/$savedfilter","draft":false,"unlisted":false,"editUrl":"https://github.com/docQodly/docs/edit/main/versioned_docs/version-1.0.0/api/$savedfilter.md","tags":[],"version":"1.0.0","frontMatter":{"id":"$savedfilter","title":"$savedfilter"},"sidebar":"API","previous":{"title":"$querypath","permalink":"/docs/api/$querypath"},"next":{"title":"$savedorderby","permalink":"/docs/api/$savedorderby"}}'),r=n("85893"),s=n("50065");let l={id:"$savedfilter",title:"$savedfilter"},a=void 0,d={},c=[{value:"Functionality",id:"functionality",level:2},{value:"Definition",id:"definition",level:3},{value:"Syntax",id:"syntax",level:3},{value:"Supported Formats",id:"supported-formats",level:3},{value:"Detailed Behavior",id:"detailed-behavior",level:2},{value:"Using the <code>$savedfilter</code> Parameter",id:"using-the-savedfilter-parameter",level:3},{value:"Combining with Other Parameters",id:"combining-with-other-parameters",level:2},{value:"Use Cases",id:"use-cases",level:2},{value:"Creating an Entity Set with a Saved Filter",id:"creating-an-entity-set-with-a-saved-filter",level:3},{value:"Retrieving an Entity Set with a Saved Filter",id:"retrieving-an-entity-set-with-a-saved-filter",level:3},{value:"Recreating an Entity Set After Timeout",id:"recreating-an-entity-set-after-timeout",level:3},{value:"Best Practices",id:"best-practices",level:2}];function h(e){let t={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"functionality",children:"Functionality"}),"\n",(0,r.jsx)(t.h3,{id:"definition",children:"Definition"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"$savedfilter"})," endpoint allows you to save the filter defined by ",(0,r.jsx)(t.code,{children:"$filter"})," when creating an entity set. This ensures that even if the entity set is removed from the server's cache, it can be recreated with the same filter."]}),"\n",(0,r.jsx)(t.h3,{id:"syntax",children:"Syntax"}),"\n",(0,r.jsx)(t.p,{children:"To save a filter when creating an entity set, use the following format:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'GET /rest/{{dataClass}}?$filter="{{filterExpression}}"&$savedfilter="{{filterExpression}}"&$method=entityset\n'})}),"\n",(0,r.jsx)(t.p,{children:"To retrieve the entity set with the saved filter:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'GET /rest/{{dataClass}}/$entityset/{{entitySetID}}?$savedfilter="{{filterExpression}}"\n'})}),"\n",(0,r.jsx)(t.h3,{id:"supported-formats",children:"Supported Formats"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"$savedfilter"})," parameter accepts a filter expression that matches the one used in ",(0,r.jsx)(t.code,{children:"$filter"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"detailed-behavior",children:"Detailed Behavior"}),"\n",(0,r.jsxs)(t.h3,{id:"using-the-savedfilter-parameter",children:["Using the ",(0,r.jsx)(t.code,{children:"$savedfilter"})," Parameter"]}),"\n",(0,r.jsx)(t.p,{children:"When an entity set is created with a saved filter, the following occurs:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The filter is stored with the entity set."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"If the entity set is removed from the cache, it can be recreated using the saved filter."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"The new default timeout for the recreated entity set is 10 minutes."}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"combining-with-other-parameters",children:"Combining with Other Parameters"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.code,{children:"$savedfilter"})," parameter can be combined with other parameters to enhance and secure the filtering of entity sets:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$filter"}),": Define the initial filter criteria and save it using ",(0,r.jsx)(t.code,{children:"$savedfilter"})," for consistency in future requests."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$orderby"}),": Combine with ",(0,r.jsx)(t.code,{children:"$savedorderby"})," to save and apply sorting criteria along with the filter."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$top/$limit"})," and ",(0,r.jsx)(t.strong,{children:"$skip"}),": Navigate through the filtered entity set while maintaining the saved filter."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$expand"}),": Include related data in the filtered results, ensuring the filter criteria are consistently applied."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$attributes"}),": Specify which attributes to include in the filtered results, preserving the filter criteria."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$method=entityset"}),": Create an entity set with a saved filter, allowing for consistent retrieval of filtered data."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$compute"}),": Apply computations on the filtered dataset while ensuring the filter criteria are maintained."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$entityset"}),": Use the saved filter when accessing entity sets to maintain the filtering consistency."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$queryplan"}),": Analyze the query plan for the saved filter to understand and optimize its performance."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"$querypath"}),": Trace the execution path of the query with the saved filter to identify optimization opportunities."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"use-cases",children:"Use Cases"}),"\n",(0,r.jsx)(t.h3,{id:"creating-an-entity-set-with-a-saved-filter",children:"Creating an Entity Set with a Saved Filter"}),"\n",(0,r.jsx)(t.p,{children:"To create an entity set and save the filter:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Request:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'GET /rest/People?$filter="employer.name=Apple"&$savedfilter="employer.name=Apple"&$method=entityset\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Response:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "__ENTITYSET": "/rest/People/$entityset/CC6B48EDBFD64CD694F8EFBFC93F73FC",\n    "__DATACLASS": "People",\n    "__entityModel": "People",\n    "__GlobalStamp": 0,\n    "__COUNT": 13,\n    "__FIRST": 0,\n    "__ENTITIES": [ ... ],\n    "__SENT": 13\n}\n'})}),"\n",(0,r.jsx)(t.h3,{id:"retrieving-an-entity-set-with-a-saved-filter",children:"Retrieving an Entity Set with a Saved Filter"}),"\n",(0,r.jsx)(t.p,{children:"To retrieve the entity set using the saved filter:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Request:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'GET /rest/People/$entityset/CC6B48EDBFD64CD694F8EFBFC93F73FC?$savedfilter="employer.name=Apple"\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Response:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-json",children:'{\n    "__DATACLASS": "People",\n    "__entityModel": "People",\n    "__GlobalStamp": 0,\n    "__COUNT": 13,\n    "__FIRST": 0,\n    "__ENTITIES": [ ... ],\n    "__SENT": 13\n}\n'})}),"\n",(0,r.jsx)(t.h3,{id:"recreating-an-entity-set-after-timeout",children:"Recreating an Entity Set After Timeout"}),"\n",(0,r.jsx)(t.p,{children:"If the entity set is removed from the cache due to timeout, it can be recreated with the saved filter:"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.strong,{children:"Request:"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'GET /rest/People/$entityset/CC6B48EDBFD64CD694F8EFBFC93F73FC?$savedfilter="employer.name=Apple"\n'})}),"\n",(0,r.jsx)(t.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Always Save Critical Filters:"})," Save important filters to ensure entity sets can be recreated if they are removed from the cache."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Monitor Entity Set Usage:"})," Regularly check the status of entity sets and recreate them as needed using saved filters."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Combine with $savedorderby:"})," Use ",(0,r.jsx)(t.code,{children:"$savedorderby"})," along with ",(0,r.jsx)(t.code,{children:"$savedfilter"})," to maintain consistent ordering when recreating entity sets."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Set Appropriate Timeouts:"})," Use the ",(0,r.jsx)(t.code,{children:"$timeout"})," parameter to control the lifespan of cached entity sets and avoid unintentional deletions."]}),"\n"]}),"\n"]})]})}function o(e={}){let{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},50065:function(e,t,n){n.d(t,{Z:function(){return a},a:function(){return l}});var i=n(67294);let r={},s=i.createContext(r);function l(e){let t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);